import{j as n,r as d}from"./react-CGBVqcy-.js";import{g as Ue}from"./ohm-js-o5RsQ8tt.js";import{c as K,l as ze,i as We,o as qe,t as Ve,p as He,a as Z,r as J,u as S,T as b,B as Ge,b as V,K as Xe,M as Ke,d as Ze,L as Ie,C as Ne,e as ke,S as j,f as Je,P as Ce,g as Qe,A as et,h as tt,j as rt,k as nt,m as ve,n as Ee,q as ae,s as ot,v as st,w as ye,x as at,y as it,z as lt,D as we,E as ct,F as z,R as Ae,G as ie,H as be,I as Oe,J as ut,N as Pe,O as pt,Q as dt,U as ht,V as ft,W as mt,X as xt,Y as gt,Z as yt,_ as bt,$ as Tt,a0 as vt,a1 as jt,a2 as Rt,a3 as le,a4 as wt,a5 as $t,a6 as St,a7 as It,a8 as Nt,a9 as kt,aa as Ct,ab as Et,ac as M,ad as At,ae as Ot}from"./@mui-DA_2rrjT.js";import{u as Pt,L as ce,a as pe,b as de,c as Lt,d as _t,R as Dt}from"./react-router-Cv0C_Jh2.js";import{u as T,i as Bt}from"./react-i18next-B0lNVwxa.js";import{L as Ft,G as ue,Z as Mt,T as Yt}from"./@visx-Bg9-U0a4.js";import{k as Ut}from"./katex-DvRmkopC.js";import{h as zt}from"./d3-hierarchy-B72UHu4D.js";import{i as Wt}from"./i18next-Bj_xwTXi.js";import{B as qt}from"./i18next-browser-languagedetector-Dt8Tv9E6.js";import{B as Vt}from"./i18next-http-backend-CBFgclZj.js";import{c as Ht}from"./react-dom-D8eTnHID.js";import"./classnames-DHUZR2-n.js";import"./@emotion-DoMzSQb3.js";import"./hoist-non-react-statics-mLZj6LgC.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-CwwdUX_-.js";import"./@popperjs-FRdid3Df.js";import"./react-is-CofOpdII.js";import"./cookie--_YQFYBD.js";import"./prop-types-CZ1f4sS1.js";import"./@use-gesture-CYhkdCkN.js";import"./d3-shape-rFcaQ0O8.js";import"./d3-path-BevWroqt.js";import"./scheduler-DScgqB4t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var p=(e=>(e.IFF="IFF",e.IMPL="IMPL",e.AND="AND",e.OR="OR",e.NOT="NOT",e))(p||{}),i=(e=>(e.CONST="CONSTANT",e.IDEN="IDEN",e.UNARY="UNARY",e.BINARY="BINARY",e))(i||{});const te=(e,t,r)=>{let o={nodeType:i.BINARY,operator:e,left:t,right:r[0]};for(let s=1;s<r.length;s++)o={nodeType:i.BINARY,operator:e,left:o,right:r[s]};return o},Le=Ue(String.raw`
BooleanExpressions {
  Expression
    = Iff 

  Iff
    = Implies (iff_sym Implies)*

  Implies
    = Or (implies_sym Or)*

  Or
    = And (or_sym And)*

  And
    = Not (and_sym Not)*

  Not
    = not_sym Not                   --not
    | Primary

  Primary
    = "(" Expression ")" --group
    | true_sym    --lit_true
    | false_sym   --lit_false
    | identifier  --variable

  identifier
    = letter
  
  iff_sym 
    = "iff"
    | "⇔"
  
  implies_sym 
    = "implies"
    | "⇒"
  
  or_sym
    = "or"
    | "∨"

  and_sym
    = "and"
    | "∧"
  
  not_sym
    = "not"
    | "¬"

  true_sym
    = "⊤"
    | "T"
    | "1"

  false_sym
    = "⊥"
    | "F"
    | "0"
}
`),_e=Le.createSemantics();_e.addOperation("buildTree",{Expression(e){return e.buildTree()},Iff(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:te(p.IFF,o,s)},Implies(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:te(p.IMPL,o,s)},Or(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:te(p.OR,o,s)},And(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:te(p.AND,o,s)},Not_not(e,t){return{nodeType:i.UNARY,operator:p.NOT,operand:t.buildTree()}},Primary_group(e,t,r){return t.buildTree()},Primary_lit_true(e){return{nodeType:i.CONST,value:!0}},Primary_lit_false(e){return{nodeType:i.CONST,value:!1}},Primary_variable(e){return{nodeType:i.IDEN,symbol:e.sourceString}},identifier(e){return this.sourceString},_iter(...e){return e.map(t=>t.buildTree())}});const he=e=>{const t=Le.match(e);return t.succeeded()?{ok:!0,tree:_e(t).buildTree()}:{ok:!1}},y=e=>({nodeType:i.UNARY,operator:p.NOT,operand:e}),B=(e,t,r)=>({nodeType:i.BINARY,operator:e,left:t,right:r}),$=(e,t)=>B(p.AND,e,t),w=(e,t)=>B(p.OR,e,t),L=(e,t)=>B(p.IMPL,e,t),Gt=(e,t)=>B(p.IFF,e,t),N=e=>({nodeType:i.CONST,value:e}),E=e=>{switch(e.nodeType){case i.CONST:return String(e.value);case i.IDEN:return e.symbol;case i.UNARY:{let t=E(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${e.operator} ${t}`}case i.BINARY:{let t=E(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=E(e.right);return e.right.nodeType===i.BINARY&&(r=`( ${r} )`),`${t} ${e.operator} ${r}`}}},W=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const t=W(e.operand);return y(t)}case i.BINARY:{const t=W(e.left),r=W(e.right);switch(e.operator){case p.IFF:return $(w(y(t),r),w(y(r),t));case p.IMPL:return w(y(t),r);case p.AND:return $(t,r);case p.OR:return w(t,r)}}}},P=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const{operand:t}=e;switch(t.nodeType){case i.CONST:return N(!t.value);case i.IDEN:return e;case i.UNARY:return P(t.operand);case i.BINARY:{const r=t.operator===p.AND?p.OR:p.AND;return P(B(r,y(t.left),y(t.right)))}}break}case i.BINARY:{const t=P(e.left),r=P(e.right);if(e.operator===p.AND)return $(t,r);if(r.nodeType===i.BINARY&&r.operator===p.AND){const o=P(w(t,r.left)),s=P(w(t,r.right));return $(o,s)}if(t.nodeType===i.BINARY&&t.operator===p.AND){const o=P(w(t.left,r)),s=P(w(t.right,r));return $(o,s)}return w(t,r)}}},Xt=e=>{const t=[...e];if(t.every(s=>s.nodeType===i.CONST&&!s.value))return new Set([N(!1)]);if(t.some(s=>s.nodeType===i.CONST&&s.value))return new Set([N(!0)]);const r=new Set,o=new Set;for(const s of t)switch(s.nodeType){case i.IDEN:{if(o.has(E(y(s))))return new Set([N(!0)]);const a=E(s);o.has(a)||(o.add(a),r.add(s));break}case i.UNARY:{if(o.has(E(s.operand)))return new Set([N(!0)]);const a=E(s);o.has(a)||(o.add(a),r.add(s))}}return r},Y=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:case i.UNARY:t.add(new Set([e]));break;case i.BINARY:{if(e.operator===p.AND){Y(e.left,t),Y(e.right,t);return}const r=new Set;Y(e.left,r),Y(e.right,r);const o=new Set;r.forEach(s=>{s.forEach(a=>{o.add(a)})}),t.add(Xt(o));break}}},Kt=e=>{if(e.size===0)return N(!1);const t=[...e];let r=t[0];for(const o of t.slice(1))r=w(r,o);return r},De=e=>{const t=new Set;Y(P(W(e)),t);const r=[...t].map(a=>Kt(a));if(console.debug(E(W(e))),r.length===0||r.some(a=>a.nodeType===i.CONST&&!a.value))return N(!1);if(r.every(a=>a.nodeType===i.CONST&&a.value))return N(!0);let o;const s=new Set;for(const a of r){if(a.nodeType===i.IDEN){if(s.has(E(y(a))))return N(!1);s.add(a.symbol)}if(a.nodeType===i.UNARY){if(s.has(a.operand.symbol))return N(!1);s.add(E(a))}o===void 0?o=a:o=$(o,a)}return o},Zt=new Map([[p.NOT,"\\lnot"],[p.AND,"\\land"],[p.OR,"\\lor"],[p.IMPL,"\\implies"],[p.IFF,"\\iff"]]),H=e=>Zt.get(e)??"",_=e=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.value}}`;case i.IDEN:return e.symbol;case i.UNARY:{let t=_(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${H(e.operator)} ${t}`}case i.BINARY:{let t=_(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=_(e.right);e.right.nodeType===i.BINARY&&(r=`( ${r} )`);const o=H(e.operator);return`${t} ${o} ${r}`}}},Jt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",expressions:[]};const o=[];for(const a of r.split(",")){const l=he(a);o.push(l.ok?{ok:!0,normalizedTree:De(l.tree),originalTree:l.tree,inputInterpretationLatex:_(l.tree),inputRaw:a.trim()}:{ok:!1,inputRaw:a.trim()})}return{userInput:r,expressions:o}},Qt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",expressions:[]};const o=[];for(const a of r.split(",")){const l=he(a);o.push(l.ok?{ok:!0,inputRaw:a.trim(),tree:l.tree,inputInterpretationLatex:_(l.tree)}:{ok:!1,inputRaw:a.trim()})}return{userInput:r.trim(),expressions:o}},er=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case i.IDEN:t.add(o.symbol);break;case i.UNARY:r.push(o.operand);break;case i.BINARY:r.push(o.left),r.push(o.right);break}}return[...t].toSorted((o,s)=>o.localeCompare(s))},tr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",symbols:[],items:[]};const o=new Set,s=[];for(const l of r.split(",")){const c=he(l);if(!c.ok){s.push({inputRaw:l.trim(),ok:!1});continue}const{tree:u}=c;er(u).forEach(m=>o.add(m)),s.push({ok:!0,inputRaw:l.trim(),inputInterpretationLatex:_(u),tree:u})}return{userInput:r,items:s,symbols:[...o].toSorted((l,c)=>l.localeCompare(c))}},rr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=he(a);if(!l.ok){o.push({ok:!1,inputRaw:a});continue}o.push({ok:!0,inputRaw:a,originalTree:l.tree,inputInterpretationLatex:_(l.tree)})}return{userInput:r,items:o}},nr=K({primary:{main:ze[300]},contrastThreshold:9,tonalOffset:.5}),Be=K({primary:{main:We[200]},tonalOffset:.47,contrastThreshold:9}),Fe=K({primary:{main:qe[200]},tonalOffset:.47,contrastThreshold:9}),Me=K({primary:{main:Ve[200]},tonalOffset:.5,contrastThreshold:9}),Ye=K({primary:{main:He[200]},tonalOffset:.47,contrastThreshold:9});let Te=Z({palette:nr});Te=J(Te);const or=Te,sr=J(Z({palette:Me})),ar=J(Z({palette:Be})),ir=J(Z({palette:Fe})),lr=J(Z({palette:Ye})),cr=["evaluator","comparator","checker","rewriter"],fe=()=>{const{t:e}=T("nav"),{palette:t}=S(),{pathname:r}=Pt();return n.jsxs(d.Fragment,{children:[n.jsx(b,{component:ce,to:"/",sx:{color:t.primary.dark,textTransform:"capitalize",textDecorationLine:"none"},children:e("home")}),cr.map((o,s)=>{const a=`/${o}`,l=a.localeCompare(r)===0?900:void 0;return n.jsx(b,{component:ce,to:a,sx:{color:t.primary.dark,textTransform:"capitalize",fontWeight:l,textDecorationLine:"none"},children:e(o)},"item"+s)})]})},v=e=>{const{sx:t,children:r,options:o}=e,s=d.useRef(null);return d.useEffect(()=>{s.current!==null&&window.renderMathInElement(s.current,{strict:!1,output:"html",delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],...o})},[r,s,o]),n.jsx(b,{ref:s,sx:{...t,"& .katex-display > .katex":{whiteSpace:"normal"}},children:r})},ur=e=>{const{options:t,onClick:r}=e,{palette:o}=S(),[s,a]=d.useState(!1),[l,c]=d.useState(t[0]),u=d.useRef(null);return n.jsxs(d.Fragment,{children:[n.jsxs(Ge,{ref:u,variant:"contained",disableElevation:!0,disableRipple:!0,color:"primary",children:[n.jsx(V,{onClick:()=>r(l.value),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(v,{sx:{textTransform:"none",fontFamily:"monospace"},children:`${l.label}`})}),n.jsx(V,{onClick:()=>a(!0),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(Xe,{sx:{transition:"transform 0.2s ease",transform:s?"rotate(180deg)":"rotate(0deg)"}})})]}),n.jsx(Ke,{open:s,anchorEl:u.current,onClose:()=>a(!1),onClick:()=>a(!1),children:t.map((m,x)=>{const h=m.label===l.label;return n.jsxs(Ze,{disableRipple:!0,selected:h,onClick:()=>c(m),sx:{padding:2},children:[n.jsx(Ie,{children:h&&n.jsx(Ne,{})}),n.jsx(ke,{disableTypography:!0,children:n.jsx(v,{sx:{fontFamily:"monospace"},children:`${m.label}`})})]},"option"+x)})})]})},pr=[{label:"$\\texttt{not}$",value:"not"},{label:"$\\texttt{and}$",value:"and"},{label:"$\\texttt{or}$",value:"or"},{label:"$\\texttt{implies}$",value:"implies"},{label:"$\\texttt{iff}$",value:"iff"}],dr=[{label:"$\\mathbf{\\lnot}$",value:"¬"},{label:"$\\mathbf{\\land}$",value:"∧"},{label:"$\\mathbf{\\lor}$",value:"∨"},{label:"$\\mathbf{\\implies}$",value:"⇒"},{label:"$\\mathbf{\\iff}$",value:"⇔"}],hr=e=>{const{onClick:t}=e;return n.jsx(j,{flexDirection:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,children:pr.map((r,o)=>n.jsx(ur,{onClick:s=>t(s),options:[dr[o],r]},"insert-btn-text"+o))})},fr=e=>{const{placeholder:t,value:r,onChange:o,onSubmit:s}=e,{palette:a}=S(),{t:l}=T("components",{keyPrefix:"editor"}),c=d.useRef(null),[u,m]=d.useState(!1),[x,h]=d.useState(0),[f,g]=d.useState(0),R=C=>{if(c.current===null)return;const O=r.slice(0,x),ee=r.slice(f);o(`${O}${C}${ee}`),h(`${O}${C}`.length),g(`${O}${C}`.length)},A=C=>{const O=C.target;h(O.selectionStart??0),g(O.selectionEnd??0)};return n.jsxs(j,{spacing:1,children:[n.jsx(hr,{onClick:R}),n.jsx(Je,{inputRef:c,fullWidth:!0,multiline:!0,rows:5,value:r,placeholder:t,onChange:C=>o(C.target.value),slotProps:{input:{sx:{fontFamily:"monospace"}},htmlInput:{autoCapitalize:"off",spellCheck:"false",onSelect:A}}}),n.jsxs(j,{spacing:1,useFlexGap:!0,flexWrap:"wrap",direction:"row",children:[n.jsx(V,{disableElevation:!0,disableRipple:!0,disabled:r.trim().length===0,variant:"contained",startIcon:n.jsx(Ce,{}),onClick:s,sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l("run")}),n.jsx(V,{disableElevation:!0,disableRipple:!0,startIcon:u?n.jsx(Ne,{}):n.jsx(Qe,{}),variant:"contained",onClick:()=>{navigator.clipboard.writeText(r),m(!0),setTimeout(()=>{m(!1)},1e3)},sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l(u?"copied":"copy")})]})]})},me=d.memo(fr,(e,t)=>e.value===t.value&&e.onSubmit===t.onSubmit),D=e=>{const{children:t,severity:r}=e,{t:o}=T("components",{keyPrefix:"alert"});return n.jsxs(et,{severity:r,children:[n.jsx(tt,{sx:{fontWeight:900},children:o("notice")}),t]})},xe=e=>{const{items:t}=e,{t:r}=T("components",{keyPrefix:"input-display"});return n.jsxs(j,{spacing:1,children:[t.map((o,s)=>{const a=s+1;return o.ok?n.jsx(v,{children:`$$${o.inputInterpretationLatex} \\tag{${a}}$$`},"expr"+s):n.jsx(v,{sx:{color:({palette:l})=>l.error.main},children:`$$\\varnothing \\tag{${a}}$$`},"expr"+s)}),t.some(o=>!o.ok)&&n.jsxs(D,{severity:"warning",children:[n.jsx(b,{children:r("warnings.the-following-input-are-invalid")}),n.jsx(rt,{children:t.map((o,s)=>{if(o.ok)return null;const a=s+1;return n.jsxs(nt,{children:[n.jsx(Ie,{children:n.jsx(b,{children:`(${a})`})}),n.jsx(ke,{disableTypography:!0,children:o.inputRaw.length===0?n.jsx(b,{fontStyle:"italic",children:r("empty-string")}):n.jsx(b,{fontFamily:"monospace",children:o.inputRaw})})]},"invalid-input"+s)})})]})]})},mr=e=>{const{result:t,originalLatex:r}=e,{t:o}=T("views",{keyPrefix:"checker-view.cards.output"});return t.nodeType===i.CONST&&t.value?n.jsx(v,{children:o("formula-is-tautology",{formula:`$$${r}$$`})}):t.nodeType===i.CONST&&!t.value?n.jsx(v,{children:o("formula-is-contradiction",{formula:`$$${r}$$`})}):n.jsx(v,{children:o("formula-is-satisfiable",{formula:`$$${r}$$`})})},G=e=>{const{primary:t,secondary:r}=e,[o,s]=d.useState(!1),a=()=>{s(l=>!l)};return n.jsxs(ve,{variant:"outlined",children:[n.jsx(Ee,{disableRipple:!0,disableTouchRipple:!0,onClick:a,children:n.jsx(ae,{children:t})}),n.jsx(ot,{in:o,children:r})]})},xr=(e,t)=>{const r=[],o=1<<e;for(let s=0;s<o;s++){const a=s.toString(2).padStart(e,"0"),l=new Map;for(let c=0;c<e;c++)l.set(t[c],a[c]==="0");r.push(l)}return r},je=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case i.CONST:break;case i.IDEN:t.add(o.repr);break;case i.UNARY:r.push(o.child);break;case i.BINARY:r.push(o.left),r.push(o.right);break}}return t},q=(e,t=null)=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.repr}}`;case i.IDEN:return t!==null&&t.has(e.repr)?t.get(e.repr):e.repr;case i.UNARY:{const r=q(e.child,t);return e.child.nodeType===i.BINARY?`${e.repr} ( ${r} )`:`${e.repr} ${r}`}case i.BINARY:{let r=q(e.left,t);e.left.nodeType===i.BINARY&&(r=`( ${r} )`);let o=q(e.right,t);return e.right.nodeType===i.BINARY&&(o=`( ${o} )`),`${r} ${e.repr} ${o}`}}},k=e=>q(e),$e=(e,t)=>q(e,t),re=(e,t,r,o)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:return;case i.UNARY:{const s=$e(e,o);if(r.has(s))return;r.add(s),re(e.child,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}case i.BINARY:{const s=$e(e,o);if(r.has(s))return;r.add(s),re(e.left,t,r,o),re(e.right,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}}},gr=e=>{const t=[],r=new Set,o=new Map;for(const s of je(e))o.set(s,s.length>=5?`${s.slice(0,5)}\\ldots`:s);return re(e,t,r,o),t},yr=e=>{const{value:t}=e,{t:r}=T(),{palette:o}=S(),s=t?o.primary.light:st(o.primary.light,.6);return n.jsx(ye,{align:"center",sx:{backgroundColor:s,color:o.primary.dark},children:n.jsx(b,{children:r(t?"common.true":"common.false")})})},Se=d.memo(yr,(e,t)=>e.value===t.value),br=e=>{const{exprTree:t,slotProps:r}=e,{t:o}=T("components",{keyPrefix:"truth-table"}),{palette:s}=S(),[a,l]=d.useState(!1),c=gr(t),u=[...je(t)];u.sort();const m=u.length>3&&!a?[]:xr(u.length,u);return u.length>3&&!a?n.jsxs(j,{spacing:1,padding:1,children:[n.jsx(D,{severity:"warning",children:o("warnings.large-truth-table-can-slow-application-down")}),n.jsx(V,{disableElevation:!0,disableRipple:!0,onClick:()=>l(!0),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light,width:"fit-content"},children:o("warnings.confirm")})]}):n.jsx(at,{sx:r.container,children:n.jsxs(it,{stickyHeader:!0,children:[n.jsx(lt,{children:n.jsxs(we,{children:[u.map((x,h)=>n.jsx(ye,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(v,{children:`$${x}$`})},"sym"+h)),c.map((x,h)=>n.jsx(ye,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(v,{children:`$${x.label}$`})},"subexpr"+h))]})}),n.jsx(ct,{children:m.map((x,h)=>n.jsxs(we,{children:[u.map((f,g)=>n.jsx(Se,{value:x.get(f)||!1},"sym"+g)),c.map((f,g)=>n.jsx(Se,{value:f.eval(x)},"col"+g))]},"perm"+h))})]})})},ge=d.memo(br,(e,t)=>k(e.exprTree)===k(t.exprTree)),Tr={[p.AND]:(e,t)=>r=>e(r)&&t(r),[p.OR]:(e,t)=>r=>e(r)||t(r),[p.IMPL]:(e,t)=>r=>!e(r)||t(r),[p.IFF]:(e,t)=>r=>e(r)===t(r)},ne=(e,t)=>{const{nodeType:r}=e;switch(r){case i.CONST:return{eval:()=>e.value,nodeType:r,order:t+1,repr:String(e.value)};case i.IDEN:return{eval:s=>s.get(e.symbol)??!1,nodeType:r,order:t+1,repr:e.symbol};case i.UNARY:{const o=ne(e.operand,t);return{repr:H(e.operator),child:o,nodeType:r,eval:a=>!o.eval(a),order:o.order+1}}case i.BINARY:{const o=ne(e.left,t),s=ne(e.right,o.order);return{nodeType:r,eval:Tr[e.operator](o.eval,s.eval),left:o,right:s,order:s.order+1,repr:H(e.operator)}}}},X=e=>ne(e,0),vr=e=>{const{formulas:t}=e,{t:r}=T("views",{keyPrefix:"checker-view.cards.output"});return t.filter(o=>o.ok).length===0?n.jsx(D,{severity:"info",children:n.jsx(b,{children:r("warnings.no-formula-to-display")})}):n.jsx(d.Fragment,{children:t.map((o,s)=>{if(!o.ok)return null;const a=X(o.originalTree);return n.jsx(G,{primary:n.jsx(mr,{result:o.normalizedTree,originalLatex:o.inputInterpretationLatex}),secondary:n.jsx(ge,{exprTree:a,slotProps:{container:{maxHeight:"40vh"}}})},"verdict"+s)})})},Q=e=>{const{appHeader:t,banner:r,children:o}=e,{palette:s}=S();return n.jsxs(d.Fragment,{children:[n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:4,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:2},children:t}),n.jsx(z,{paddingX:{xs:2,md:0},paddingY:4,sx:{backgroundColor:s.primary.light,color:s.primary.dark,alignItems:"center"},children:n.jsx(b,{variant:"h1",fontWeight:900,fontFamily:"monospace",textTransform:"capitalize",maxWidth:"lg",marginX:{xs:0,md:"auto"},sx:{textWrap:"balance",whiteSpace:"normal",overflowWrap:"break-word",hyphens:"auto"},children:r})}),n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:8,children:o})]})},jr=()=>{const{expressions:e,userInput:t}=pe(),r=de(),{t:o}=T("views",{keyPrefix:"checker-view"}),{typography:s}=S(),[a,l]=d.useState(t);d.useEffect(()=>{l(t)},[t]);const c=()=>{r({input:a},{method:"GET",action:"/checker"})};return n.jsx(Q,{appHeader:n.jsx(fe,{}),banner:o("banner"),children:n.jsxs(j,{spacing:8,children:[n.jsx(me,{value:a,onChange:l,placeholder:"p or not p, not q and q, p implies q",onSubmit:c}),e.length>0&&n.jsxs(j,{spacing:2,children:[n.jsx(b,{fontWeight:900,fontSize:s.h3.fontSize,children:o("cards.input-interpretation.title")}),n.jsx(xe,{items:e}),n.jsx(b,{fontWeight:900,fontSize:s.h3.fontSize,children:o("cards.output.title")}),n.jsx(vr,{formulas:e})]})]})})};function*Rr(e){let t=0;const r=1<<e.length;for(;t<r;){const o=new Map,s=t.toString(2).padStart(e.length,"0");for(let a=0;a<r;a++)o.set(e[a],s[a]==="1");yield o,t++}}const wr=e=>{const t=je(e),r=Rr([...t]);for(const o of r)if(!e.eval(o))return!1;return!0},$r=()=>{const{expressions:e,userInput:t}=pe(),r=de(),{t:o}=T("views",{keyPrefix:"comparator-view"}),s=S(),[a,l]=d.useState(t),[c,u]=d.useState(()=>{for(const[f,g]of e.entries())if(g.ok)return f;return null});d.useEffect(()=>{l(t)},[t]),d.useEffect(()=>{for(const[f,g]of e.entries())if(g.ok){u(f);return}u(null)},[e]);const m=()=>{r({input:a},{method:"GET",action:"/comparator"})},x=d.useMemo(()=>e.filter(f=>f.ok),[e]),h=d.useMemo(()=>{if(c===null)return null;const f=e.at(c);return f===void 0||!f.ok?null:f},[c,e]);return n.jsx(Q,{appHeader:n.jsx(fe,{}),banner:o("banner"),children:n.jsxs(j,{spacing:8,children:[n.jsx(me,{value:a,onChange:l,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:m}),e.length>0&&n.jsxs(j,{spacing:2,children:[n.jsx(b,{fontWeight:900,fontSize:s.typography.h3.fontSize,sx:{color:s.palette.primary.dark},children:o("cards.input-interpretation.title")}),n.jsx(xe,{items:e}),n.jsx(b,{fontWeight:900,fontSize:s.typography.h3.fontSize,sx:{color:s.palette.primary.dark},children:o("cards.output.title")}),x.length<=1&&n.jsx(D,{severity:"warning",children:n.jsx(b,{children:o("cards.output.warnings.not-enough-formula-for-comparison")})}),c!==null&&x.length>1&&n.jsx(Ae,{value:c,onChange:(f,g)=>u(Number.parseInt(g)),children:e.map((f,g)=>{if(!f.ok)return null;const R=f.inputInterpretationLatex;return n.jsx(ie,{control:n.jsx(be,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:g,label:n.jsx(v,{children:`$$${R}$$`}),slotProps:{typography:{width:"100%"}}},"main-expr-option"+g)})}),h!==null&&c!==null&&x.length>1&&e.map((f,g)=>{if(!f.ok||g===c)return null;const R=X(Gt(h.tree,f.tree)),A=wr(R),C=c+1,O=g+1,ee=h.inputInterpretationLatex,Re=f.inputInterpretationLatex;return n.jsx(G,{primary:A?n.jsx(v,{children:o("cards.output.formulas-are-equivalent",{first:`$$${ee} \\tag{${C}}$$`,second:`$$${Re} \\tag{${O}}$$`})}):n.jsx(v,{children:o("cards.output.formulas-are-not-equivalent",{first:`$$${ee} \\tag{${C}}$$`,second:`$$${Re} \\tag{${O}}$$`})}),secondary:n.jsx(ge,{exprTree:R,slotProps:{container:{maxHeight:"40vh"}}})},"comparison-pair"+g)})]})]})})},Sr=()=>{const e=Lt(),{t}=T("views",{keyPrefix:"error-view"});return n.jsx(z,{maxWidth:"md",marginX:{xs:2,md:"auto"},paddingY:2,children:n.jsxs(ve,{variant:"outlined",children:[n.jsx(Oe,{title:t("title"),slotProps:{title:{fontWeight:900}}}),n.jsx(ut,{disableSpacing:!0,children:n.jsx(b,{component:ce,to:"/",color:"primary",sx:{textDecorationLine:"none","&:hover":{textDecorationLine:"underline"}},children:t("return-home")})}),n.jsx(ae,{children:n.jsx(b,{fontFamily:"monospace",color:"error",component:"pre",children:JSON.stringify(e,null,4)})})]})})},F=e=>{const{children:t,onKeyPress:r,onClick:o,title:s,disabled:a}=e;return n.jsx(Pe,{title:n.jsx(b,{children:s}),children:n.jsx("span",{children:n.jsx(pt,{disableRipple:!0,disabled:a,onClick:o,onKeyDown:r,children:t})})})},Ir=e=>{const{value:t,maxValue:r,minValue:o,onChange:s,isAnimationPlaying:a,onAnimationPause:l,onAnimationPlay:c,onAnimationReplay:u}=e,{t:m}=T("translation",{keyPrefix:"playground.playback"}),x=()=>{t>=r||s(t+1)},h=()=>{t<=o||s(t-1)};return n.jsxs(j,{children:[n.jsx(dt,{valueLabelDisplay:"auto",onChange:(f,g)=>s(g),value:t,max:r,min:o,step:1}),n.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(F,{disabled:t<=o,title:"Previous",onClick:h,children:n.jsx(ht,{})}),t===r&&n.jsx(F,{title:"Replay",onClick:u,children:n.jsx(ft,{})}),t!==r&&a&&n.jsx(F,{title:"Pause",onClick:l,children:n.jsx(mt,{})}),t!==r&&!a&&n.jsx(F,{title:"Play",onClick:c,children:n.jsx(Ce,{})}),n.jsx(F,{disabled:t>=r,title:m("forward"),onClick:x,children:n.jsx(xt,{})}),n.jsx(b,{children:`${t}/${r}`})]})]})},Nr=d.memo(Ir,(e,t)=>["value","maxValue","minValue","isAnimationPlaying"].every(o=>e[o]===t[o])),kr=e=>{const{children:t,onClick:r,title:o}=e;return n.jsx(gt,{size:"medium",color:"primary",onClick:r,sx:{position:"absolute",left:16,bottom:16},children:n.jsx(Pe,{placement:"right",title:n.jsx(b,{children:o}),children:t})})},Cr=e=>{const{link:t,order:r}=e,{palette:o}=S(),{source:s,target:a}=t,l=s.data.order<=r,c=a.data.order<=r,u=a.data.order<=r+1,m=c||u,x=l&&m;return n.jsx(Ft,{data:t,stroke:o.primary.light,visibility:x?"visible":"hidden",strokeOpacity:m?"0.6":"0.3",strokeWidth:"5",fill:"none"})},Er=e=>{const{r:t,order:r,node:o,symbolTable:s}=e,{t:a}=T(),{x:l,y:c,data:u}=o,{palette:m,typography:x}=S(),h=d.useRef(null);d.useEffect(()=>{h.current!==null&&(h.current.innerHTML=Ut.renderToString(u.repr).replaceAll("span","tspan"))},[h,u.repr]);const f=u.order===r,g=u.order<=r,R=u.order<=r+1,A=g||R;return n.jsxs(ue,{top:c,left:l,opacity:g?1:.5,visibility:A?"visible":"hidden",children:[n.jsx("circle",{strokeWidth:f?5:0,stroke:m.primary.dark,strokeOpacity:.8,r:t,fill:m.primary.light}),n.jsx("text",{ref:h,fontSize:x.body1.fontSize,fill:m.primary.contrastText,dy:"0.33rem",textAnchor:"middle",pointerEvents:"none",style:{userSelect:"none"}}),n.jsxs(ue,{transform:`translate(${t/3}, ${t/3})`,visibility:u.order<r?"visible":"hidden",children:[n.jsx("rect",{width:60,height:30,rx:5,ry:5,fill:m.primary.light}),n.jsx("text",{x:"30",y:"22",textAnchor:"middle",pointerEvents:"none",fill:m.primary.contrastText,style:{userSelect:"none"},children:u.eval(s)?a("common.true"):a("common.false")})]})]})},Ar=e=>{const{tree:t,order:r,symbolTable:o}=e,{t:s}=T(),a=d.useRef(null),l=zt(t,f=>{switch(f.nodeType){case i.CONST:return null;case i.IDEN:return null;case i.UNARY:return[f.child];case i.BINARY:return[f.left,f.right]}}),c=a.current===null?0:a.current.getBoundingClientRect().width,u=a.current===null?0:a.current.getBoundingClientRect().height,m=(l.leaves().length+1)*150,x=(l.height+1)*100,h=30;return n.jsx(z,{ref:a,width:"100%",height:"100%",position:"relative",children:n.jsx(Mt,{width:c,height:u,scaleXMin:1/10,scaleXMax:1,scaleYMin:1/10,scaleYMax:1,children:f=>n.jsxs(d.Fragment,{children:[n.jsx("svg",{width:c,height:u,ref:f.containerRef,style:{touchAction:"none",cursor:f.isDragging?"grabbing":"grab"},onMouseDown:f.dragStart,onMouseMove:f.dragMove,onMouseUp:f.dragEnd,onMouseLeave:f.dragEnd,children:n.jsx(ue,{transform:f.toString(),children:n.jsx(Yt,{root:l,size:[m,-x],children:g=>n.jsxs(ue,{top:x+h*1.5,children:[g.links().map((R,A)=>n.jsx(Cr,{order:r,link:R},`link-${A}`)),g.descendants().map((R,A)=>n.jsx(Er,{order:r,node:R,symbolTable:o,r:h},`node-${A}`))]})})})}),n.jsx(kr,{onClick:f.center,title:s("playground.graph.center"),children:n.jsx(yt,{})})]})})})},Or=d.memo(Ar,(e,t)=>{if(e.order!==t.order||k(e.tree).localeCompare(k(t.tree))!==0)return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Pr=e=>{const{exprTree:t,symbolTable:r,slotProps:o}=e,[s,a]=d.useState(1),[l,c]=d.useState(1),[u,m]=d.useState(!1),x=d.useRef(null),h=d.useRef(u),f=d.useRef(s);return d.useEffect(()=>{h.current=u},[u]),d.useEffect(()=>{f.current=s},[s]),d.useEffect(()=>(u&&(x.current=setInterval(()=>{h.current&&a(g=>g<l?g+1:(m(!1),h.current=!1,g))},750)),()=>clearInterval(x.current??void 0)),[u,l,s]),d.useEffect(()=>{a(1),c(t.order+1)},[t]),n.jsxs(j,{spacing:1,children:[n.jsx(bt,{variant:"outlined",sx:o.container,children:n.jsx(Or,{order:s,tree:t,symbolTable:r})}),n.jsx(Nr,{maxValue:l,minValue:1,value:s,onChange:a,isAnimationPlaying:u,onAnimationPause:()=>{m(!1)},onAnimationPlay:()=>{m(!0)},onAnimationReplay:()=>{a(1),m(!0)}})]})},oe=(e,t,r)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:{const o=e.eval(t),s=e.repr;r.push({repr:s,evaluated:o,substitutions:[{repr:s,evaluated:o,stepRef:!1,substituted:`\\text{${o}}`}],connective:null})}break;case i.UNARY:{const{child:o}=e,s=o.eval(t);let a=!1;o.nodeType!==i.CONST&&o.nodeType!==i.IDEN&&(oe(o,t,r),a=r.length);const l=[];o.nodeType!==i.CONST&&l.push({repr:k(o),evaluated:s,stepRef:a,substituted:`\\lnot \\text{${s}}`}),r.push({repr:k(e),substitutions:l,evaluated:e.eval(t),connective:e.repr})}break;case i.BINARY:{const{right:o,left:s}=e,a=s.eval(t),l=`\\text{${a}}`;let c=!1;s.nodeType!==i.CONST&&s.nodeType!==i.IDEN&&(oe(s,t,r),c=r.length);const u=o.eval(t),m=k(o),x=o.nodeType===i.BINARY?`( ${m} )`:m,h=`\\text{${u}}`;let f=!1;o.nodeType!==i.CONST&&o.nodeType!==i.IDEN&&(oe(o,t,r),f=r.length);const g=[];s.nodeType!==i.CONST&&g.push({repr:k(s),evaluated:a,stepRef:c,substituted:`${l} ${e.repr} ${x}`}),o.nodeType!==i.CONST&&g.push({repr:m,evaluated:u,stepRef:f,substituted:`${l} ${e.repr} ${h}`}),r.push({repr:k(e),evaluated:e.eval(t),substitutions:g,connective:e.repr})}break}},Lr=(e,t)=>{const r=[];return oe(e,t,r),r},_r=e=>{const{subStep:t,references:r,subStepIndex:o,stepIndex:s}=e,a=String.fromCharCode(o+97),l=String.fromCharCode(o+97+1),{t:c}=T("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),{substituted:u,evaluated:m,repr:x,stepRef:h}=t;if(h===!1)return n.jsx(v,{children:c("given-variable-is-value",{variable:`$${x}$`,formula:`$$${u}.\\tag{${s}.${l}}$$`,value:c(m?"true":"false")})});const f=r[h-1].repr;return n.jsx(v,{children:c("from-previous-step-substitute-into-formula",{step:`$\\text{(${h}.a)}$`,formula:`$$${f}$$`,value:c(m?"true":"false"),current:`$\\text{(${s}.${a})}$`,result:`$$${u}.\\tag{${s}.${l}}$$`})})},Dr=e=>{const{step:t,stepIndex:r,references:o}=e,{evaluated:s,repr:a,substitutions:l,connective:c}=t,{t:u}=T("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),m=`${r}.a`;return n.jsxs(j,{spacing:1,children:[n.jsx(b,{fontWeight:900,children:u("step-x-of-y",{current:r,total:o.length})}),n.jsx(v,{children:u("consider-the-formula",{formula:`$$${a}.\\tag{${m}}$$`})}),l.map((x,h)=>n.jsx(_r,{stepIndex:r,subStepIndex:h,subStep:x,references:o},"sub-step"+r+h)),n.jsx(v,{children:u("by-truth-table-formula-is-value",{operator:`$${c}$`,formula:`$(${m})$`,value:u(s?"true":"false")})})]})},Br=e=>{const{exprTree:t,symbolTable:r}=e,{t:o}=T("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),s=d.useMemo(()=>Lr(t,r),[t,r]);if(s.length===0)return n.jsx(b,{fontStyle:"italic",children:o("no-evaluation-step-to-display")});const{evaluated:a,repr:l}=s.at(-1);return n.jsxs(j,{spacing:2,children:[n.jsx(Pr,{exprTree:t,symbolTable:r,slotProps:{container:{height:{xs:"50vh",md:"66vh"}}}}),s.map((c,u)=>n.jsx(Dr,{step:c,stepIndex:u+1,references:s},"step"+u)),n.jsx(v,{children:o("therefore-formula-is-value",{formula:`$$${l}$$`,value:o(a?"true":"false")})})]})},Fr=d.memo(Br,(e,t)=>{if(k(e.exprTree)!==k(t.exprTree))return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Mr=e=>{const{items:t,symbolTable:r}=e,{t:o}=T("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),[s,a]=d.useState(()=>t.findIndex(c=>c.ok));return d.useEffect(()=>{a(t.findIndex(c=>c.ok))},[t]),d.useMemo(()=>t.filter(c=>c.ok),[t]).length===0?n.jsx(D,{severity:"info",children:n.jsx(b,{children:o("infos.no-valid-formula-to-display")})}):n.jsxs(Tt,{value:s,children:[n.jsx(vt,{onChange:(c,u)=>a(Number.parseInt(u)),variant:"scrollable",scrollButtons:"auto",textColor:"inherit",sx:{paddingX:0},children:t.map((c,u)=>c.ok?n.jsx(jt,{value:u,disableRipple:!0,label:o("tab-item",{num:u+1})},"tab"+u):null)}),t.map((c,u)=>c.ok?n.jsx(Rt,{value:u,sx:{padding:0},children:n.jsx(Fr,{exprTree:c.tree,symbolTable:r})},"tab-panel"+u):null)]})},Yr=e=>{const{value:t,onChange:r}=e,{t:o}=T("components",{keyPrefix:"symbol-config"}),s=d.useMemo(()=>[...t.keys()].toSorted((a,l)=>a.localeCompare(l)),[t]);return s.length===0?null:n.jsx(le,{container:!0,width:"100%",sx:{maxHeight:400,overflowY:"auto"},children:s.map(a=>n.jsx(le,{size:{xs:12,md:4},children:n.jsxs(wt,{fullWidth:!0,children:[n.jsx($t,{children:n.jsx(v,{children:`$${a}$`})}),n.jsxs(Ae,{row:!0,value:t.get(a)?"1":"0",onChange:(l,c)=>r(a,c==="1"),children:[n.jsx(ie,{disableTypography:!0,control:n.jsx(be,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"1",label:n.jsx(b,{children:o("true")})}),n.jsx(ie,{control:n.jsx(be,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"0",disableTypography:!0,label:n.jsx(b,{children:o("false")})})]})]})},"symbol-"+a))})},Ur=e=>{const{items:t,symbolTable:r,onSymbolChange:o}=e,{typography:s}=S(),{t:a}=T("views",{keyPrefix:"evaluator-view.cards"}),l=d.useMemo(()=>t.filter(c=>c.ok),[t]);return n.jsxs(j,{spacing:2,children:[n.jsx(b,{fontWeight:900,fontSize:s.h3.fontSize,children:a("input-interpretation.title")}),n.jsx(xe,{items:t}),n.jsx(b,{fontWeight:900,fontSize:s.h3.fontSize,children:a("output.title")}),n.jsx(Yr,{value:r,onChange:o}),l.length===0&&n.jsx(D,{severity:"info",children:n.jsx(b,{children:a("output.infos.no-valid-formula-to-display")})}),l.length>0&&t.map((c,u)=>{if(!c.ok)return null;const m=X(c.tree),x=c.inputInterpretationLatex,h=m.eval(r);return n.jsx(G,{primary:n.jsx(v,{children:a("output.formula-evaluates-to-value",{formula:`$$${x}$$`,value:a(h?"output.true":"output.false")})}),secondary:n.jsx(ge,{exprTree:m,slotProps:{container:{maxHeight:"40vh"}}})},"output-item"+u)}),n.jsx(b,{fontWeight:900,fontSize:s.h3.fontSize,children:a("step-by-step.title")}),n.jsx(Mr,{symbolTable:r,items:t.map(c=>c.ok?{ok:!0,tree:X(c.tree)}:{ok:!1})})]})},zr=()=>{const{items:e,userInput:t,symbols:r}=pe(),o=de(),{t:s}=T("views",{keyPrefix:"evaluator-view"}),[a,l]=d.useState(t),[c,u]=d.useState(()=>{const h=new Map;for(const f of r)h.set(f,!0);return h});d.useEffect(()=>{l(t)},[t]),d.useEffect(()=>{const h=new Map;for(const f of r)h.set(f,!0);u(h)},[r]);const m=d.useCallback(()=>{o({input:a},{method:"GET",action:"/evaluator"})},[o,a]),x=d.useCallback((h,f)=>{u(g=>{const R=new Map(g);return R.set(h,f),R})},[]);return n.jsx(Q,{appHeader:n.jsx(fe,{}),banner:s("banner"),children:n.jsxs(j,{spacing:8,children:[n.jsx(me,{value:a,onChange:l,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:m}),e.length>0&&n.jsx(Ur,{symbolTable:c,items:e,onSymbolChange:x})]})})},Wr=[{id:"evaluator",icon:n.jsx(St,{fontSize:"inherit"}),palette:Me},{id:"comparator",icon:n.jsx(It,{fontSize:"inherit"}),palette:Fe},{id:"checker",icon:n.jsx(Nt,{fontSize:"inherit"}),palette:Be},{id:"rewriter",icon:n.jsx(kt,{fontSize:"inherit"}),palette:Ye}],qr=["en","th"],Vr=()=>{const{t:e,i18n:t}=T("views",{keyPrefix:"home-view"}),r=S();return n.jsx(Q,{banner:e("boolean-algebra-interpreter"),appHeader:n.jsx(j,{useFlexGap:!0,flexDirection:"row",flexWrap:"wrap",spacing:2,justifyContent:"flex-end",width:"100%",children:qr.map((o,s)=>{const a=o.localeCompare(t.language)===0?900:void 0;return n.jsx(b,{fontWeight:a,onClick:()=>t.changeLanguage(o),sx:{cursor:"pointer",textTransform:"capitalize"},children:e(`lang.${o}`)},"lang"+s)})}),children:n.jsx(le,{container:!0,columns:{xs:1,md:2},spacing:4,children:Wr.map(({id:o,icon:s,palette:a},l)=>{const c=`/${o}`,u=e(`card.${o}.title`),m=e(`card.${o}.desc`),{light:x,dark:h}=a.primary;return n.jsx(le,{size:1,children:n.jsx(ve,{elevation:0,sx:{height:"100%",backgroundColor:x,color:h,transition:"all 0.2s ease-out","&:hover":{boxShadow:20}},children:n.jsxs(Ee,{disableRipple:!0,component:ce,to:c,sx:{padding:2,height:"100%"},children:[n.jsx(ae,{sx:{padding:{xs:2,md:4},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(b,{sx:{fontSize:r.typography.h1.fontSize},children:s})}),n.jsx(Oe,{title:u,slotProps:{title:{sx:{fontWeight:900,textTransform:"capitalize"}}}}),n.jsx(ae,{children:n.jsx(b,{children:m})})]})})},"card"+l)})})})},se=new Map,I=(e,t,r)=>{se.has(e)||se.set(e,[]),se.get(e).push({isApplicable:t,rewrite:r})};I(p.IFF,(e,t)=>[p.NOT,p.AND,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return w($(t,r),$(y(t),y(r)))});I(p.IFF,(e,t)=>[p.NOT,p.OR,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(w(y(L(t,r)),y(L(r,t))))});I(p.IFF,(e,t)=>[p.AND,p.NOT].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y($(y($(t,r)),y($(y(t),y(r)))))});I(p.IFF,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return w(y(w(y(t),y(r))),y(w(t,r)))});I(p.IFF,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(L(L(t,r),y(L(t,r))))});I(p.IMPL,(e,t)=>[p.NOT,p.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y($(t,y(r)))});I(p.IMPL,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return w(y(t),r)});I(p.AND,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(w(y(t),y(r)))});I(p.AND,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(L(t,y(r)))});I(p.OR,(e,t)=>[p.NOT,p.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y($(y(t),y(r)))});I(p.OR,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return L(y(t),r)});I(p.OR,(e,t)=>!t.has(p.IMPL)||e.nodeType!==i.BINARY?!1:e.left.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return L(t.operand,r)});I(p.OR,(e,t)=>!t.has(p.IMPL)||e.nodeType!==i.BINARY?!1:e.right.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return L(r.operand,t)});const Hr=e=>se.get(e)??[],U=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const r=U(e.operand,t);return r===null?null:r.nodeType===i.UNARY&&r.operator===p.NOT?r.operand:y(r)}case i.BINARY:{const r=U(e.left,t);if(r===null)return null;const o=U(e.right,t);if(o===null)return null;if(t.has(e.operator))return B(e.operator,r,o);const s=Hr(e.operator);for(const a of s)if(a.isApplicable(e,t))return U(a.rewrite(B(e.operator,r,o)),t);return null}}},Gr=(e,t)=>{const r=De(e);if(r.nodeType===i.CONST||r.nodeType===i.IDEN)return{ok:!0,tree:r};const o=U(e,t);return o===null?{ok:!1}:{ok:!0,tree:o}},Xr=e=>{const{result:t,originalLatex:r}=e,{t:o}=T("views",{keyPrefix:"rewriter-view.cards.output"});return t.ok?n.jsx(G,{primary:n.jsx(v,{children:o("formula-is-expressed-as-in-the-desired-basis",{formula:`$$${r}$$`,result:`$$${t.latex}$$`})}),secondary:n.jsx(ge,{exprTree:t.tree,slotProps:{container:{maxHeight:"40vh"}}})}):n.jsx(G,{primary:n.jsx(v,{children:o("formula-cannot-be-expressed-in-the-desired-basis",{formula:`$$${r}$$`})}),secondary:n.jsx(D,{severity:"info",children:n.jsx(b,{children:o("infos.truth-table-is-not-available")})})})},Kr=e=>{const{items:t,basis:r,onBasisChange:o}=e,{t:s}=T("views",{keyPrefix:"rewriter-view.cards"}),{typography:a}=S(),l=d.useMemo(()=>t.filter(c=>c.ok),[t]);return n.jsxs(j,{spacing:2,children:[n.jsx(b,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(xe,{items:t}),n.jsx(b,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length===0&&n.jsx(D,{severity:"info",children:n.jsx(b,{children:s("output.warnings.no-valid-formula-to-display")})}),l.length>0&&n.jsxs(d.Fragment,{children:[n.jsx(Ct,{row:!0,children:Object.values(p).map((c,u)=>n.jsx(ie,{checked:r.has(c),onChange:(m,x)=>o(c,x),control:n.jsx(Et,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0}),label:n.jsx(v,{children:`$${H(c)}$`})},"operator"+u))}),t.map((c,u)=>{if(!c.ok)return null;const m=Gr(c.originalTree,r);return n.jsx(Xr,{originalLatex:c.inputInterpretationLatex,result:m.ok?{ok:!0,tree:X(m.tree),latex:_(m.tree)}:{ok:!1}},"result"+u)})]})]})},Zr=()=>{const{userInput:e,items:t}=pe(),r=de(),{t:o}=T("views",{keyPrefix:"rewriter-view"}),[s,a]=d.useState(e),[l,c]=d.useState(()=>{const h=new Map;for(const f of Object.values(p))h.set(f,!0);return h}),u=d.useMemo(()=>new Set([...l.entries()].filter(([,h])=>h).map(([h])=>h)),[l]);d.useEffect(()=>{a(e)},[e]);const m=d.useCallback(()=>{r({input:s},{method:"GET",action:"/rewriter"})},[r,s]),x=d.useCallback((h,f)=>{c(g=>{const R=new Map(g);return R.set(h,f),R})},[]);return n.jsx(Q,{banner:o("banner"),appHeader:n.jsx(fe,{}),children:n.jsxs(j,{spacing:8,children:[n.jsx(me,{value:s,onChange:a,placeholder:"not (p and q) iff (not p or not q)",onSubmit:m}),t.length>0&&n.jsx(Kr,{basis:u,items:t,onBasisChange:x})]})})},Jr=n.jsx(Ot,{styles:{tableLayout:"auto",borderCollapse:"collapse",html:{scrollBehavior:"smooth"}}}),Qr=_t([{index:!0,element:n.jsx(Vr,{})},{path:"/",errorElement:n.jsx(Sr,{}),children:[{path:"/evaluator",element:n.jsx(M,{theme:sr,children:n.jsx(zr,{})}),loader:tr},{path:"/comparator",element:n.jsx(M,{theme:ir,children:n.jsx($r,{})}),loader:Qt},{path:"/checker",element:n.jsx(M,{theme:ar,children:n.jsx(jr,{})}),loader:Jt},{path:"/rewriter",element:n.jsx(M,{theme:lr,children:n.jsx(Zr,{})}),loader:rr}]}],{basename:"/"}),en=()=>n.jsxs(M,{theme:or,children:[n.jsx(At,{}),Jr,n.jsx(Dt,{router:Qr})]}),tn={"truth-table":{warnings:{"large-truth-table-can-slow-application-down":"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.",confirm:"I understand"}},editor:{run:"Run",copy:"Copy",copied:"Copied"},alert:{notice:"Notice"},"input-display":{"empty-string":"Empty",warnings:{"the-following-input-are-invalid":"The following expressions appear to be invalid or incorrect."}},"symbol-config":{true:"True",false:"False"}},rn={home:"Home",solver:"Solver",evaluator:"Evaluator",rewriter:"Rewriter",checker:"Tautology checker",comparator:"Comparator"},nn={translation:{component:{playground:{config:{true:"True",false:"False",editTruthValue:"Modify propositions"}},common:{editor:{run:{label:"Run"}}}},view:{solver:{truthTable:{title:"Truth Table"},stepByStep:{title:"Step-by-step Evaluation"},graph:{title:"Step-by-step"},feedback:{noExpression:"No expression to display. Evaluate one to see how it's interpreted!"},howToUse:{title:"Not sure where to begin?",link:"Read the Manual"}}},common:{proposition:"Proposition",truthValue:"Truth value",true:"T",false:"F",close:"Close",connectives:{negation:"Negation",conjunction:"Conjunction",disjunction:"Disjunction",implication:"Implication",equivalence:"Equivalence"}},editor:{originalPanel:"Original",simplifiedPanel:"Simplified",howToUse:"How to use?",run:"Run",allowedOperatorLabel:"Connectives to keep"},playground:{feedback:{dialogInfo:"Tap on a circle to modify the truth value of the expression."},graph:{noEvaluationToDisplay:"No evaluation step to display. Evaluate an expression to see steps here.",cannotDisplayEvaluation:"Cannot display evaluation step. Please check the expression and try again.",center:"Center Graph"},playback:{forward:"Forward",rewind:"Rewind"}}}},on={"error-view":{title:"Uh oh, that's not good...","return-home":"Return to home page"},"evaluator-view":{banner:"Evaluator",cards:{"input-interpretation":{title:"Input interpretation"},output:{true:"true",false:"false",title:"Result","formula-evaluates-to-value":"The formula {{formula}} evaluates to {{value}}.",infos:{"no-valid-formula-to-display":"There is no valid formula to display."}},"step-by-step":{true:"true",false:"false",title:"Step-by-step Evaluation","tab-item":"Expression ({{num}})","no-evaluation-step-to-display":"No evaluation step to display.","therefore-formula-is-value":"Therefore, the formula {{formula}} is {{value}}.","step-x-of-y":"Step {{current}} of {{total}}","by-truth-table-formula-is-value":"By the truth table of {{operator}}, {{formula}} is {{value}}.","consider-the-formula":"Consider the formula {{formula}}","given-variable-is-value":"Given {{variable}} is true, substitute {{variable}} with true in {{formula}}","from-previous-step-substitute-into-formula":"From {{step}}, {{formula}} is {{value}}. Substitute into {{current}} to obtain {{result}}",infos:{"no-valid-formula-to-display":"There is no valid formula to display step-by-step evaluation."}}}},"rewriter-view":{banner:"Rewriter",cards:{"input-interpretation":{title:"Input interpretation"},output:{title:"Result","formula-cannot-be-expressed-in-the-desired-basis":"The formula {{formula}} cannot be expressed in the desired basis.","formula-is-expressed-as-in-the-desired-basis":"The formula {{formula}} can be expressed as {{result}} in the desired basis.",warnings:{"no-valid-formula-to-display":"There is no valid formula to display."},infos:{"truth-table-is-not-available":"The truth table for this formula is not available"}}}},"checker-view":{banner:"Tautology checker",cards:{"input-interpretation":{title:"Input Interpretation"},output:{title:"Result","formula-is-tautology":"The formula {{formula}} is a tautology.","formula-is-contradiction":"The formula {{formula}} is a contradiction.","formula-is-satisfiable":"The formula {{formula}} is neither a tautology or a contradiction.",warnings:{"no-formula-to-display":"There is no valid formula to display."}}}},"home-view":{lang:{en:"ENGLISH",th:"THAI"},card:{comparator:{title:"Comparator",desc:"Compare expressions to see which one of them are equivalent."},evaluator:{title:"Evaluator",desc:"Evaluate expressions according to given truth values."},rewriter:{title:"Rewriter",desc:"Transform an expression into a different basis."},checker:{title:"Tautology checker",desc:"Check if an expression is always true, always false, or in-between."}},"boolean-algebra-interpreter":"Boolean algebra interpreter"},"comparator-view":{banner:"Comparator","warning-notice":"Notice",cards:{output:{title:"Result","formulas-are-equivalent":"The formula {{first}} and the formula {{second}} are equivalent.","formulas-are-not-equivalent":"The formula {{first}} and the formula {{second}} are not equivalent.",warnings:{"not-enough-formula-for-comparison":"There is not enough valid formula to perform comparisons."}},"input-interpretation":{title:"Input Interpretation"}}}};Wt.use(Vt).use(qt).use(Bt).init({detection:{lookupLocalStorage:"language"},resources:{en:{translation:nn.translation,components:tn,nav:rn,views:on}},debug:!0});Ht.createRoot(document.getElementById("root")).render(n.jsx(d.StrictMode,{children:n.jsx(en,{})}));
//# sourceMappingURL=index-C2_PETdZ.js.map
