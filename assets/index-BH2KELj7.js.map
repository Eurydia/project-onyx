{"version":3,"file":"index-BH2KELj7.js","sources":["../../src/types/syntax-tree.ts","../../src/core/interpreter/grammar.ts","../../src/core/interpreter/parser.ts","../../src/components/common/LanguageSwitcher.tsx","../../src/components/common/ToolNavDropdown.tsx","../../src/layouts/AppbarLayout.tsx","../../src/views/HomeView.tsx","../../src/assets/blogs/UserManual/en.txt","../../src/assets/blogs/UserManual/th.txt","../../src/components/styled/StyledMarkdown.tsx","../../src/views/TheoremView.tsx","../../src/core/tree/conversion.ts","../../src/core/tree/expr/evaluate.ts","../../src/components/styled/StyledLatex.tsx","../../src/components/math/Editor/EditorRibbonButton.tsx","../../src/components/math/Editor/EditorRibbon.tsx","../../src/components/math/Editor/Editor.tsx","../../src/components/math/Playground/PlaygroundSymbolConfig.tsx","../../src/components/styled/StyledOutputCard.tsx","../../src/core/tree/expr/latex.ts","../../src/views/EvaluatorView.tsx","../../src/routes/evaluator.tsx","../../src/components/styled/StyledAlert.tsx","../../src/core/eval.ts","../../src/core/tree/flatten.ts","../../src/components/math/TruthTable/TruthTable.tsx","../../src/components/styled/StyledIconButton.tsx","../../src/components/math/Playground/PlaygroundPlaybackControl.tsx","../../src/components/styled/StyledFAB.tsx","../../src/components/math/Playground/TreeGraph/TreeGraphLink.tsx","../../src/components/math/Playground/TreeGraph/TreeGraphNode.tsx","../../src/components/math/Playground/TreeGraph/TreeGraph.tsx","../../src/components/math/Playground/Playground.tsx","../../src/core/exprTreeFlattenStepByStep.ts","../../src/components/math/StepByStepEvaluation.tsx","../../src/components/math/SolverOutputGroup.tsx","../../src/views/SolverView.tsx","../../src/routes/solver.tsx","../../src/App/thene/palette.ts","../../src/App/thene/theme.ts","../../src/App/App.tsx","../../src/locales/en/translation.ts","../../src/locales/th/translation.ts","../../src/locales/config.ts","../../src/main.tsx"],"sourcesContent":["export enum SyntaxTreeNodeKind {\r\n  CONST = \"CONSTANT\",\r\n  IDEN = \"IDEN\",\r\n  UNARY = \"UNARY\",\r\n  BINARY = \"BINARY\",\r\n}\r\n\r\nexport enum Operator {\r\n  IFF = \"IFF\",\r\n  IMPL = \"IMPL\",\r\n  AND = \"AND\",\r\n  OR = \"OR\",\r\n  NOT = \"NOT\",\r\n}\r\n\r\nexport type SyntaxTreeNodeConst = {\r\n  nodeType: SyntaxTreeNodeKind.CONST;\r\n  value: boolean;\r\n};\r\nexport type SyntaxTreeNodeIden = {\r\n  nodeType: SyntaxTreeNodeKind.IDEN;\r\n  symbol: string;\r\n};\r\nexport type SyntaxTreeNodeBinary = {\r\n  nodeType: SyntaxTreeNodeKind.BINARY;\r\n  operator: Exclude<Operator, Operator.NOT>;\r\n  left: SyntaxTree;\r\n  right: SyntaxTree;\r\n};\r\nexport type SyntaxTreeNodeUnary = {\r\n  nodeType: SyntaxTreeNodeKind.UNARY;\r\n  operator: Operator.NOT;\r\n  operand: SyntaxTree;\r\n};\r\n\r\nexport type SyntaxTree =\r\n  | SyntaxTreeNodeBinary\r\n  | SyntaxTreeNodeUnary\r\n  | SyntaxTreeNodeIden\r\n  | SyntaxTreeNodeConst;\r\n\r\nexport type SymbolTable = Map<string, boolean>;\r\n","import {\r\n  Operator,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport * as ohm from \"ohm-js\";\r\n\r\nconst collectBinaryNodes = (\r\n  operator: Exclude<Operator, Operator.NOT>,\r\n  left: SyntaxTree,\r\n  right: SyntaxTree[]\r\n) => {\r\n  let node: SyntaxTree = {\r\n    nodeType: SyntaxTreeNodeKind.BINARY,\r\n    operator,\r\n    left,\r\n    right: right[0],\r\n  };\r\n  for (let i = 1; i < right.length; i++) {\r\n    node = {\r\n      nodeType: SyntaxTreeNodeKind.BINARY,\r\n      operator,\r\n      left: node,\r\n      right: right[i],\r\n    };\r\n  }\r\n  return node;\r\n};\r\n\r\nexport const grammar = ohm.grammar(String.raw`\r\nBooleanExpressions {\r\n  Expression\r\n    = Iff \r\n\r\n  Iff\r\n    = Implies (iff_sym Implies)*\r\n\r\n  Implies\r\n    = Or (implies_sym Or)*\r\n\r\n  Or\r\n    = And (or_sym And)*\r\n\r\n  And\r\n    = Not (and_sym Not)*\r\n\r\n  Not\r\n    = not_sym Not                   --not\r\n    | Primary\r\n\r\n  Primary\r\n    = \"(\" Expression \")\" --group\r\n    | true_sym    --lit_true\r\n    | false_sym   --lit_false\r\n    | identifier  --variable\r\n\r\n  identifier\r\n    = letter\r\n  \r\n  iff_sym \r\n    = \"iff\"\r\n    | \"⇔\"\r\n  \r\n  implies_sym \r\n    = \"implies\"\r\n    | \"⇒\"\r\n  \r\n  or_sym\r\n    = \"or\"\r\n    | \"∨\"\r\n\r\n  and_sym\r\n    = \"and\"\r\n    | \"∧\"\r\n  \r\n  not_sym\r\n    = \"not\"\r\n    | \"¬\"\r\n\r\n  true_sym\r\n    = \"⊤\"\r\n    | \"T\"\r\n    | \"1\"\r\n\r\n  false_sym\r\n    = \"⊥\"\r\n    | \"F\"\r\n    | \"0\"\r\n}\r\n`);\r\n\r\nexport const semantics = grammar.createSemantics();\r\nsemantics.addOperation(\"buildTree\", {\r\n  Expression(e) {\r\n    return e.buildTree();\r\n  },\r\n\r\n  Iff(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IFF,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Implies(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IMPL,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Or(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.OR,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  And(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.AND,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Not_not(_, expr) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.UNARY,\r\n      operator: Operator.NOT,\r\n      operand: expr.buildTree(),\r\n    };\r\n  },\r\n\r\n  Primary_group(_open, expr, _close) {\r\n    return expr.buildTree();\r\n  },\r\n\r\n  Primary_lit_true(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: true,\r\n    };\r\n  },\r\n\r\n  Primary_lit_false(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: false,\r\n    };\r\n  },\r\n\r\n  Primary_variable(id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.IDEN,\r\n      symbol: id.sourceString,\r\n    };\r\n  },\r\n\r\n  identifier(_) {\r\n    return this.sourceString;\r\n  },\r\n\r\n  _iter(...children) {\r\n    return children.map((n) => n.buildTree());\r\n  },\r\n});\r\n","import {\r\n  grammar,\r\n  semantics,\r\n} from \"$core/interpreter/grammar\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { SyntaxTree } from \"$types/syntax-tree\";\r\n\r\nexport const parse = (\r\n  content: string\r\n): Maybe<SyntaxTree> => {\r\n  const m = grammar.match(content);\r\n  if (m.succeeded()) {\r\n    const tree = semantics(m).buildTree();\r\n    return { ok: true, data: tree };\r\n  } else {\r\n    return {\r\n      ok: false,\r\n    };\r\n  }\r\n};\r\n","import {\r\n  CheckRounded,\r\n  TranslateRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  IconButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LANGUAGES = [\"en\", \"th\"];\r\n\r\nexport const LanguageSwitcher: FC = () => {\r\n  const { i18n, t } = useTranslation();\r\n  const [anchor, setAnchor] =\r\n    useState<HTMLButtonElement | null>(null);\r\n\r\n  const handleClose = () => setAnchor(null);\r\n  return (\r\n    <Fragment>\r\n      <Tooltip\r\n        title={<Typography>{t(\"language\")}</Typography>}\r\n      >\r\n        <IconButton\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          onClick={(e) => setAnchor(e.currentTarget)}\r\n        >\r\n          <TranslateRounded />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        anchorEl={anchor}\r\n        open={anchor !== null}\r\n        onClose={handleClose}\r\n        onClick={handleClose}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {LANGUAGES.map((lang, index) => {\r\n          const selected = i18n.language === lang;\r\n          return (\r\n            <MenuItem\r\n              onClick={() => i18n.changeLanguage(lang)}\r\n              disableRipple\r\n              key={\"item\" + index}\r\n              selected={selected}\r\n              sx={{\r\n                padding: 2,\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                {selected && (\r\n                  <CheckRounded color=\"primary\" />\r\n                )}\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                slotProps={{\r\n                  primary: {\r\n                    fontWeight: 500,\r\n                    textTransform: \"uppercase\",\r\n                  },\r\n                }}\r\n                primary={t(`lang.${lang}`)}\r\n              />\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import {\r\n  CheckRounded,\r\n  KeyboardArrowDownRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useState } from \"react\";\r\nimport { NavLink } from \"react-router\";\r\n\r\ntype ToolNavDropDownProps = {\r\n  selected: string;\r\n  items: { label: string; href: string }[];\r\n};\r\nexport const ToolNavDropDown: FC<ToolNavDropDownProps> = (\r\n  props\r\n) => {\r\n  const { selected, items } = props;\r\n  const [anchor, setAnchor] = useState<null | HTMLElement>(\r\n    null\r\n  );\r\n  const handleOpen = (\r\n    event: React.MouseEvent<HTMLElement>\r\n  ) => {\r\n    setAnchor(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchor(null);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Button\r\n        disableRipple\r\n        disableElevation\r\n        endIcon={<KeyboardArrowDownRounded />}\r\n        variant=\"text\"\r\n        onClick={handleOpen}\r\n        sx={{\r\n          color: (theme) => theme.palette.text.primary,\r\n        }}\r\n      >\r\n        TOOLS\r\n      </Button>\r\n      <Menu\r\n        anchorEl={anchor}\r\n        open={anchor !== null}\r\n        onClick={handleClose}\r\n        onClose={handleClose}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {items.map(({ href, label }, index) => {\r\n          const isSelected = selected === href;\r\n          return (\r\n            <MenuItem\r\n              disableRipple\r\n              key={\"item\" + index}\r\n              component={NavLink}\r\n              to={href}\r\n              selected={isSelected}\r\n              sx={{ padding: 2 }}\r\n            >\r\n              <ListItemIcon>\r\n                {isSelected && <CheckRounded />}\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                slotProps={{\r\n                  primary: {\r\n                    fontWeight: 500,\r\n                    textTransform: \"uppercase\",\r\n                  },\r\n                }}\r\n              >\r\n                {label}\r\n              </ListItemText>\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { LanguageSwitcher } from \"$components/common/LanguageSwitcher\";\r\nimport { ToolNavDropDown } from \"$components/common/ToolNavDropdown\";\r\nimport { HomeRounded } from \"@mui/icons-material\";\r\nimport {\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Outlet, useLocation } from \"react-router\";\r\n\r\nconst NAV_ITEMS: { href: string; label: string }[] = [\r\n  { href: \"/solver\", label: \"nav.solver\" },\r\n  { href: \"/evaluator\", label: \"nav.evaluator\" },\r\n  { href: \"/simplifier\", label: \"nav.simplifier\" },\r\n  { href: \"/checker\", label: \"nav.checker\" },\r\n];\r\n\r\nexport const AppbarLayout: FC = () => {\r\n  const { t } = useTranslation();\r\n  const { pathname } = useLocation();\r\n  return (\r\n    <Fragment>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={{\r\n          borderStyle: \"solid\",\r\n          borderRadius: ({ shape }) => shape.borderRadius,\r\n          borderColor: ({ palette }) => palette.divider,\r\n          maxWidth: \"lg\",\r\n          marginY: 4,\r\n          marginX: {\r\n            xs: 4,\r\n            md: \"auto\",\r\n          },\r\n          paddingY: 1,\r\n          paddingX: 2,\r\n          flexDirection: \"row\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Stack\r\n          flexWrap=\"wrap\"\r\n          direction=\"row\"\r\n          useFlexGap\r\n          alignItems=\"center\"\r\n          justifyContent=\"flex-start\"\r\n          spacing={2}\r\n        >\r\n          <Tooltip\r\n            title={<Typography>{t(\"nav.home\")}</Typography>}\r\n          >\r\n            <IconButton\r\n              disableRipple\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              component={Link}\r\n              to=\"/\"\r\n            >\r\n              <HomeRounded />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <ToolNavDropDown\r\n            selected={pathname}\r\n            items={NAV_ITEMS.map(({ href, label }) => ({\r\n              href,\r\n              label: t(label),\r\n            }))}\r\n          />\r\n        </Stack>\r\n        <LanguageSwitcher />\r\n      </Paper>\r\n      <Outlet />\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Masonry } from \"@mui/lab\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router\";\r\n\r\nconst CARDS: {\r\n  title: string;\r\n  desc: string;\r\n  href: string;\r\n}[] = [\r\n  {\r\n    title: \"view.home.card.solver.title\",\r\n    desc: \"view.home.card.solver.desc\",\r\n    href: \"/solver\",\r\n  },\r\n  {\r\n    title: \"view.home.card.evaluator.title\",\r\n    desc: \"view.home.card.evaluator.desc\",\r\n    href: \"/evaluator\",\r\n  },\r\n  {\r\n    title: \"view.home.card.simplifier.title\",\r\n    desc: \"view.home.card.simplifier.desc\",\r\n    href: \"/simplifier\",\r\n  },\r\n  {\r\n    title: \"view.home.card.checker.title\",\r\n    desc: \"view.home.card.checker.desc\",\r\n    href: \"/checker\",\r\n  },\r\n];\r\n\r\nexport const HomeView: FC = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <Stack\r\n      spacing={2}\r\n      maxWidth=\"lg\"\r\n      marginX={{\r\n        md: \"auto\",\r\n        xs: 4,\r\n      }}\r\n    >\r\n      <Typography\r\n        fontSize=\"large\"\r\n        fontWeight={700}\r\n      >\r\n        {t(\"view.home.calculators\")}\r\n      </Typography>\r\n      <Masonry columns={{ xs: 1, md: 2 }}>\r\n        {CARDS.map(({ title, href, desc }, index) => (\r\n          <Link\r\n            to={href}\r\n            key={\"card\" + index}\r\n            style={{\r\n              textDecoration: \"none\",\r\n            }}\r\n          >\r\n            <Card\r\n              variant=\"outlined\"\r\n              sx={{\r\n                \"borderStyle\": \"solid\",\r\n                \"borderRadius\": ({ shape }) =>\r\n                  shape.borderRadius,\r\n                \"transition\": \"all 0.1s ease\",\r\n                \"&:hover\": {\r\n                  borderColor: ({ palette }) =>\r\n                    palette.secondary.light,\r\n                },\r\n              }}\r\n            >\r\n              <CardHeader\r\n                title={t(title)}\r\n                titleTypographyProps={{\r\n                  sx: {\r\n                    fontWeight: 700,\r\n                    whiteSpace: \"break-spaces\",\r\n                  },\r\n                }}\r\n              />\r\n              <CardContent>\r\n                <Typography>{t(desc)}</Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Link>\r\n        ))}\r\n      </Masonry>\r\n    </Stack>\r\n  );\r\n};\r\n","export default \"data:text/plain;base64,IyBVc2VyIE1hbnVhbA0KDQoqKlF1aWNrIGd1aWRlKio6IA0KMS4gRW50ZXIgYSBCb29sZWFuIGV4cHJlc3Npb24gaW50byB0aGUgaW5wdXQgZmllbGQNCjEuIFByZXNzICJSVU4iDQoxLiBDbGljayBvbiBhIG5vZGUgdG8gbW9kaWZ5IHRoZSB0cnV0aCB2YWx1ZXMNCg0KIyMgU3VwcG9ydGVkIExvZ2ljYWwgQ29ubmVjdGl2ZXMNCg0KVGhlIGFwcGxpY2F0aW9uIHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgbG9naWNhbCBrZXl3b3JkcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBtYXRoZW1hdGljYWwgc3ltYm9sczoNCg0KLSBMb2dpY2FsIG5lZ2F0aW9uICAgIChrZXl3b3JkOiBgbm90YCAgICAgLCBzeW1ib2w6ICZub3Q7KSANCi0gTG9naWNhbCBjb25qdW5jdGlvbiAoa2V5d29yZDogYGFuZGAgICAgICwgc3ltYm9sOiAmYW5kOykgDQotIExvZ2ljYWwgZGlzanVuY3Rpb24gKGtleXdvcmQ6IGBvcmAgICAgICAsIHN5bWJvbDogJm9yOykgDQotIExvZ2ljYWwgaW1wbGljYXRpb24gKGtleXdvcmQ6IGBpbXBsaWVzYCAsIHN5bWJvbDogJnJBcnI7KSANCi0gTG9naWNhbCBlcXVpdmFsZW5jZSAoa2V5d29yZDogYGlmZmAgICAgICwgc3ltYm9sOiAmaWZmOykNCg0KVGhlIGtleXdvcmQgYW5kIHRoZSBzeW1ib2wgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWUsIHNvIGNhbiB1c2UgdGhlbSBpbnRlcmNoYW5nZWJseSwgb3IgZXZlbmluZyBtaXggdGhlbSBpbiBhbiBleHByZXNzaW9uLg0KDQpZb3UgY2FuIHVzZSB0aGUgcmliYm9uIHRvIGluc2VydCBhIHN5bWJvbCBpbnRvIHRoZSBpbnB1dC4gV2l0aCB0aGUgaW5wdXQgYXJlYSBhY3RpdmUsIHByZXNzIGBDVFJMYCBhbmQgYEVOVEVSYCB0byBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbg0KDQojIyBGZWF0dXJlcyANCg0KKipFdmFsdWF0aW9uIHBsYXliYWNrKioNCg0KVXNlIHRoZSBwbGF5YmFjayBjb250cm9sIHRvIHNlZSBvcmRlciBvZiBldmFsdWF0aW9uIGZvciB0aGUgZXhwcmVzc2lvbi4gUHJlc3MgZm9yd2FyZCBvciByZXdpbmQgdG8gYSBmaW5lciBwbGF5YmFjayBjb250cm9sIGFuZCB0aGUgc2xpZGVyIHRvIHF1aWNrbHkgbW92ZSBhcm91bmQgdGhlIGV2YWx1YXRpb24uDQoNCioqVGVzdGluZyBkaWZmZXJlbnQgdHJ1dGggdmFsdWVzKioNCg0KUHJvcG9zaXRpb25zIGFyZSBmYWxzZSBpbml0aWFsbHkuIA0KDQpUbyBtb2RpZnkgdGhlIHRydXRoIHZhbHVlIG9mIGEgcHJvcG9zaXRpb24sIHByZXNzIG9uZSBvZiB0aGUgbm9kZSBwcmVzZW50IGluIHRoZSBvdXRwdXQgYXJlYS4NCg0KRG9pbmcgc28gd2lsbCBvcGVuIHVwIGEgd2luZG93LiBJbiB0aGlzIHdpbmRvdywgeW91IGNhbiBtb2RpZnkgdGhlIHRydXRoIHZhbHVlcyBvZiBwcm9wb3NpdGlvbnMgcHJlc2VudCBpbiB0aGUgcGFydGljdWxhciBzdWIgZXhwcmVzc2lvbi4gUHJlc3NpbmcgdGhlIHJvb3Qgd2lsbCBzaG93IHRoZSBlbnRpcmUgdHJlZSwgYWxvbmcgd2l0aCBldmVyeSBwcm9wb3NpdGlvbi4=\"","export default \"data:text/plain;base64,IyDguITguLnguYjguKHguLfguK3guIHguLLguKPguYPguIrguYnguIfguLLguJkNCg0KKirguITguLnguYjguKHguLfguK3guYHguJrguJrguKLguYjguK06KiogIA0KMS4g4Lib4LmJ4Lit4LiZ4LiZ4Li04Lie4LiI4LiZ4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4LiC4LmJ4Lit4LiE4Lin4Liy4LihICANCjIuIOC4geC4lCAi4LiE4Liz4LiZ4Lin4LiTIiAgDQozLiDguITguKXguLTguIHguJfguLXguYjguYLguKvguJnguJTguYDguJ7guLfguYjguK3guYHguIHguYnguYTguILguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYwNCg0KIyMg4LiV4Lix4Lin4LmA4LiK4Li34LmI4Lit4Lih4LiX4Li14LmI4Lij4Lit4LiH4Lij4Lix4LiaDQoNCuC4leC4seC4p+C5gOC4iuC4t+C5iOC4reC4l+C4teC5iOC4o+C4reC4h+C4o+C4seC4muC4oeC4teC4lOC4seC4h+C4meC4teC5iToNCg0KLSDguJnguLTguYDguKrguJggKOC4hOC4szogYG5vdGAsIOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jDogJm5vdDspICANCi0g4LmB4Lil4LiwICjguITguLM6IGBhbmRgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZhbmQ7KSAgDQotIOC4q+C4o+C4t+C4rSAo4LiE4LizOiBgb3JgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZvcjspICANCi0g4LiW4LmJ4Liy4LmB4Lil4LmJ4LinICjguITguLM6IGBpbXBsaWVzYCwg4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmMOiAmckFycjspICANCi0g4LiB4LmH4LiV4LmI4Lit4LmA4Lih4Li34LmI4LitICjguITguLM6IGBpZmZgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZpZmY7KSAgDQoNCuC4hOC4s+C5geC4peC4sOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jOC4quC4suC4oeC4suC4o+C4luC5g+C4iuC5ieC5geC4l+C4meC4geC4seC4meC5hOC4lOC5iSDguYHguKXguLDguKrguLLguKHguLLguKPguJbguYPguIrguYnguJzguKrguKHguIHguLHguJnguJnguLTguJ7guIjguJnguYzguYDguJTguLXguKLguKfguIHguYfguYTguJTguYkNCg0K4Liq4Liy4Lih4Liy4Lij4LiW4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4LiE4Lij4Li34LmI4Lit4LiH4Lih4Li34Lit4LmA4Lie4Li34LmI4Lit4LmB4LiX4Lij4LiB4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4Lib4LmJ4Lit4LiZ4LiC4LmJ4Lit4Lih4Li54LilIA0KDQrguYPguJnguILguJPguLDguJfguLXguYjguJ7guLTguKHguJ7guYzguJnguLTguJ7guIjguJnguYzguKrguLLguKHguLLguKPguJYg4LiB4LiUIGBDVFJMYCDguYHguKXguLAgYEVOVEVSYCDguYDguJ7guLfguYjguK3guITguLPguJnguKfguJPguJvguKPguLDguJ7guIjguJnguYzguYTguJTguYnguYLguJTguKLguJfguLXguYjguYTguKHguYjguJXguYnguK3guIfguIHguJQgIuC4hOC4s+C4meC4p+C4kyINCg0KIyMg4Lil4Li54LiB4LmA4Lil4LmI4LiZ4Lit4Li34LmI4LiZ4LmGDQoNCioq4Lil4Liz4LiU4Lix4Lia4LiC4Lix4LmJ4LiZ4LiV4Lit4LiZ4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiTKioNCg0K4LmD4LiK4LmJ4LiB4Liy4Lij4LiE4Lin4Lia4LiE4Li44Lih4LmA4Lie4Li34LmI4Lit4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4Lib4Lij4Liw4LmA4Lih4Li04LiZ4Lic4Lil4LiC4Lit4LiH4LiZ4Li04Lie4LiI4LiZ4LmMIA0KDQrguIHguJTguJvguLjguYjguKHguYDguJTguLTguJnguKvguJnguYnguLLguKvguKPguLfguK3guKLguYnguK3guJnguIHguKXguLHguJrguYDguJ7guLfguYjguK3guITguKfguJrguITguLjguKHguK3guKLguYjguLLguIfguKXguLDguYDguK3guLXguKLguJQg4LmB4Lil4Liw4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4Lil4Li34LmI4Lit4LiZ4LmA4Lie4Li34LmI4Lit4LmA4Lil4Li34LmI4Lit4LiZ4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiT4Lit4Lii4LmI4Liy4LiH4LiE4Lij4LmI4Liy4LinIOC5hg0KDQoqKuC5geC4geC5ieC5hOC4guC4hOC5iOC4suC4hOC4p+C4suC4oeC4iOC4o+C4tOC4hyoqDQoNCuC5geC4o+C4geC5gOC4o+C4tOC5iOC4oSDguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYzguJbguLnguIHguIHguLPguKvguJnguJTguYPguKvguYnguYDguJvguYfguJnguYDguJfguYfguIggDQoNCuC4quC4suC4oeC4suC4o+C4luC5geC4geC5ieC5hOC4guC4hOC4p+C4suC4oeC4hOC4p+C4suC4oeC4iOC4o+C4tOC4h+C4guC4reC4h+C4m+C4o+C4sOC4nuC4iOC4meC5jOC5hOC4lOC5ieC4lOC5ieC4p+C4ouC4geC4suC4o+C4geC4lOC4l+C4teC5iOC4p+C4h+C4geC4peC4oeC4quC4teC5gOC4guC4teC4ouC4pw0KDQrguYDguKHguLfguYjguK3guIHguJQg4LiI4Liw4Lih4Li14Liq4Liy4Lih4Liy4Lij4LiW4LmB4LiB4LmJ4LmE4LiC4LiE4Lin4Liy4Lih4LiI4Lij4Li04LiH4LiC4Lit4LiH4Lib4Lij4Liw4Lie4LiI4LiZ4LmM4LmE4LiU4LmJ4LmD4LiZ4Lir4LiZ4LmJ4Liy4LiV4LmI4Liy4LiH4LiX4Li14LmI4Lib4Lij4Liy4LiB4LiP\"","import { Divider, Typography } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport Markdown, { Components } from \"react-markdown\";\r\nimport rehypeKatex from \"rehype-katex\";\r\nimport rehypeSlug from \"rehype-slug\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport remarkMath from \"remark-math\";\r\n\r\nconst COMPONENTS_OVERRIDE: Partial<Components> = {\r\n  h1: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h3\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h2: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h4\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h3: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h5\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  p: ({ children }) => (\r\n    <Typography gutterBottom>{children}</Typography>\r\n  ),\r\n  hr: () => (\r\n    <Divider\r\n      flexItem\r\n      sx={{ marginY: 4 }}\r\n      variant=\"middle\"\r\n    />\r\n  ),\r\n  a: ({ href, hrefLang, referrerPolicy, children }) => (\r\n    <Typography\r\n      component=\"a\"\r\n      target=\"_blank\"\r\n      href={href}\r\n      hrefLang={hrefLang}\r\n      referrerPolicy={referrerPolicy}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n};\r\n\r\n\r\ntype StyledMarkdownProps = {\r\n  children: string;\r\n};\r\nexport const StyledMarkdown: FC<StyledMarkdownProps> = (\r\n  props\r\n) => {\r\n  const { children } = props;\r\n\r\n  return (\r\n    <Markdown\r\n      components={COMPONENTS_OVERRIDE}\r\n      rehypePlugins={[\r\n        rehypeKatex,\r\n        rehypeSlug,\r\n      ]}\r\n      remarkPlugins={[remarkMath, remarkGfm]}\r\n    >\r\n      {children}\r\n    </Markdown>\r\n  );\r\n};\r\n","import UserManualBlogEN from \"$assets/blogs/UserManual/en.txt\";\r\nimport UserManualBlogTH from \"$assets/blogs/UserManual/th.txt\";\r\nimport { StyledMarkdown } from \"$components/styled/StyledMarkdown\";\r\nimport { Container } from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const TheoremView: FC = () => {\r\n  const { i18n } = useTranslation();\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      i18n.language === \"th\"\r\n        ? UserManualBlogTH\r\n        : UserManualBlogEN\r\n    )\r\n      .then((response) => response.text())\r\n      .then((text) => setContent(text));\r\n  }, [i18n.language]);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <StyledMarkdown>{content}</StyledMarkdown>\r\n    </Container>\r\n  );\r\n};\r\n","import {\r\n  ExprTreeBinary,\r\n  ExprTreeConst,\r\n  ExprTreeIden,\r\n  ExprTreeUnary,\r\n} from \"$types/expression-tree\";\r\nimport {\r\n  Operator,\r\n  SymbolTable,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\n\r\nconst OPERATOR_REPR: Record<Operator, string> = {\r\n  [Operator.AND]: `\\\\land`,\r\n  [Operator.OR]: `\\\\lor`,\r\n  [Operator.IFF]: `\\\\iff`,\r\n  [Operator.IMPL]: `\\\\implies`,\r\n  [Operator.NOT]: `\\\\lnot`,\r\n};\r\n\r\ntype EvalFn = (t: SymbolTable) => boolean;\r\nconst OPERATOR_EVAL_FN: Record<\r\n  Exclude<Operator, Operator.NOT>,\r\n  (l: EvalFn, r: EvalFn) => (t: SymbolTable) => boolean\r\n> = {\r\n  [Operator.AND]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) && r(t),\r\n  [Operator.OR]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) || r(t),\r\n  [Operator.IMPL]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      !l(t) || r(t),\r\n  [Operator.IFF]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) === r(t),\r\n};\r\n\r\nconst _syntaxTreeToLatex = (tree: SyntaxTree): string => {\r\n  const { nodeType } = tree;\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.IDEN) {\r\n    return tree.symbol;\r\n  }\r\n  if (nodeType === SyntaxTreeNodeKind.CONST) {\r\n    return tree.value ? `\\\\top` : `\\\\bot`;\r\n  }\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.UNARY) {\r\n    const { operand } = tree;\r\n    const value = _syntaxTreeToLatex(operand);\r\n    if (\r\n      operand.nodeType === SyntaxTreeNodeKind.IDEN ||\r\n      operand.nodeType === SyntaxTreeNodeKind.CONST\r\n    ) {\r\n      return `\\\\lnot ${value}`;\r\n    }\r\n    return `\\\\lnot (${value})`;\r\n  }\r\n\r\n  const { left, right } = tree;\r\n\r\n  let labelLeft = _syntaxTreeToLatex(left);\r\n  if (left.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelLeft = `( ${labelLeft} )`;\r\n  }\r\n\r\n  let labelRight = _syntaxTreeToLatex(right);\r\n  if (right.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelRight = `( ${labelRight} )`;\r\n  }\r\n\r\n  const repr = OPERATOR_REPR[tree.operator];\r\n  return `${labelLeft} ${repr} ${labelRight}`;\r\n};\r\n\r\nexport const syntaxTreeToLatex = (tree: SyntaxTree) => {\r\n  return _syntaxTreeToLatex(tree);\r\n};\r\n\r\nconst _syntaxTreetoExprTree = (\r\n  tree: SyntaxTree,\r\n  orderStart: number\r\n) => {\r\n  const { nodeType } = tree;\r\n\r\n  switch (nodeType) {\r\n    case SyntaxTreeNodeKind.CONST: {\r\n      const node: ExprTreeConst = {\r\n        eval: () => tree.value,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.value ? \"\\\\top\" : `\\\\bot`,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.IDEN: {\r\n      const node: ExprTreeIden = {\r\n        eval: (t) => t.get(tree.symbol) ?? false,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.symbol,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _syntaxTreetoExprTree(\r\n        tree.operand,\r\n        orderStart\r\n      );\r\n      const node: ExprTreeUnary = {\r\n        repr: OPERATOR_REPR[tree.operator],\r\n        child,\r\n        nodeType,\r\n        eval: (t) => !child.eval(t),\r\n        order: child.order + 1,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      const left = _syntaxTreetoExprTree(\r\n        tree.left,\r\n        orderStart\r\n      );\r\n      const right = _syntaxTreetoExprTree(\r\n        tree.right,\r\n        left.order\r\n      );\r\n      const node: ExprTreeBinary = {\r\n        nodeType,\r\n        eval: OPERATOR_EVAL_FN[tree.operator](\r\n          left.eval,\r\n          right.eval\r\n        ),\r\n        left,\r\n        right,\r\n        order: right.order + 1,\r\n        repr: OPERATOR_REPR[tree.operator],\r\n      };\r\n      return node;\r\n    }\r\n  }\r\n};\r\n\r\nexport const syntaxTreetoExprTree = (tree: SyntaxTree) => {\r\n  return _syntaxTreetoExprTree(tree, 0);\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SyntaxTreeNodeKind } from \"$types/syntax-tree\";\r\n\r\nconst _exprTreeCollectSymbols = (\r\n  tree: ExprTree,\r\n  symbols: Set<string>\r\n): void => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      symbols.add(tree.repr);\r\n      return;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      _exprTreeCollectSymbols(tree.child, symbols);\r\n      return;\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      _exprTreeCollectSymbols(tree.left, symbols);\r\n      _exprTreeCollectSymbols(tree.right, symbols);\r\n      return;\r\n  }\r\n};\r\n\r\nexport const exprTreeCollectSymbols = (\r\n  exprTree: ExprTree\r\n): Set<string> => {\r\n  const symbols = new Set<string>();\r\n  _exprTreeCollectSymbols(exprTree, symbols);\r\n  return symbols;\r\n};\r\n","import { SxProps, Typography } from \"@mui/material\";\r\nimport katex, { KatexOptions } from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\n\r\ntype StyledLatexProps = {\r\n  tex: string;\r\n  options?: KatexOptions;\r\n  sx?: SxProps;\r\n};\r\nexport const StyledLatex: FC<StyledLatexProps> = (\r\n  props\r\n) => {\r\n  const { sx, tex, options } = props;\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      katex.render(tex, ref.current, options);\r\n    }\r\n  }, [ref, tex, options]);\r\n\r\n  return (\r\n    <Typography\r\n      ref={ref}\r\n      component=\"span\"\r\n      sx={sx}\r\n    />\r\n  );\r\n};\r\n","import { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport {\r\n  CheckRounded,\r\n  KeyboardArrowDownRounded,\r\n  KeyboardArrowUpRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport {\r\n  Dispatch,\r\n  FC,\r\n  Fragment,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\n\r\ntype EditorRibbonButtonProps = {\r\n  options: { label: string; value: string }[];\r\n  onClick: Dispatch<string>;\r\n};\r\nexport const EditorRibbonButton: FC<\r\n  EditorRibbonButtonProps\r\n> = (props) => {\r\n  const { options, onClick } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [selected, setSelected] = useState(options[0]);\r\n  const anchorRef = useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <Fragment>\r\n      <ButtonGroup\r\n        ref={anchorRef}\r\n        disableElevation\r\n        variant=\"outlined\"\r\n      >\r\n        <Button\r\n          onClick={() => onClick(selected.value)}\r\n          sx={{\r\n            textTransform: \"none\",\r\n          }}\r\n        >\r\n          <StyledLatex tex={selected.label} />\r\n        </Button>\r\n        <Button\r\n          size=\"small\"\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          {!open && (\r\n            <KeyboardArrowDownRounded fontSize=\"small\" />\r\n          )}\r\n          {open && (\r\n            <KeyboardArrowUpRounded fontSize=\"small\" />\r\n          )}\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Menu\r\n        open={open}\r\n        anchorEl={anchorRef.current}\r\n        onClose={() => setOpen(false)}\r\n        onClick={() => setOpen(false)}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {options.map((option, index) => {\r\n          const isSelected =\r\n            option.label === selected.label;\r\n          return (\r\n            <MenuItem\r\n              key={\"option\" + index}\r\n              disableRipple\r\n              selected={isSelected}\r\n              onClick={() => setSelected(option)}\r\n              sx={{ padding: 2 }}\r\n            >\r\n              <ListItemIcon>\r\n                {isSelected && <CheckRounded />}\r\n              </ListItemIcon>\r\n              <ListItemText>\r\n                <StyledLatex tex={option.label} />\r\n              </ListItemText>\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Stack } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { EditorRibbonButton } from \"./EditorRibbonButton\";\r\n\r\nconst OPERATOR_TEXT: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"\\\\text{not}\",\r\n    value: \"not\",\r\n  },\r\n  {\r\n    label: \"\\\\text{and}\",\r\n    value: \"and\",\r\n  },\r\n  {\r\n    label: \"\\\\text{or}\",\r\n    value: \"or\",\r\n  },\r\n  {\r\n    label: \"\\\\text{implies}\",\r\n    value: \"implies\",\r\n  },\r\n  {\r\n    label: \"\\\\text{iff}\",\r\n    value: \"iff\",\r\n  },\r\n];\r\n\r\nconst OPERATOR_SYMBOL: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"\\\\lnot\",\r\n    value: \"\\u{00AC}\",\r\n  },\r\n  {\r\n    label: \"\\\\land\",\r\n    value: \"\\u{2227}\",\r\n  },\r\n  {\r\n    label: \"\\\\lor\",\r\n    value: \"\\u{2228}\",\r\n  },\r\n  {\r\n    label: \"\\\\implies\",\r\n    value: \"\\u{21D2}\",\r\n  },\r\n  {\r\n    label: \"\\\\iff\",\r\n    value: \"\\u{21D4}\",\r\n  },\r\n];\r\n\r\ntype EditorRibbonProps = {\r\n  onClick: (value: string) => void;\r\n};\r\nexport const EditorRibbon: FC<EditorRibbonProps> = (\r\n  props\r\n) => {\r\n  const { onClick } = props;\r\n  return (\r\n    <Stack\r\n      useFlexGap\r\n      spacing={2}\r\n      flexWrap=\"wrap\"\r\n      direction=\"row\"\r\n    >\r\n      <Stack\r\n        direction=\"row\"\r\n        flexWrap=\"wrap\"\r\n        spacing={0.5}\r\n        useFlexGap\r\n      >\r\n        {OPERATOR_TEXT.map((option, index) => (\r\n          <EditorRibbonButton\r\n            key={\"insert-btn-text\" + index}\r\n            onClick={(value) => onClick(value)}\r\n            options={[option, OPERATOR_SYMBOL[index]]}\r\n          />\r\n        ))}\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n","import { Stack, TextField } from \"@mui/material\";\r\nimport { Dispatch, FC, useRef } from \"react\";\r\nimport { EditorRibbon } from \"./EditorRibbon\";\r\n\r\ntype EditorProps = {\r\n  placeholder: string;\r\n  value: string;\r\n  onChange: Dispatch<string>;\r\n};\r\nexport const Editor: FC<EditorProps> = (props) => {\r\n  const { placeholder, value, onChange } = props;\r\n\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const handleInsertChar = (char: string) => {\r\n    onChange(`${value} ${char} `);\r\n    if (inputRef !== null && inputRef.current !== null) {\r\n      inputRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <EditorRibbon onClick={handleInsertChar} />\r\n      <TextField\r\n        inputRef={inputRef}\r\n        fullWidth\r\n        multiline\r\n        rows={5}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        slotProps={{\r\n          input: {\r\n            autoCapitalize: \"off\",\r\n            spellCheck: \"false\",\r\n            sx: {\r\n              fontFamily: \"monospace\",\r\n            },\r\n          },\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\nimport {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Grid2,\r\n  Radio,\r\n  RadioGroup,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledLatex } from \"../../styled/StyledLatex\";\r\n\r\ntype PlaygroundSymbolConfig = {\r\n  symbolTable: SymbolTable;\r\n  onChange: (k: string, v: boolean) => void;\r\n};\r\nexport const PlaygroundSymbolConfig: FC<\r\n  PlaygroundSymbolConfig\r\n> = (props) => {\r\n  const { symbolTable, onChange } = props;\r\n\r\n  const { t } = useTranslation(\"translation\");\r\n\r\n  const symbols = [...symbolTable.keys()];\r\n  symbols.sort();\r\n\r\n  return (\r\n    <Grid2\r\n      container\r\n      width=\"100%\"\r\n      spacing={2}\r\n      sx={{\r\n        maxHeight: 400,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      {symbols.map((sym) => (\r\n        <Grid2\r\n          key={\"symbol-\" + sym}\r\n          size={{ xs: 12, md: 6 }}\r\n        >\r\n          <FormControl fullWidth>\r\n            <FormLabel>\r\n              <StyledLatex tex={sym} />\r\n            </FormLabel>\r\n            <RadioGroup\r\n              row\r\n              value={symbolTable.get(sym) ? \"1\" : \"0\"}\r\n              onChange={(e) =>\r\n                onChange(sym, e.target.value === \"1\")\r\n              }\r\n            >\r\n              <FormControlLabel\r\n                control={<Radio disableRipple />}\r\n                value=\"1\"\r\n                label={t(\r\n                  \"component.playground.config.true\"\r\n                )}\r\n              />\r\n              <FormControlLabel\r\n                control={<Radio disableRipple />}\r\n                value=\"0\"\r\n                label={t(\r\n                  \"component.playground.config.false\"\r\n                )}\r\n              />\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid2>\r\n      ))}\r\n    </Grid2>\r\n  );\r\n};\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n} from \"@mui/material\";\r\nimport { FC, ReactNode } from \"react\";\r\n\r\ntype StyledOutputCardProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n};\r\nexport const StyledOutputCard: FC<StyledOutputCardProps> = (\r\n  props\r\n) => {\r\n  const { children, title } = props;\r\n  return (\r\n    <Card\r\n      variant=\"outlined\"\r\n      sx={{\r\n        padding: 2,\r\n        borderRadius: ({ shape }) => shape.borderRadius,\r\n      }}\r\n    >\r\n      <CardHeader\r\n        title={title}\r\n        titleTypographyProps={{\r\n          fontWeight: 900,\r\n        }}\r\n      />\r\n      <CardContent>{children}</CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SyntaxTreeNodeKind } from \"$types/syntax-tree\";\r\n\r\nconst _exprTreeToLatex = (\r\n  tree: ExprTree,\r\n  table: Map<string, string> | null = null\r\n): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      if (table !== null && table.has(tree.repr)) {\r\n        return table.get(tree.repr)!;\r\n      }\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _exprTreeToLatex(tree.child, table);\r\n      if (\r\n        tree.child.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        return `${tree.repr} ( ${child} )`;\r\n      }\r\n      return `${tree.repr} ${child}`;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      let left = _exprTreeToLatex(tree.left, table);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        left = `( ${left} )`;\r\n      }\r\n\r\n      let right = _exprTreeToLatex(tree.right, table);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        right = `( ${right} )`;\r\n      }\r\n\r\n      return `${left} ${tree.repr} ${right}`;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeToLatex = (exprTree: ExprTree) => {\r\n  return _exprTreeToLatex(exprTree);\r\n};\r\n\r\nexport const exprTreeToLatexSubstitute = (\r\n  exprTree: ExprTree,\r\n  symbolMap: Map<string, string>\r\n) => {\r\n  return _exprTreeToLatex(exprTree, symbolMap);\r\n};\r\n","import { Editor } from \"$components/math/Editor/Editor\";\r\nimport { PlaygroundSymbolConfig } from \"$components/math/Playground/PlaygroundSymbolConfig\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { StyledOutputCard } from \"$components/styled/StyledOutputCard\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { EvaluatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { PlayArrowRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const EvaluatorView: FC = () => {\r\n  const {\r\n    symbols,\r\n    data: data,\r\n    userInput: defaultUserInput,\r\n  } = useLoaderData() as EvaluatorRouteLoaderData;\r\n\r\n  const submit = useSubmit();\r\n\r\n  const [symbolTable, setSymbolTable] = useState(\r\n    new Map<string, boolean>()\r\n  );\r\n  const [userInput, setUserInput] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setUserInput(defaultUserInput);\r\n  }, [defaultUserInput]);\r\n\r\n  useEffect(() => {\r\n    const table = new Map<string, boolean>();\r\n    for (const symbol of symbols) {\r\n      table.set(symbol, true);\r\n    }\r\n    setSymbolTable(table);\r\n  }, [symbols]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/evaluator\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      maxWidth=\"lg\"\r\n      marginX={{ xs: 2, md: \"auto\" }}\r\n      paddingY={2}\r\n    >\r\n      <Stack spacing={2}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"p and q; p or q; p implies q; p iff q\"\r\n        />\r\n        <Button\r\n          disabled={userInput.trim().length === 0}\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          sx={{\r\n            maxWidth: \"fit-content\",\r\n          }}\r\n          onClick={handleSubmit}\r\n        >\r\n          RUN\r\n        </Button>\r\n        {data.length > 0 && data.some(({ ok }) => ok) && (\r\n          <>\r\n            <StyledOutputCard title=\"Propositions\">\r\n              {symbolTable.size === 0 && (\r\n                <Typography fontStyle=\"italic\">\r\n                  No proposition to display.\r\n                </Typography>\r\n              )}\r\n              {symbolTable.size > 0 && (\r\n                <PlaygroundSymbolConfig\r\n                  symbolTable={symbolTable}\r\n                  onChange={(k, v) =>\r\n                    setSymbolTable((prev) => {\r\n                      const next = new Map(prev);\r\n                      next.set(k, v);\r\n                      return next;\r\n                    })\r\n                  }\r\n                />\r\n              )}\r\n            </StyledOutputCard>\r\n            <StyledOutputCard title=\"Output\">\r\n              <Stack\r\n                spacing={2}\r\n                divider={<Divider flexItem />}\r\n              >\r\n                {data.map((expr, index) => (\r\n                  <Stack key={\"expr\" + index}>\r\n                    <StyledLatex\r\n                      tex={`\\\\text{\\\\textbf{Equation} \r\n                      $\\\\mathbf{${index + 1}}$:\r\n                      }`}\r\n                    />\r\n                    {!expr.ok && (\r\n                      <StyledLatex\r\n                        tex=\"\\text{The evaluator could not understand this expression.}\"\r\n                        sx={{\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      />\r\n                    )}\r\n                    {expr.ok && (\r\n                      <>\r\n                        <StyledLatex\r\n                          tex={exprTreeToLatex(expr.data)}\r\n                          options={{\r\n                            displayMode: true,\r\n                          }}\r\n                        />\r\n                        <StyledLatex\r\n                          tex={`\\\\text{is ${expr.data.eval(\r\n                            symbolTable\r\n                          )}.}`}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </Stack>\r\n                ))}\r\n              </Stack>\r\n            </StyledOutputCard>\r\n          </>\r\n        )}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreetoExprTree } from \"$core/tree/conversion\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { EvaluatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { EvaluatorView } from \"$views/EvaluatorView\";\r\nimport { RouteObject } from \"react-router\";\r\n\r\nexport const EVALUATOR_ROUTE: RouteObject = {\r\n  path: \"/evaluator\",\r\n  element: <EvaluatorView />,\r\n  loader: ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const userInput = url.searchParams.get(\"input\");\r\n\r\n    if (\r\n      userInput === null ||\r\n      userInput.trim().length === 0\r\n    ) {\r\n      const loaderData: EvaluatorRouteLoaderData = {\r\n        userInput: \"\",\r\n        data: [],\r\n        symbols: new Set(),\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const symbols = new Set<string>();\r\n    const data: Maybe<ExprTree>[] = [];\r\n    for (const expr of userInput.split(\";\")) {\r\n      if (expr.trim().length === 0) {\r\n        continue;\r\n      }\r\n      const result = parse(expr);\r\n      if (!result.ok) {\r\n        data.push({ ok: false });\r\n        continue;\r\n      }\r\n      const exprTree = syntaxTreetoExprTree(result.data);\r\n      for (const symbol of exprTreeCollectSymbols(\r\n        exprTree\r\n      )) {\r\n        symbols.add(symbol);\r\n      }\r\n\r\n      data.push({\r\n        ok: true,\r\n        data: exprTree,\r\n      });\r\n    }\r\n\r\n    const loaderData: EvaluatorRouteLoaderData = {\r\n      userInput,\r\n      data: data,\r\n      symbols,\r\n    };\r\n    return loaderData;\r\n  },\r\n};\r\n","import { Alert, AlertProps, useTheme } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\nexport const StyledAlert: FC<AlertProps> = (props) => {\r\n  const { sx, ...rest } = props;\r\n  const { shape } = useTheme();\r\n  return (\r\n    <Alert\r\n      icon={false}\r\n      {...rest}\r\n      sx={{\r\n        borderRadius: shape.borderRadius,\r\n        padding: 4,\r\n        ...sx,\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\n\r\nexport const getPermutation = (\r\n  size: number,\r\n  symbols: string[]\r\n) => {\r\n  const perm: SymbolTable[] = [];\r\n  const permSize = 1 << size;\r\n  for (let i = 0; i < permSize; i++) {\r\n    const repr = i.toString(2).padStart(size, \"0\");\r\n    const p = new Map<string, boolean>();\r\n    for (let j = 0; j < size; j++) {\r\n      p.set(symbols[j], repr[j] === \"1\");\r\n    }\r\n    perm.push(p);\r\n  }\r\n  return perm;\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeCollectSymbols } from \"./expr/evaluate\";\r\nimport { exprTreeToLatexSubstitute } from \"./expr/latex\";\r\n\r\ntype MinifiedSyntaxTree = {\r\n  label: string;\r\n  eval: (t: SymbolTable) => boolean;\r\n};\r\nconst traverse = (\r\n  tree: ExprTree,\r\n  accum: MinifiedSyntaxTree[],\r\n  seen: Set<string>,\r\n  symbolMap: Map<string, string>\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return;\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const repr = exprTreeToLatexSubstitute(\r\n        tree,\r\n        symbolMap\r\n      );\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traverse(tree.child, accum, seen, symbolMap);\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        label: repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      const repr = exprTreeToLatexSubstitute(\r\n        tree,\r\n        symbolMap\r\n      );\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traverse(tree.left, accum, seen, symbolMap);\r\n      traverse(tree.right, accum, seen, symbolMap);\r\n\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        label: repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenPostOrder = (\r\n  tree: ExprTree\r\n) => {\r\n  const accum: MinifiedSyntaxTree[] = [];\r\n  const seen = new Set<string>();\r\n  const symbolMap = new Map<string, string>();\r\n  for (const symbol of exprTreeCollectSymbols(tree)) {\r\n    symbolMap.set(\r\n      symbol,\r\n      symbol.length >= 5\r\n        ? `${symbol.slice(0, 5)}\\\\ldots`\r\n        : symbol\r\n    );\r\n  }\r\n  traverse(tree, accum, seen, symbolMap);\r\n  return accum;\r\n};\r\n","import { StyledAlert } from \"$components/styled/StyledAlert\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { getPermutation } from \"$core/eval\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { exprTreeFlattenPostOrder } from \"$core/tree/flatten\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  alpha,\r\n  Button,\r\n  Stack,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, memo, useMemo, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype StyledTableCellProps = { value: boolean };\r\nconst StyledTableCell: FC<StyledTableCellProps> = (\r\n  props\r\n) => {\r\n  const { value } = props;\r\n  const { t } = useTranslation();\r\n  const { palette } = useTheme();\r\n\r\n  return (\r\n    <TableCell\r\n      align=\"center\"\r\n      sx={{\r\n        backgroundColor: value\r\n          ? alpha(palette.secondary.light, 0.8)\r\n          : alpha(palette.secondary.main, 0.2),\r\n        whiteSpace: \"nowrap\",\r\n      }}\r\n    >\r\n      {value ? t(\"common.true\") : t(\"common.false\")}\r\n    </TableCell>\r\n  );\r\n};\r\n\r\ntype TruthTableProps = {\r\n  exprTree: ExprTree;\r\n};\r\nconst TruthTable_: FC<TruthTableProps> = (props) => {\r\n  const { exprTree } = props;\r\n  const { t } = useTranslation();\r\n  const [userConfirmed, setUserConfirmed] = useState(false);\r\n\r\n  const { columns, symbols } = useMemo(() => {\r\n    const _columns = exprTreeFlattenPostOrder(exprTree);\r\n    const _symbols = [...exprTreeCollectSymbols(exprTree)];\r\n    _symbols.sort();\r\n    return { columns: _columns, symbols: _symbols };\r\n  }, [exprTree]);\r\n\r\n  const perm = useMemo(() => {\r\n    if (symbols.length > 3 && !userConfirmed) {\r\n      return [];\r\n    }\r\n    return getPermutation(symbols.length, symbols);\r\n  }, [symbols, userConfirmed]);\r\n\r\n  if (symbols.length > 3 && !userConfirmed) {\r\n    return (\r\n      <Stack spacing={1}>\r\n        <StyledAlert severity=\"warning\">\r\n          <Typography>\r\n            {t(\"common.truthTable.warning\")}\r\n          </Typography>\r\n        </StyledAlert>\r\n        <Button\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          onClick={() => setUserConfirmed(true)}\r\n          sx={{\r\n            width: \"fit-content\",\r\n          }}\r\n        >\r\n          {t(\"common.truthTable.confirm\")}\r\n        </Button>\r\n      </Stack>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TableContainer\r\n      sx={{\r\n        maxHeight: 600,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      <Table stickyHeader>\r\n        <TableHead>\r\n          <TableRow>\r\n            {symbols.map((symbol, index) => (\r\n              <TableCell\r\n                key={\"sym\" + index}\r\n                align=\"center\"\r\n                sx={{\r\n                  backgroundColor: ({ palette }) =>\r\n                    palette.background.paper,\r\n                  whiteSpace: \"nowrap\",\r\n                }}\r\n              >\r\n                <StyledLatex tex={symbol} />\r\n              </TableCell>\r\n            ))}\r\n            {columns.map((col, index) => (\r\n              <TableCell\r\n                key={\"subexpr\" + index}\r\n                align=\"center\"\r\n                sx={{\r\n                  backgroundColor: ({ palette }) =>\r\n                    palette.background.paper,\r\n                  whiteSpace: \"nowrap\",\r\n                }}\r\n              >\r\n                <StyledLatex tex={col.label} />\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {perm.map((p, index) => (\r\n            <TableRow key={\"perm\" + index}>\r\n              {symbols.map((sym, index) => (\r\n                <StyledTableCell\r\n                  key={\"sym\" + index}\r\n                  value={p.get(sym) || false}\r\n                />\r\n              ))}\r\n              {columns.map((column, colIndex) => (\r\n                <StyledTableCell\r\n                  key={\"col\" + colIndex}\r\n                  value={column.eval(p)}\r\n                />\r\n              ))}\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport const TruthTable = memo(\r\n  TruthTable_,\r\n  (prev, next) => {\r\n    return (\r\n      exprTreeToLatex(prev.exprTree) ===\r\n      exprTreeToLatex(next.exprTree)\r\n    );\r\n  }\r\n);\r\n","import {\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, KeyboardEvent, ReactNode } from \"react\";\r\n\r\ntype StyledIconButtonProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n  disabled?: boolean;\r\n  onClick: () => void;\r\n  onKeyPress: (e: KeyboardEvent<HTMLButtonElement>) => void;\r\n};\r\nexport const StyledIconButton: FC<StyledIconButtonProps> = (\r\n  props\r\n) => {\r\n  const { children, onKeyPress, onClick, title, disabled } =\r\n    props;\r\n  return (\r\n    <Tooltip\r\n      placement=\"top\"\r\n      title={<Typography>{title}</Typography>}\r\n    >\r\n      <span>\r\n        <IconButton\r\n          disableRipple={disabled}\r\n          color=\"primary\"\r\n          onClick={onClick}\r\n          onKeyDown={onKeyPress}\r\n        >\r\n          {children}\r\n        </IconButton>\r\n      </span>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import { StyledIconButton } from \"$components/styled/StyledIconButton\";\r\nimport {\r\n  KeyboardArrowLeftRounded,\r\n  KeyboardArrowRightRounded,\r\n} from \"@mui/icons-material\";\r\nimport { Slider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, KeyboardEvent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype PlaygroundPlaybackControlProps = {\r\n  maxValue: number;\r\n  minValue: number;\r\n  value: number;\r\n  onChange: (v: number) => void;\r\n};\r\nexport const PlaygroundPlaybackControl: FC<\r\n  PlaygroundPlaybackControlProps\r\n> = (props) => {\r\n  const { maxValue, minValue, onChange, value } = props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"playground.playback\",\r\n  });\r\n\r\n  const handleForward = () => {\r\n    if (value >= maxValue) {\r\n      return;\r\n    }\r\n    onChange(value + 1);\r\n  };\r\n\r\n  const handleRewind = () => {\r\n    if (value <= minValue) {\r\n      return;\r\n    }\r\n    onChange(value - 1);\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: KeyboardEvent<HTMLButtonElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      handleForward();\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      handleRewind();\r\n    }\r\n  };\r\n\r\n  // There is a possibility for the ui to fall apart due to overflow\r\n  // **IF** the order is large enough eg 20 digits long\r\n  // in such a case, the label would over and pushes the forward arrow\r\n  // and the slider out of view\r\n  // but let's be real, we run into other problem any way\r\n  // if the evaluation of a tree that large\r\n  const maxLabel = maxValue.toString();\r\n  const valueLabel = value\r\n    .toString()\r\n    .padStart(maxLabel.length, \"0\");\r\n  const label = `${valueLabel}/${maxLabel}`;\r\n\r\n  return (\r\n    <Stack\r\n      useFlexGap\r\n      spacing={1}\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n    >\r\n      <StyledIconButton\r\n        disabled={value <= minValue}\r\n        title={t(\"rewind\")}\r\n        onClick={handleRewind}\r\n        onKeyPress={handleKeyPress}\r\n      >\r\n        <KeyboardArrowLeftRounded />\r\n      </StyledIconButton>\r\n      <Typography fontFamily=\"monospace\">\r\n        {label}\r\n      </Typography>\r\n      <StyledIconButton\r\n        disabled={value >= maxValue}\r\n        title={t(\"forward\")}\r\n        onKeyPress={handleKeyPress}\r\n        onClick={handleForward}\r\n      >\r\n        <KeyboardArrowRightRounded />\r\n      </StyledIconButton>\r\n      <Slider\r\n        valueLabelDisplay=\"auto\"\r\n        onChange={(_, v) => onChange(v as number)}\r\n        value={value}\r\n        max={maxValue}\r\n        min={minValue}\r\n        step={1}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { Fab, Tooltip, Typography } from \"@mui/material\";\r\nimport { FC, ReactElement } from \"react\";\r\n\r\ntype StyledFABProps = {\r\n  title: string;\r\n  onClick: () => void;\r\n  children: ReactElement;\r\n};\r\nexport const StyledFAB: FC<StyledFABProps> = (props) => {\r\n  const { children, onClick, title } = props;\r\n  return (\r\n    <Fab\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      onClick={onClick}\r\n      sx={{\r\n        position: \"absolute\",\r\n        left: 16,\r\n        bottom: 16,\r\n      }}\r\n    >\r\n      <Tooltip\r\n        placement=\"right\"\r\n        title={<Typography>{title}</Typography>}\r\n      >\r\n        {children}\r\n      </Tooltip>\r\n    </Fab>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport {\r\n  HierarchyPointLink,\r\n  HierarchyPointNode,\r\n} from \"@visx/hierarchy/lib/types\";\r\nimport { LinkVertical } from \"@visx/shape\";\r\nimport { FC } from \"react\";\r\n\r\ntype TreeGraphLinkProps = {\r\n  link: HierarchyPointLink<ExprTree>;\r\n  order: number;\r\n};\r\nexport const TreeGraphLink: FC<TreeGraphLinkProps> = (\r\n  props\r\n) => {\r\n  const { link, order } = props;\r\n  const { palette } = useTheme();\r\n  const { source, target } = link;\r\n  const isSourceVisible = source.data.order <= order;\r\n\r\n  const isTargetVisibleNow = target.data.order <= order;\r\n  const isTargetVisibleSoon =\r\n    target.data.order <= order + 1;\r\n  const isTargetVisible =\r\n    isTargetVisibleNow || isTargetVisibleSoon;\r\n\r\n  const isLinkVisible = isSourceVisible && isTargetVisible;\r\n\r\n  return (\r\n    <LinkVertical<\r\n      HierarchyPointLink<ExprTree>,\r\n      HierarchyPointNode<ExprTree>\r\n    >\r\n      data={link}\r\n      stroke={palette.primary.light}\r\n      visibility={isLinkVisible ? \"visible\" : \"hidden\"}\r\n      strokeOpacity={isTargetVisible ? \"0.6\" : \"0.3\"}\r\n      strokeWidth=\"5\"\r\n      fill=\"none\"\r\n    />\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { HierarchyPointNode } from \"@visx/hierarchy/lib/types\";\r\nimport katex from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype TreeGraphNodeProps = {\r\n  node: HierarchyPointNode<ExprTree>;\r\n  order: number;\r\n  symbolTable: SymbolTable;\r\n  r: number;\r\n};\r\nexport const TreeGraphNode: FC<TreeGraphNodeProps> = (\r\n  props\r\n) => {\r\n  const { r, order, node, symbolTable } = props;\r\n  const { t } = useTranslation();\r\n  const { x, y, data } = node;\r\n  const { palette, typography } = useTheme();\r\n  const ref = useRef<SVGTextElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      ref.current.innerHTML = katex\r\n        .renderToString(data.repr)\r\n        .replaceAll(\"span\", \"tspan\");\r\n    }\r\n  }, [ref, data.repr]);\r\n\r\n  const isNodeHighlighted = data.order === order;\r\n  const isNodeVisibleNow = data.order <= order;\r\n  const isNodeVisibleSoon = data.order <= order + 1;\r\n  const isNodeVisible =\r\n    isNodeVisibleNow || isNodeVisibleSoon;\r\n  return (\r\n    <Group\r\n      top={y}\r\n      left={x}\r\n      opacity={isNodeVisibleNow ? 1 : 0.5}\r\n      visibility={isNodeVisible ? \"visible\" : \"hidden\"}\r\n    >\r\n      <circle\r\n        strokeWidth={isNodeHighlighted ? 5 : 0}\r\n        stroke={palette.primary.light}\r\n        strokeOpacity={0.8}\r\n        r={r}\r\n        fill={palette.secondary.light}\r\n      />\r\n      <text\r\n        ref={ref}\r\n        fontSize={typography.body1.fontSize}\r\n        color={palette.secondary.contrastText}\r\n        dy=\"0.33rem\"\r\n        textAnchor=\"middle\"\r\n        pointerEvents=\"none\"\r\n        style={{ userSelect: \"none\" }}\r\n      />\r\n      <Group\r\n        transform={`translate(${r / 3}, ${r / 3})`}\r\n        visibility={\r\n          data.order < order ? \"visible\" : \"hidden\"\r\n        }\r\n      >\r\n        <rect\r\n          width={60}\r\n          height={30}\r\n          rx={5}\r\n          ry={5}\r\n          fill={palette.secondary.light}\r\n        />\r\n        <text\r\n          x=\"30\"\r\n          y=\"22\"\r\n          fillOpacity={0.5}\r\n          textAnchor=\"middle\"\r\n          pointerEvents=\"none\"\r\n          style={{ userSelect: \"none\" }}\r\n        >\r\n          {data.eval(symbolTable)\r\n            ? t(\"common.true\")\r\n            : t(\"common.false\")}\r\n        </text>\r\n      </Group>\r\n    </Group>\r\n  );\r\n};\r\n","import { StyledFAB } from \"$components/styled/StyledFAB\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { ControlCameraRounded } from \"@mui/icons-material\";\r\nimport { Box } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { hierarchy, Tree } from \"@visx/hierarchy\";\r\nimport { Zoom } from \"@visx/zoom\";\r\nimport { FC, Fragment, KeyboardEvent, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TreeGraphLink } from \"./TreeGraphLink\";\r\nimport { TreeGraphNode } from \"./TreeGraphNode\";\r\n\r\nconst flatten_expr = (d: ExprTree) => {\r\n  switch (d.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return null;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return null;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      return [d.child];\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      return [d.left, d.right];\r\n  }\r\n};\r\n\r\ntype TreeGraphProps = {\r\n  symbolTable: SymbolTable;\r\n  tree: ExprTree;\r\n  order: number;\r\n  onKeyDown: (e: KeyboardEvent<SVGSVGElement>) => void;\r\n};\r\nexport const TreeGraph: FC<TreeGraphProps> = (props) => {\r\n  const { tree, order, onKeyDown, symbolTable } = props;\r\n\r\n  const { t } = useTranslation();\r\n  const viewportRef = useRef<HTMLDivElement | null>(null);\r\n  const data = hierarchy(tree, flatten_expr);\r\n\r\n  const viewportWidth =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().width;\r\n\r\n  const viewportHeight =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().height;\r\n\r\n  const treeWidth = (data.leaves().length + 1) * 150;\r\n  const treeHeight = (data.height + 1) * 100;\r\n  const nodeRadius = 30;\r\n\r\n  return (\r\n    <Box\r\n      ref={viewportRef}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      position=\"relative\"\r\n    >\r\n      <Zoom<SVGSVGElement>\r\n        width={viewportWidth}\r\n        height={viewportHeight}\r\n        scaleXMin={1 / 10}\r\n        scaleXMax={1}\r\n        scaleYMin={1 / 10}\r\n        scaleYMax={1}\r\n      >\r\n        {(zoom) => (\r\n          <Fragment>\r\n            <svg\r\n              tabIndex={0} // Need tabindex otherwise svg will not send keyboard event\r\n              width={viewportWidth}\r\n              height={viewportHeight}\r\n              ref={zoom.containerRef}\r\n              onKeyDown={onKeyDown}\r\n              style={{\r\n                touchAction: \"none\",\r\n                cursor: zoom.isDragging\r\n                  ? \"grabbing\"\r\n                  : \"grab\",\r\n              }}\r\n              onMouseDown={zoom.dragStart}\r\n              onMouseMove={zoom.dragMove}\r\n              onMouseUp={zoom.dragEnd}\r\n              onMouseLeave={zoom.dragEnd}\r\n            >\r\n              <Group transform={zoom.toString()}>\r\n                <Tree\r\n                  root={data}\r\n                  size={[treeWidth, -treeHeight]}\r\n                >\r\n                  {(treeHeir) => (\r\n                    <Group\r\n                      top={treeHeight + nodeRadius * 1.5}\r\n                    >\r\n                      {treeHeir.links().map((link, i) => (\r\n                        <TreeGraphLink\r\n                          key={`link-${i}`}\r\n                          order={order}\r\n                          link={link}\r\n                        />\r\n                      ))}\r\n                      {treeHeir\r\n                        .descendants()\r\n                        .map((node, i) => (\r\n                          <TreeGraphNode\r\n                            key={`node-${i}`}\r\n                            order={order}\r\n                            node={node}\r\n                            symbolTable={symbolTable}\r\n                            r={nodeRadius}\r\n                          />\r\n                        ))}\r\n                    </Group>\r\n                  )}\r\n                </Tree>\r\n              </Group>\r\n            </svg>\r\n            <StyledFAB\r\n              onClick={zoom.center}\r\n              title={t(\"playground.graph.center\")}\r\n            >\r\n              <ControlCameraRounded />\r\n            </StyledFAB>\r\n          </Fragment>\r\n        )}\r\n      </Zoom>\r\n    </Box>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Paper, Stack } from \"@mui/material\";\r\nimport {\r\n  FC,\r\n  KeyboardEvent,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport { PlaygroundPlaybackControl } from \"./PlaygroundPlaybackControl\";\r\nimport { TreeGraph } from \"./TreeGraph/TreeGraph\";\r\n\r\ntype PlaygroundProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n};\r\nexport const Playground: FC<PlaygroundProps> = (props) => {\r\n  const { exprTree, symbolTable } = props;\r\n  const [step, setStep] = useState(1);\r\n  const [maxStep, setMaxStep] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setStep(1);\r\n    setMaxStep(exprTree.order + 1);\r\n  }, [exprTree]);\r\n\r\n  const handleGraphKeyPress = (\r\n    e: KeyboardEvent<SVGSVGElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      setStep((prev) => Math.min(maxStep, prev + 1));\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setStep((prev) => Math.max(1, prev - 1));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={{\r\n          height: \"75vh\",\r\n          width: \"100%\",\r\n          borderRadius: ({ shape }) => shape.borderRadius,\r\n        }}\r\n      >\r\n        <TreeGraph\r\n          order={step}\r\n          tree={exprTree}\r\n          onKeyDown={handleGraphKeyPress}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </Paper>\r\n      <PlaygroundPlaybackControl\r\n        maxValue={maxStep}\r\n        minValue={1}\r\n        value={step}\r\n        onChange={setStep}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeToLatex } from \"./tree/expr/latex\";\r\n\r\nexport type EvaluationStep = {\r\n  repr: string;\r\n  substitutions: {\r\n    substituted: string;\r\n    repr: string;\r\n    stepRef: number | false;\r\n    evaluated: boolean;\r\n  }[];\r\n  evaluated: boolean;\r\n};\r\n\r\n// const substitute = (\r\n//   tree: ExprTree,\r\n//   table: SymbolTable\r\n// ): string => {\r\n//   switch (tree.nodeType) {\r\n//     case SyntaxTreeNodeKind.CONST:\r\n//     case SyntaxTreeNodeKind.IDEN:\r\n//       return tree.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//     case SyntaxTreeNodeKind.UNARY: {\r\n//       const { child } = tree;\r\n//       let repr = child.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n\r\n//       if (\r\n//         child.nodeType === SyntaxTreeNodeKind.UNARY ||\r\n//         child.nodeType === SyntaxTreeNodeKind.BINARY\r\n//       ) {\r\n//         repr = `\\\\lnot ( ${repr} )`;\r\n//       } else {\r\n//         repr = `\\\\lnot ${repr} `;\r\n//       }\r\n//       return repr;\r\n//     }\r\n//     case SyntaxTreeNodeKind.BINARY: {\r\n//       const { right, left } = tree;\r\n\r\n//       let leftRepr = left.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//       switch (left.nodeType) {\r\n//         case SyntaxTreeNodeKind.UNARY:\r\n//         case SyntaxTreeNodeKind.BINARY:\r\n//           leftRepr = `( ${leftRepr} )`;\r\n//       }\r\n\r\n//       let rightRepr = right.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//       switch (right.nodeType) {\r\n//         case SyntaxTreeNodeKind.UNARY:\r\n//         case SyntaxTreeNodeKind.BINARY:\r\n//           rightRepr = `( ${rightRepr} )`;\r\n//       }\r\n\r\n//       return `${leftRepr} ${tree.repr} ${rightRepr}`;\r\n//     }\r\n//   }\r\n// };\r\n\r\nconst traverse = (\r\n  tree: ExprTree,\r\n  table: SymbolTable,\r\n  steps: EvaluationStep[]\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      {\r\n        const evaluated = tree.eval(table);\r\n        const repr = tree.repr;\r\n        steps.push({\r\n          repr,\r\n          evaluated,\r\n          substitutions: [\r\n            {\r\n              repr,\r\n              evaluated,\r\n              stepRef: false,\r\n              substituted: `\\\\text{${evaluated}}`,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      {\r\n        const { child } = tree;\r\n\r\n        const childEval = child.eval(table);\r\n        let childStep: number | false = false;\r\n\r\n        if (\r\n          child.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          child.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(child, table, steps);\r\n          childStep = steps.length;\r\n        }\r\n\r\n        // not (x and y)\r\n        // From (9), x and y === True\r\n        // not True\r\n        // False\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          substitutions: [\r\n            {\r\n              repr: exprTreeToLatex(child),\r\n              evaluated: childEval,\r\n              stepRef: childStep,\r\n              substituted: `\\\\lnot \\\\text{${childEval}}`,\r\n            },\r\n          ],\r\n          evaluated: tree.eval(table),\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      {\r\n        const { right, left } = tree;\r\n\r\n        const leftEval = left.eval(table);\r\n        const leftSubstituted = `\\\\text{${leftEval}}`;\r\n        let leftStep: number | false = false;\r\n        if (\r\n          left.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          left.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(left, table, steps);\r\n          leftStep = steps.length;\r\n        }\r\n\r\n        const rightEval = right.eval(table);\r\n        const rightRawRepr = exprTreeToLatex(right);\r\n        const rightRepr =\r\n          right.nodeType === SyntaxTreeNodeKind.BINARY\r\n            ? `( ${rightRawRepr} )`\r\n            : rightRawRepr;\r\n        const rightSubstituted = `\\\\text{${rightEval}}`;\r\n        let rightStep: number | false = false;\r\n        if (\r\n          right.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          right.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(right, table, steps);\r\n          rightStep = steps.length;\r\n        }\r\n\r\n        // (x and y) and (y and z)\r\n        // From (9), x and y === True\r\n        // True and (y and z)\r\n        // From (10), y and z === True\r\n        // True and True\r\n        // True\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          evaluated: tree.eval(table),\r\n          substitutions: [\r\n            {\r\n              repr: exprTreeToLatex(left),\r\n              evaluated: leftEval,\r\n              stepRef: leftStep,\r\n              substituted: `${leftSubstituted} ${tree.repr} ${rightRepr}`,\r\n            },\r\n            {\r\n              repr: rightRawRepr,\r\n              evaluated: rightEval,\r\n              stepRef: rightStep,\r\n              substituted: `${leftSubstituted} ${tree.repr} ${rightSubstituted}`,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenStepByStep = (\r\n  tree: ExprTree,\r\n  symbolTable: SymbolTable\r\n) => {\r\n  const steps: EvaluationStep[] = [];\r\n  traverse(tree, symbolTable, steps);\r\n  return steps;\r\n};\r\n","import { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport {\r\n  EvaluationStep,\r\n  exprTreeFlattenStepByStep,\r\n} from \"$core/exprTreeFlattenStepByStep\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Divider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, Fragment, memo } from \"react\";\r\n\r\ntype SubstitutionStepDisplayProps = {\r\n  references: EvaluationStep[];\r\n  subStep: EvaluationStep[\"substitutions\"][number];\r\n  stepIndex: number;\r\n  subStepIndex: number;\r\n};\r\nconst SubstitutionStepDisplay: FC<\r\n  SubstitutionStepDisplayProps\r\n> = (props) => {\r\n  const { subStep, references, subStepIndex, stepIndex } =\r\n    props;\r\n  const prevMarker = String.fromCharCode(subStepIndex + 97);\r\n  const currMarker = String.fromCharCode(\r\n    subStepIndex + 97 + 1\r\n  );\r\n\r\n  const taggedExpr = `${subStep.substituted}. \\\\tag{${stepIndex}.${currMarker}}`;\r\n  if (subStep.stepRef === false) {\r\n    return (\r\n      <Stack>\r\n        <StyledLatex\r\n          tex={`\\\\text{Given $${subStep.repr}$ is ${subStep.evaluated}, substitute into $(${stepIndex}.${prevMarker})$,}`}\r\n        />\r\n        <StyledLatex\r\n          tex={taggedExpr}\r\n          options={{ displayMode: true }}\r\n        />\r\n      </Stack>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Stack>\r\n      <StyledLatex\r\n        tex={`\\\\text{From Eq. $(${subStep.stepRef})$,}`}\r\n      />\r\n      <StyledLatex\r\n        tex={references[subStep.stepRef - 1].repr}\r\n        options={{ displayMode: true }}\r\n      />\r\n      <StyledLatex\r\n        tex={`\\\\text{is ${subStep.evaluated}.}`}\r\n      />\r\n      <StyledLatex\r\n        tex={`\\\\text{Substitute into $(${stepIndex}.${prevMarker})$},`}\r\n      />\r\n      <StyledLatex\r\n        tex={taggedExpr}\r\n        options={{ displayMode: true }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\ntype StepDisplayProps = {\r\n  stepIndex: number;\r\n  step: EvaluationStep;\r\n  references: EvaluationStep[];\r\n};\r\nconst StepDisplay: FC<StepDisplayProps> = (props) => {\r\n  const { step, stepIndex, references } = props;\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <StyledLatex tex={`\\\\textbf{Step $${stepIndex}$}`} />\r\n      <StyledLatex tex={`\\\\text{Consider}`} />\r\n      <StyledLatex\r\n        tex={`${step.repr}. \\\\tag{${stepIndex}.a}`}\r\n        options={{ displayMode: true }}\r\n      />\r\n      {step.substitutions.length > 0 && (\r\n        <Fragment>\r\n          {step.substitutions.map(\r\n            (subStep, subStepIndex) => (\r\n              <SubstitutionStepDisplay\r\n                stepIndex={stepIndex}\r\n                subStepIndex={subStepIndex}\r\n                key={\"sub-step\" + stepIndex + subStepIndex}\r\n                subStep={subStep}\r\n                references={references}\r\n              />\r\n            )\r\n          )}\r\n        </Fragment>\r\n      )}\r\n      <StyledLatex\r\n        tex={`\\\\text{Then $(${stepIndex}.${String.fromCharCode(\r\n          step.substitutions.length + 97\r\n        )})$ is ${step.evaluated}.}`}\r\n      />\r\n      <StyledLatex\r\n        tex={`\\\\textbf{Equation $${stepIndex}$:}`}\r\n      />\r\n      <StyledLatex\r\n        tex={step.repr}\r\n        options={{ displayMode: true }}\r\n      />\r\n      <StyledLatex tex={`\\\\text{is ${step.evaluated}.}`} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\ntype StepByStepEvaluationProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n};\r\nconst StepByStepEvaluation_: FC<\r\n  StepByStepEvaluationProps\r\n> = (props) => {\r\n  const { exprTree, symbolTable } = props;\r\n\r\n  const steps = exprTreeFlattenStepByStep(\r\n    exprTree,\r\n    symbolTable\r\n  );\r\n\r\n  if (steps.length === 0) {\r\n    return (\r\n      <Typography fontStyle=\"italic\">\r\n        No step to display\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  const { repr, evaluated } = steps.at(-1)!;\r\n\r\n  return (\r\n    <Stack\r\n      spacing={2}\r\n      divider={<Divider flexItem />}\r\n    >\r\n      {steps.map((step, index) => (\r\n        <StepDisplay\r\n          key={\"step\" + index}\r\n          step={step}\r\n          stepIndex={index + 1}\r\n          references={steps}\r\n        />\r\n      ))}\r\n      <Stack>\r\n        <StyledLatex tex=\"\\text{Therefore,}\" />\r\n        <StyledLatex\r\n          tex={repr}\r\n          options={{ displayMode: true }}\r\n        />\r\n        <StyledLatex tex={`\\\\text{is ${evaluated}.}`} />\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const StepByStepEvaluation = memo(\r\n  StepByStepEvaluation_,\r\n  (prev, next) => {\r\n    if (\r\n      exprTreeToLatex(prev.exprTree) !==\r\n      exprTreeToLatex(next.exprTree)\r\n    ) {\r\n      return false;\r\n    }\r\n    for (const [k, v] of prev.symbolTable.entries()) {\r\n      if (next.symbolTable.get(k) !== v) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n);\r\n","import { TruthTable } from \"$components/math/TruthTable/TruthTable\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { StyledOutputCard } from \"$components/styled/StyledOutputCard\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { FC, memo, useEffect, useState } from \"react\";\r\nimport { Playground } from \"./Playground/Playground\";\r\nimport { PlaygroundSymbolConfig } from \"./Playground/PlaygroundSymbolConfig\";\r\nimport { StepByStepEvaluation } from \"./StepByStepEvaluation\";\r\n\r\ntype SolverOutputGroupProps = {\r\n  exprTree: ExprTree;\r\n  symbolSet: Set<string>;\r\n};\r\nconst SolverOutputGroup_: FC<SolverOutputGroupProps> = (\r\n  props\r\n) => {\r\n  const { exprTree, symbolSet } = props;\r\n\r\n  const [symbolTable, setSymbolTable] = useState(() => {\r\n    const next = new Map<string, boolean>();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    return next;\r\n  });\r\n\r\n  const handleSymbolChange = (k: string, v: boolean) => {\r\n    setSymbolTable((prev) => {\r\n      const next = new Map(prev);\r\n      next.set(k, v);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const next = new Map<string, boolean>();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    setSymbolTable(next);\r\n  }, [symbolSet]);\r\n\r\n  return (\r\n    <Stack spacing={2}>\r\n      <StyledOutputCard title=\"Input\">\r\n        <StyledLatex\r\n          tex={exprTreeToLatex(exprTree)}\r\n          sx={{\r\n            textAlign: \"center\",\r\n            display: \"inline-block\",\r\n            width: \"100%\",\r\n          }}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Output\">\r\n        <StyledLatex\r\n          tex={`\r\n            \\\\textbf{${\r\n              exprTree.eval(symbolTable) ? \"True\" : \"False\"\r\n            }}`}\r\n          sx={{\r\n            textAlign: \"center\",\r\n          }}\r\n        />\r\n        <PlaygroundSymbolConfig\r\n          symbolTable={symbolTable}\r\n          onChange={handleSymbolChange}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Step-by-step Evaluation\">\r\n        <StepByStepEvaluation\r\n          exprTree={exprTree}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Graph\">\r\n        <Playground\r\n          exprTree={exprTree}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Truth Table\">\r\n        <TruthTable exprTree={exprTree} />\r\n      </StyledOutputCard>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const SolverOutputGroup = memo(\r\n  SolverOutputGroup_,\r\n  (prev, next) => {\r\n    const p = exprTreeToLatex(prev.exprTree);\r\n    const n = exprTreeToLatex(next.exprTree);\r\n    return n === p;\r\n  }\r\n);\r\n","import { Editor } from \"$components/math/Editor/Editor\";\r\nimport { SolverOutputGroup } from \"$components/math/SolverOutputGroup\";\r\nimport { SolverRouteLoaderData } from \"$types/loader-data\";\r\nimport { PlayArrowRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  Box,\r\n  Button,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const SolverView: FC = () => {\r\n  const { data, userInput: defaultUserInput } =\r\n    useLoaderData() as SolverRouteLoaderData;\r\n  const submit = useSubmit();\r\n  const [userInput, setUserInput] = useState(\r\n    defaultUserInput\r\n  );\r\n\r\n  useEffect(() => {\r\n    setUserInput(defaultUserInput);\r\n  }, [defaultUserInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/solver\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      maxWidth=\"lg\"\r\n      marginX={{ xs: 2, md: \"auto\" }}\r\n      paddingY={2}\r\n    >\r\n      <Stack spacing={2}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"not (p and q) iff (not p or not q)\"\r\n        />\r\n        <Button\r\n          disabled={userInput.trim().length === 0}\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          sx={{\r\n            maxWidth: \"fit-content\",\r\n          }}\r\n          onClick={handleSubmit}\r\n        >\r\n          RUN\r\n        </Button>\r\n        {data.ok && (\r\n          <SolverOutputGroup\r\n            exprTree={data.data.exprTree}\r\n            symbolSet={data.data.symbols}\r\n          />\r\n        )}\r\n        {!data.ok && defaultUserInput.trim().length > 0 && (\r\n          <Alert\r\n            severity=\"warning\"\r\n            variant=\"outlined\"\r\n          >\r\n            <AlertTitle>\r\n              <Typography>\r\n                The solver cannot understand your input.\r\n              </Typography>\r\n            </AlertTitle>\r\n            <Typography>\r\n              It seems like something is wrong with the\r\n              expression.\r\n            </Typography>\r\n          </Alert>\r\n        )}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreetoExprTree } from \"$core/tree/conversion\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { SolverRouteLoaderData } from \"$types/loader-data\";\r\nimport { SolverView } from \"$views/SolverView\";\r\nimport { RouteObject } from \"react-router\";\r\n\r\nexport const SOLVER_ROUTE: RouteObject = {\r\n  path: \"/solver\",\r\n  element: <SolverView />,\r\n  loader: ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const userInputRaw = url.searchParams.get(\"input\");\r\n\r\n    if (\r\n      userInputRaw === null ||\r\n      userInputRaw.toString().trim().length === 0\r\n    ) {\r\n      const loaderData: SolverRouteLoaderData = {\r\n        userInput: \"\",\r\n        data: { ok: false },\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const userInput = userInputRaw.toString();\r\n    const result = parse(userInput);\r\n\r\n    if (!result.ok) {\r\n      const loaderData: SolverRouteLoaderData = {\r\n        userInput,\r\n        data: { ok: false },\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const { data: syntaxTree } = result;\r\n    const exprTree = syntaxTreetoExprTree(syntaxTree);\r\n    const symbols = exprTreeCollectSymbols(exprTree);\r\n    const loaderData: SolverRouteLoaderData = {\r\n      userInput,\r\n      data: {\r\n        ok: true,\r\n        data: {\r\n          exprTree,\r\n          symbols,\r\n        },\r\n      },\r\n    };\r\n    return loaderData;\r\n  },\r\n};\r\n","import { amber, brown, green } from \"@mui/material/colors\";\r\nimport {\r\n  alpha,\r\n  PaletteOptions,\r\n} from \"@mui/material/styles\";\r\n\r\nexport const PALETTE_OPTIONS: PaletteOptions = {\r\n  mode: \"light\",\r\n  primary: { main: brown[\"700\"] },\r\n  secondary: { main: green[\"100\"] },\r\n  background: { default: alpha(amber[\"50\"], 0.6) },\r\n  divider: brown[\"A700\"],\r\n};\r\n","import { createTheme } from \"@mui/material\";\r\nimport { PALETTE_OPTIONS } from \"./palette\";\r\n\r\nexport const THEME = createTheme({\r\n  palette: PALETTE_OPTIONS,\r\n  components: {\r\n    MuiList: {\r\n      defaultProps: {\r\n        disablePadding: true,\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      defaultProps: {\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiTooltip: {\r\n      styleOverrides: {\r\n        arrow: ({ theme: t }) => ({\r\n          color: t.palette.primary.dark,\r\n        }),\r\n        tooltip: ({ theme: t }) => ({\r\n          backgroundColor: t.palette.primary.dark,\r\n        }),\r\n      },\r\n    },\r\n    MuiDialogActions: {\r\n      defaultProps: {\r\n        sx: { justifyContent: \"flex-start\" },\r\n      },\r\n    },\r\n  },\r\n});\r\n","import \"$core/interpreter/parser\";\r\nimport { AppbarLayout } from \"$layouts/AppbarLayout\";\r\nimport { HomeView } from \"$views/HomeView\";\r\nimport { TheoremView } from \"$views/TheoremView\";\r\nimport {\r\n  CssBaseline,\r\n  GlobalStyles,\r\n  ThemeProvider,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport {\r\n  createHashRouter,\r\n  RouterProvider,\r\n} from \"react-router\";\r\nimport { EVALUATOR_ROUTE } from \"src/routes/evaluator\";\r\nimport { SOLVER_ROUTE } from \"src/routes/solver\";\r\nimport { THEME } from \"./thene/theme\";\r\n\r\nconst globalStyles = (\r\n  <GlobalStyles\r\n    styles={{\r\n      tableLayout: \"auto\",\r\n      borderCollapse: \"collapse\",\r\n      html: {\r\n        scrollBehavior: \"smooth\",\r\n      },\r\n    }}\r\n  />\r\n);\r\n\r\nconst router = createHashRouter(\r\n  [\r\n    {\r\n      path: \"/\",\r\n      element: <AppbarLayout />,\r\n      children: [\r\n        { index: true, element: <HomeView /> },\r\n        SOLVER_ROUTE,\r\n        EVALUATOR_ROUTE,\r\n        {\r\n          path: \"/theorem\",\r\n          element: <TheoremView />,\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  {\r\n    basename: \"/\",\r\n  }\r\n);\r\n\r\nexport const App: FC = () => {\r\n  return (\r\n    <ThemeProvider theme={THEME}>\r\n      <CssBaseline />\r\n      {globalStyles}\r\n      <RouterProvider router={router} />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n","export const en = {\r\n  translation: {\r\n    component: {\r\n      playground: {\r\n        config: {\r\n          true: \"True\",\r\n          false: \"False\",\r\n          editTruthValue: \"Modify propositions\",\r\n        },\r\n      },\r\n      common: {\r\n        editor: {\r\n          run: {\r\n            label: \"Run\",\r\n            alt: \"CTRL + ENTER\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    nav: {\r\n      home: \"Home\",\r\n      solver: \"Solver\",\r\n      evaluator: \"Evaluator\",\r\n      simplifier: \"Simplifier\",\r\n      checker: \"Tautology checker\",\r\n    },\r\n    view: {\r\n      home: {\r\n        launch: \"Open\",\r\n        read: \"Read\",\r\n        calculators: \"Tools\",\r\n        resources: \"Resources\",\r\n        card: {\r\n          solver: {\r\n            title: \"Solver\",\r\n            desc: \"Solve an expression with truth table, expression tree, and step-by-step calculation.\",\r\n          },\r\n          evaluator: {\r\n            title: \"Evaluator\",\r\n            desc: \"Evaluate expressions according to given truth values.\",\r\n          },\r\n          simplifier: {\r\n            title: \"Simplifier\",\r\n            desc: \"Transform an expression into an equivalent, reduced form.\",\r\n          },\r\n          checker: {\r\n            title: \"Tautology checker\",\r\n            desc: \"Check if an expression is always true.\",\r\n          },\r\n          theorem: {\r\n            title: \"Useful theorems\",\r\n            desc: \"A collection of theorems on zeroth-order logic.\",\r\n          },\r\n          about: {\r\n            title: \"Documentation\",\r\n            desc: \"Learn more about the project's implementation and design.\",\r\n          },\r\n        },\r\n      },\r\n      solver: {\r\n        truthTable: {\r\n          title: \"Truth Table\",\r\n        },\r\n        stepByStep: {\r\n          title: \"Step-by-step Evaluation\",\r\n        },\r\n        graph: {\r\n          title: \"Step-by-step\",\r\n        },\r\n        feedback: {\r\n          noExpression:\r\n            \"No expression to display. Evaluate one to see how it's interpreted!\",\r\n        },\r\n        howToUse: {\r\n          title: \"Not sure where to begin?\",\r\n          link: \"Read the Manual\",\r\n        },\r\n      },\r\n    },\r\n    common: {\r\n      truthTable: {\r\n        confirm: \"I understand\",\r\n        warning:\r\n          \"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.\",\r\n      },\r\n      proposition: \"Proposition\",\r\n      truthValue: \"Truth value\",\r\n      true: \"True\",\r\n      false: \"False\",\r\n      close: \"Close\",\r\n      connectives: {\r\n        negation: \"Negation\",\r\n        conjunction: \"Conjunction\",\r\n        disjunction: \"Disjunction\",\r\n        implication: \"Implication\",\r\n        equivalence: \"Equivalence\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"Original\",\r\n      simplifiedPanel: \"Simplified\",\r\n      howToUse: \"How to use?\",\r\n      run: \"Run\",\r\n      allowedOperatorLabel: \"Connectives to keep\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"Tap on a circle to modify the truth value of the expression.\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"No evaluation step to display. Evaluate an expression to see steps here.\",\r\n        cannotDisplayEvaluation:\r\n          \"Cannot display evaluation step. Please check the expression and try again.\",\r\n        center: \"Center Graph\",\r\n      },\r\n      playback: {\r\n        forward: \"Forward\",\r\n        rewind: \"Rewind\",\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","export const th = {\r\n  translation: {\r\n    common: {\r\n      proposition: \"ประพจน์\",\r\n      truthValue: \"ค่าความจริง\",\r\n      close: \"ปิด\",\r\n      true: \"จริง\",\r\n      false: \"เท็จ\",\r\n      connectives: {\r\n        negation: \"นิเสธ\",\r\n        conjunction: \"และ\",\r\n        disjunction: \"หรือ\",\r\n        implication: \"ถ้า แล้ว\",\r\n        equivalence: \"ก็ต่อเมื่อ\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"รูปเดิม\",\r\n      simplifiedPanel: \"รูปอย่างง่าย\",\r\n      howToUse: \"คู่มือการใช้งาน\",\r\n      run: \"คำนวณ\",\r\n      allowedOperatorLabel: \"ตัวเชื่อมที่คงไว้\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"แตะที่วงลมสีเขียวเพื่อแก้ไขค่าความจริงของนิพจน์\",\r\n        empty:\r\n          \"ไม่มีประพจน์ให้แสดงในขณะนี้ คำนวณประพจน์เพื่อตรวจสอบว่าโปรแกรมตีความถูกต้องหรือไม่\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"ไม่มีขั้นตอนการคำนวณให้แสดงในขณะนี้ คำนวณประพจน์เพื่อแสดงขั้นตอน\",\r\n        cannotDisplayEvaluation:\r\n          \"เกิดข้อผิดพลาด ไม่สามารถแสดงขั้นตอนการคำนวณได้ กรุณาตรวจสอบประพจน์และลองคำนวณอีกครั้ง\",\r\n        center: \"กลับสู่ศูนย์กลาง\",\r\n      },\r\n\r\n      playback: {\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n        forward: \"เดินหน้า\",\r\n        rewind: \"ถอยหลัง\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","import i18next from \"i18next\";\r\nimport {\r\n  default as Backend,\r\n  default as LangDectector,\r\n} from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { en } from \"./en/translation\";\r\nimport { th } from \"./th/translation\";\r\n\r\ni18next\r\n  .use(Backend)\r\n  .use(LangDectector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    detection: {\r\n      lookupLocalStorage: \"language\",\r\n    },\r\n    resources: {\r\n      en,\r\n      th,\r\n    },\r\n  });\r\n\r\nexport default i18next;\r\n","import { App } from \"$App/App\";\nimport \"$locales/config\";\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport \"$core/interpreter/grammar\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n\n"],"names":["SyntaxTreeNodeKind","Operator","collectBinaryNodes","operator","left","right","node","i","grammar","ohm.grammar","semantics","e","leftExpr","_","rightExpr","leftTree","rightTree","expr","_open","_close","_id","id","children","n","parse","content","m","LANGUAGES","LanguageSwitcher","i18n","t","useTranslation","anchor","setAnchor","useState","handleClose","Fragment","jsx","Tooltip","Typography","IconButton","TranslateRounded","Menu","shape","lang","index","selected","jsxs","MenuItem","ListItemIcon","CheckRounded","ListItemText","ToolNavDropDown","props","items","handleOpen","event","Button","KeyboardArrowDownRounded","theme","href","label","isSelected","NavLink","NAV_ITEMS","AppbarLayout","pathname","useLocation","Paper","palette","Stack","Link","HomeRounded","Outlet","CARDS","HomeView","Masonry","title","desc","Card","CardHeader","CardContent","UserManualBlogEN","COMPONENTS_OVERRIDE","Divider","hrefLang","referrerPolicy","StyledMarkdown","Markdown","rehypeKatex","rehypeSlug","remarkMath","remarkGfm","TheoremView","setContent","useEffect","UserManualBlogTH","response","text","Container","OPERATOR_REPR","OPERATOR_EVAL_FN","l","_syntaxTreetoExprTree","tree","orderStart","nodeType","child","syntaxTreetoExprTree","_exprTreeCollectSymbols","symbols","exprTreeCollectSymbols","exprTree","StyledLatex","sx","tex","options","ref","useRef","katex","EditorRibbonButton","onClick","open","setOpen","setSelected","anchorRef","ButtonGroup","KeyboardArrowUpRounded","option","OPERATOR_TEXT","OPERATOR_SYMBOL","EditorRibbon","value","Editor","placeholder","onChange","inputRef","handleInsertChar","char","TextField","PlaygroundSymbolConfig","symbolTable","Grid2","sym","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","StyledOutputCard","_exprTreeToLatex","table","exprTreeToLatex","exprTreeToLatexSubstitute","symbolMap","EvaluatorView","data","defaultUserInput","useLoaderData","submit","useSubmit","setSymbolTable","userInput","setUserInput","symbol","handleSubmit","Box","PlayArrowRounded","ok","k","v","prev","next","EVALUATOR_ROUTE","request","loaderData","result","StyledAlert","rest","useTheme","Alert","getPermutation","size","perm","permSize","repr","p","j","traverse","accum","seen","minified","exprTreeFlattenPostOrder","StyledTableCell","TableCell","alpha","TruthTable_","userConfirmed","setUserConfirmed","columns","useMemo","_columns","_symbols","TableContainer","Table","TableHead","TableRow","col","TableBody","column","colIndex","TruthTable","memo","StyledIconButton","onKeyPress","disabled","PlaygroundPlaybackControl","maxValue","minValue","handleForward","handleRewind","handleKeyPress","key","maxLabel","KeyboardArrowLeftRounded","KeyboardArrowRightRounded","Slider","StyledFAB","Fab","TreeGraphLink","link","order","source","target","isSourceVisible","isTargetVisibleNow","isTargetVisibleSoon","isTargetVisible","isLinkVisible","LinkVertical","TreeGraphNode","x","y","typography","isNodeHighlighted","isNodeVisibleNow","isNodeVisibleSoon","isNodeVisible","Group","flatten_expr","d","TreeGraph","onKeyDown","viewportRef","hierarchy","viewportWidth","viewportHeight","treeWidth","treeHeight","nodeRadius","Zoom","zoom","Tree","treeHeir","ControlCameraRounded","Playground","step","setStep","maxStep","setMaxStep","handleGraphKeyPress","steps","evaluated","childEval","childStep","leftEval","leftSubstituted","leftStep","rightEval","rightRawRepr","rightRepr","rightSubstituted","rightStep","exprTreeFlattenStepByStep","SubstitutionStepDisplay","subStep","references","subStepIndex","stepIndex","prevMarker","currMarker","taggedExpr","StepDisplay","StepByStepEvaluation_","StepByStepEvaluation","SolverOutputGroup_","symbolSet","handleSymbolChange","SolverOutputGroup","SolverView","AlertTitle","SOLVER_ROUTE","userInputRaw","syntaxTree","PALETTE_OPTIONS","brown","green","amber","THEME","createTheme","globalStyles","GlobalStyles","router","createHashRouter","App","ThemeProvider","CssBaseline","RouterProvider","en","th","i18next","Backend","LangDectector","initReactI18next","createRoot","StrictMode"],"mappings":"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"}