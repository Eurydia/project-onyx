import{j as n,r as h}from"./react-CGBVqcy-.js";import{g as We}from"./ohm-js-o5RsQ8tt.js";import{c as H,l as qe,i as ze,o as Ge,t as Ve,p as He,a as X,r as K,u as $,T as g,B as Xe,b as G,K as Ke,M as Ze,d as Je,L as Ie,C as Ee,e as Ce,S as j,f as Qe,P as ke,g as et,A as F,h as Z,W as tt,j as rt,k as nt,m as ie,n as Ae,q as V,s as st,v as ot,w as xe,x as at,y as it,z as lt,D as Re,E as ct,I as le,F as W,G as Oe,H as ut,J as Pe,N as pt,O as dt,Q as ht,R as ft,U as mt,V as xt,X as gt,Y as yt,Z as Tt,_ as jt,$ as bt,a0 as vt,a1 as Rt,a2 as se,a3 as $t,a4 as Nt,a5 as St,a6 as ge,a7 as $e,a8 as wt,a9 as It,aa as Et,ab as Ct,ac as kt,ad as At,ae as Y,af as Ot,ag as Pt}from"./@mui-BraAz8WD.js";import{u as Lt,L as oe,a as ce,b as ue,c as Dt,d as _t,R as Ft}from"./react-router-Cv0C_Jh2.js";import{u as N,i as Bt}from"./react-i18next-B0lNVwxa.js";import{L as Yt,G as ae,Z as Mt,T as Ut}from"./@visx-Bg9-U0a4.js";import{k as Wt}from"./katex-DvRmkopC.js";import{h as qt}from"./d3-hierarchy-B72UHu4D.js";import{i as zt}from"./i18next-Bj_xwTXi.js";import{B as Gt}from"./i18next-browser-languagedetector-Dt8Tv9E6.js";import{B as Vt}from"./i18next-http-backend-CBFgclZj.js";import{c as Ht}from"./react-dom-D8eTnHID.js";import"./classnames-DHUZR2-n.js";import"./@emotion-DoMzSQb3.js";import"./hoist-non-react-statics-mLZj6LgC.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-CwwdUX_-.js";import"./@popperjs-FRdid3Df.js";import"./react-is-CofOpdII.js";import"./cookie--_YQFYBD.js";import"./prop-types-CZ1f4sS1.js";import"./@use-gesture-CYhkdCkN.js";import"./d3-shape-rFcaQ0O8.js";import"./d3-path-BevWroqt.js";import"./scheduler-DScgqB4t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var u=(e=>(e.IFF="IFF",e.IMPL="IMPL",e.AND="AND",e.OR="OR",e.NOT="NOT",e))(u||{}),i=(e=>(e.CONST="CONSTANT",e.IDEN="IDEN",e.UNARY="UNARY",e.BINARY="BINARY",e))(i||{});const Q=(e,t,r)=>{let s={nodeType:i.BINARY,operator:e,left:t,right:r[0]};for(let o=1;o<r.length;o++)s={nodeType:i.BINARY,operator:e,left:s,right:r[o]};return s},Le=We(String.raw`
BooleanExpressions {
  Expression
    = Iff 

  Iff
    = Implies (iff_sym Implies)*

  Implies
    = Or (implies_sym Or)*

  Or
    = And (or_sym And)*

  And
    = Not (and_sym Not)*

  Not
    = not_sym Not                   --not
    | Primary

  Primary
    = "(" Expression ")" --group
    | true_sym    --lit_true
    | false_sym   --lit_false
    | identifier  --variable

  identifier
    = letter
  
  iff_sym 
    = "iff"
    | "⇔"
  
  implies_sym 
    = "implies"
    | "⇒"
  
  or_sym
    = "or"
    | "∨"

  and_sym
    = "and"
    | "∧"
  
  not_sym
    = "not"
    | "¬"

  true_sym
    = "⊤"
    | "T"
    | "1"

  false_sym
    = "⊥"
    | "F"
    | "0"
}
`),De=Le.createSemantics();De.addOperation("buildTree",{Expression(e){return e.buildTree()},Iff(e,t,r){const s=e.buildTree(),o=r.buildTree();return!Array.isArray(o)||o.length===0?s:Q(u.IFF,s,o)},Implies(e,t,r){const s=e.buildTree(),o=r.buildTree();return!Array.isArray(o)||o.length===0?s:Q(u.IMPL,s,o)},Or(e,t,r){const s=e.buildTree(),o=r.buildTree();return!Array.isArray(o)||o.length===0?s:Q(u.OR,s,o)},And(e,t,r){const s=e.buildTree(),o=r.buildTree();return!Array.isArray(o)||o.length===0?s:Q(u.AND,s,o)},Not_not(e,t){return{nodeType:i.UNARY,operator:u.NOT,operand:t.buildTree()}},Primary_group(e,t,r){return t.buildTree()},Primary_lit_true(e){return{nodeType:i.CONST,value:!0}},Primary_lit_false(e){return{nodeType:i.CONST,value:!1}},Primary_variable(e){return{nodeType:i.IDEN,symbol:e.sourceString}},identifier(e){return this.sourceString},_iter(...e){return e.map(t=>t.buildTree())}});const pe=e=>{const t=Le.match(e);return t.succeeded()?{ok:!0,tree:De(t).buildTree()}:{ok:!1}},y=e=>({nodeType:i.UNARY,operator:u.NOT,operand:e}),_=(e,t,r)=>({nodeType:i.BINARY,operator:e,left:t,right:r}),S=(e,t)=>_(u.AND,e,t),v=(e,t)=>_(u.OR,e,t),D=(e,t)=>_(u.IMPL,e,t),Xt=(e,t)=>_(u.IFF,e,t),k=e=>({nodeType:i.CONST,value:e}),O=e=>{switch(e.nodeType){case i.CONST:return String(e.value);case i.IDEN:return e.symbol;case i.UNARY:{let t=O(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${e.operator} ${t}`}case i.BINARY:{let t=O(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=O(e.right);return e.right.nodeType===i.BINARY&&(r=`( ${r} )`),`${t} ${e.operator} ${r}`}}},q=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const t=q(e.operand);return y(t)}case i.BINARY:{const t=q(e.left),r=q(e.right);switch(e.operator){case u.IFF:return S(v(y(t),r),v(y(r),t));case u.IMPL:return v(y(t),r);case u.AND:return S(t,r);case u.OR:return v(t,r)}}}},L=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const{operand:t}=e;switch(t.nodeType){case i.CONST:return k(!t.value);case i.IDEN:return e;case i.UNARY:return L(t.operand);case i.BINARY:{const r=t.operator===u.AND?u.OR:u.AND;return L(_(r,y(t.left),y(t.right)))}}break}case i.BINARY:{const t=L(e.left),r=L(e.right);if(e.operator===u.AND)return S(t,r);if(r.nodeType===i.BINARY&&r.operator===u.AND){const s=L(v(t,r.left)),o=L(v(t,r.right));return S(s,o)}if(t.nodeType===i.BINARY&&t.operator===u.AND){const s=L(v(t.left,r)),o=L(v(t.right,r));return S(s,o)}return v(t,r)}}},Kt=e=>{const t=[...e];if(t.every(o=>o.nodeType===i.CONST&&!o.value))return new Set([k(!1)]);if(t.some(o=>o.nodeType===i.CONST&&o.value))return new Set([k(!0)]);const r=new Set,s=new Set;for(const o of t)switch(o.nodeType){case i.IDEN:{if(s.has(O(y(o))))return new Set([k(!0)]);const a=O(o);s.has(a)||(s.add(a),r.add(o));break}case i.UNARY:{if(s.has(O(o.operand)))return new Set([k(!0)]);const a=O(o);s.has(a)||(s.add(a),r.add(o))}}return r},M=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:case i.UNARY:t.add(new Set([e]));break;case i.BINARY:{if(e.operator===u.AND){M(e.left,t),M(e.right,t);return}const r=new Set;M(e.left,r),M(e.right,r);const s=new Set;r.forEach(o=>{o.forEach(a=>{s.add(a)})}),t.add(Kt(s));break}}},Zt=e=>{if(e.size===0)return k(!1);const t=[...e];let r=t[0];for(const s of t.slice(1))r=v(r,s);return r},_e=e=>{const t=new Set;M(L(q(e)),t);const r=[...t].map(a=>Zt(a));if(console.debug(O(q(e))),r.length===0||r.some(a=>a.nodeType===i.CONST&&!a.value))return k(!1);if(r.every(a=>a.nodeType===i.CONST&&a.value))return k(!0);let s;const o=new Set;for(const a of r){if(a.nodeType===i.IDEN){if(o.has(O(y(a))))return k(!1);o.add(a.symbol)}if(a.nodeType===i.UNARY){if(o.has(a.operand.symbol))return k(!1);o.add(O(a))}s===void 0?s=a:s=S(s,a)}return s},Jt=new Map([[u.NOT,"\\lnot"],[u.AND,"\\land"],[u.OR,"\\lor"],[u.IMPL,"\\implies"],[u.IFF,"\\iff"]]),ye=e=>Jt.get(e)??"",A=e=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.value}}`;case i.IDEN:return e.symbol;case i.UNARY:{let t=A(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${ye(e.operator)} ${t}`}case i.BINARY:{let t=A(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=A(e.right);e.right.nodeType===i.BINARY&&(r=`( ${r} )`);const s=ye(e.operator);return`${t} ${s} ${r}`}}},Qt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",expressions:[]};const s=[];for(const a of r.split(",")){const l=pe(a);s.push(l.ok?{ok:!0,normalizedTree:_e(l.tree),originalTree:l.tree,inputInterpretationLatex:A(l.tree),inputRaw:a.trim()}:{ok:!1,inputRaw:a.trim()})}return{userInput:r,expressions:s}},er=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",expressions:[]};const s=[];for(const a of r.split(",")){const l=pe(a);s.push(l.ok?{ok:!0,inputRaw:a.trim(),tree:l.tree,inputInterpretationLatex:A(l.tree)}:{ok:!1,inputRaw:a.trim()})}return{userInput:r.trim(),expressions:s}},tr=e=>{const t=new Set,r=[e];for(;r.length>0;){const s=r.shift();switch(s.nodeType){case i.IDEN:t.add(s.symbol);break;case i.UNARY:r.push(s.operand);break;case i.BINARY:r.push(s.left),r.push(s.right);break}}return[...t].toSorted((s,o)=>s.localeCompare(o))},rr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",symbols:new Set,expressions:[]};const s=new Set,o=[];for(const l of r.split(",")){if(l.trim().length===0)continue;const p=pe(l);if(!p.ok){o.push({inputRaw:l.trim(),ok:!1});continue}const{tree:c}=p;for(const d of tr(p.tree))s.add(d);o.push({ok:!0,inputRaw:l.trim(),inputInterpretationLatex:A(c),tree:c})}return{userInput:r,expressions:o,symbols:s}},nr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.toString().trim().length===0)return{userInput:"",expressions:[]};const s=r.toString(),o=[];for(const l of s.split(",")){const p=pe(l);o.push(p.ok?{ok:!0,inputRaw:l.trim(),inputInterpretationLatex:A(p.tree),originalTree:p.tree}:{ok:!1,inputRaw:l.trim()})}return{userInput:s,expressions:o}},sr=H({primary:{main:qe[300]},contrastThreshold:9,tonalOffset:.5}),Fe=H({primary:{main:ze[200]},tonalOffset:.47,contrastThreshold:9}),Be=H({primary:{main:Ge[200]},tonalOffset:.47,contrastThreshold:9}),Ye=H({primary:{main:Ve[200]},tonalOffset:.5,contrastThreshold:9}),Me=H({primary:{main:He[200]},tonalOffset:.47,contrastThreshold:9});let Te=X({palette:sr});Te=K(Te);const or=Te,ar=K(X({palette:Ye})),ir=K(X({palette:Fe})),lr=K(X({palette:Be})),cr=K(X({palette:Me})),ur=["evaluator","comparator","checker","rewriter"],de=()=>{const{t:e}=N("nav"),{palette:t}=$(),{pathname:r}=Lt();return n.jsxs(h.Fragment,{children:[n.jsx(g,{component:oe,to:"/",sx:{color:t.primary.dark,textTransform:"capitalize",textDecorationLine:"none"},children:e("home")}),ur.map((s,o)=>{const a=`/${s}`,l=a.localeCompare(r)===0?900:void 0;return n.jsx(g,{component:oe,to:a,sx:{color:t.primary.dark,textTransform:"capitalize",fontWeight:l,textDecorationLine:"none"},children:e(s)},"item"+o)})]})},b=e=>{const{sx:t,children:r,options:s}=e,o=h.useRef(null);return h.useEffect(()=>{o.current!==null&&window.renderMathInElement(o.current,{strict:!1,output:"html",delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],...s})},[r,o,s]),n.jsx(g,{ref:o,sx:{...t,"& .katex-display > .katex":{whiteSpace:"normal"}},children:r})},pr=e=>{const{options:t,onClick:r}=e,{palette:s}=$(),[o,a]=h.useState(!1),[l,p]=h.useState(t[0]),c=h.useRef(null);return n.jsxs(h.Fragment,{children:[n.jsxs(Xe,{ref:c,variant:"contained",disableElevation:!0,disableRipple:!0,color:"primary",children:[n.jsx(G,{onClick:()=>r(l.value),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light},children:n.jsx(b,{sx:{textTransform:"none",fontFamily:"monospace"},children:`${l.label}`})}),n.jsx(G,{onClick:()=>a(!0),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light},children:n.jsx(Ke,{sx:{transition:"transform 0.2s ease",transform:o?"rotate(180deg)":"rotate(0deg)"}})})]}),n.jsx(Ze,{open:o,anchorEl:c.current,onClose:()=>a(!1),onClick:()=>a(!1),children:t.map((d,x)=>{const m=d.label===l.label;return n.jsxs(Je,{disableRipple:!0,selected:m,onClick:()=>p(d),sx:{padding:2},children:[n.jsx(Ie,{children:m&&n.jsx(Ee,{})}),n.jsx(Ce,{disableTypography:!0,children:n.jsx(b,{sx:{fontFamily:"monospace"},children:`${d.label}`})})]},"option"+x)})})]})},dr=[{label:"$\\texttt{not}$",value:"not"},{label:"$\\texttt{and}$",value:"and"},{label:"$\\texttt{or}$",value:"or"},{label:"$\\texttt{implies}$",value:"implies"},{label:"$\\texttt{iff}$",value:"iff"}],hr=[{label:"$\\mathbf{\\lnot}$",value:"¬"},{label:"$\\mathbf{\\land}$",value:"∧"},{label:"$\\mathbf{\\lor}$",value:"∨"},{label:"$\\mathbf{\\implies}$",value:"⇒"},{label:"$\\mathbf{\\iff}$",value:"⇔"}],fr=e=>{const{onClick:t}=e;return n.jsx(j,{flexDirection:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,children:dr.map((r,s)=>n.jsx(pr,{onClick:o=>t(o),options:[hr[s],r]},"insert-btn-text"+s))})},mr=e=>{const{placeholder:t,value:r,onChange:s,onSubmit:o}=e,{palette:a}=$(),{t:l}=N("component",{keyPrefix:"editor"}),p=h.useRef(null),[c,d]=h.useState(!1),[x,m]=h.useState(0),[f,T]=h.useState(0),R=I=>{if(p.current===null)return;const P=r.slice(0,x),Ue=r.slice(f);s(`${P}${I}${Ue}`),m(`${P}${I}`.length),T(`${P}${I}`.length)},C=I=>{const P=I.target;m(P.selectionStart??0),T(P.selectionEnd??0)};return n.jsxs(j,{spacing:1,children:[n.jsx(fr,{onClick:R}),n.jsx(Qe,{inputRef:p,fullWidth:!0,multiline:!0,rows:5,value:r,placeholder:t,onChange:I=>s(I.target.value),slotProps:{input:{sx:{fontFamily:"monospace"}},htmlInput:{autoCapitalize:"off",spellCheck:"false",onSelect:C}}}),n.jsxs(j,{spacing:1,useFlexGap:!0,flexWrap:"wrap",direction:"row",children:[n.jsx(G,{disableElevation:!0,disableRipple:!0,disabled:r.trim().length===0,variant:"contained",startIcon:n.jsx(ke,{}),onClick:o,sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l("run")}),n.jsx(G,{disableElevation:!0,disableRipple:!0,startIcon:c?n.jsx(Ee,{}):n.jsx(et,{}),variant:"contained",onClick:()=>{navigator.clipboard.writeText(r),d(!0),setTimeout(()=>{d(!1)},1e3)},sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l(c?"copied":"copy")})]})]})},he=h.memo(mr,(e,t)=>e.value===t.value&&e.onSubmit===t.onSubmit),fe=e=>{const{expressions:t}=e;return n.jsxs(j,{spacing:1,children:[t.map((r,s)=>{const o=s+1;return n.jsxs(j,{children:[r.ok&&n.jsx(b,{children:`$$${r.inputInterpretationLatex} \\tag{${o}}$$`}),!r.ok&&n.jsx(b,{sx:{color:({palette:a})=>a.error.main},children:`$$\\varnothing\\tag{${o}}$$`})]},"expr"+s)}),t.some(r=>!r.ok)&&n.jsxs(F,{icon:!1,variant:"standard",severity:"warning",children:[n.jsx(Z,{children:n.jsxs(j,{direction:"row",flexWrap:"wrap",alignItems:"flex-end",spacing:2,useFlexGap:!0,children:[n.jsx(tt,{}),n.jsx(g,{fontWeight:900,children:"Notice"})]})}),n.jsx(g,{children:"The evaluator could not understand the following input. Please make sure that they are correct."}),n.jsx(rt,{children:t.map((r,s)=>{if(r.ok)return null;const o=s+1;return n.jsxs(nt,{children:[n.jsx(Ie,{children:n.jsx(g,{children:`(${o})`})}),n.jsx(Ce,{disableTypography:!0,children:n.jsx(g,{fontFamily:"monospace",children:`${r.inputRaw}`})})]},"invalid-input"+s)})})]})]})},xr=e=>{const{result:t,originalLatex:r}=e,{t:s}=N("views",{keyPrefix:"checker-view"});return t.nodeType===i.CONST&&t.value?n.jsx(b,{children:s("verdict.formula-is-tautology",{eq:`$$${r}$$`})}):t.nodeType===i.CONST&&!t.value?n.jsx(b,{children:s("verdict.formula-is-contradiction",{eq:`$$${r}$$`})}):n.jsx(b,{children:s("verdict.formula-is-satisfiable",{eq:`$$${r}$$`})})},je=e=>{const{primary:t,secondary:r}=e,[s,o]=h.useState(!1),a=()=>{o(l=>!l)};return n.jsxs(ie,{variant:"outlined",children:[n.jsx(Ae,{disableRipple:!0,disableTouchRipple:!0,onClick:a,children:n.jsx(V,{children:t})}),n.jsx(st,{in:s,children:r})]})},gr=e=>{const{sx:t,...r}=e,{shape:s}=$();return n.jsx(F,{icon:!1,...r,sx:{borderRadius:s.borderRadius,padding:4,...t}})},yr=(e,t)=>{const r=[],s=1<<e;for(let o=0;o<s;o++){const a=o.toString(2).padStart(e,"0"),l=new Map;for(let p=0;p<e;p++)l.set(t[p],a[p]==="0");r.push(l)}return r},be=e=>{const t=new Set,r=[e];for(;r.length>0;){const s=r.shift();switch(s.nodeType){case i.CONST:break;case i.IDEN:t.add(s.repr);break;case i.UNARY:r.push(s.child);break;case i.BINARY:r.push(s.left),r.push(s.right);break}}return t},z=(e,t=null)=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.repr}}`;case i.IDEN:return t!==null&&t.has(e.repr)?t.get(e.repr):e.repr;case i.UNARY:{const r=z(e.child,t);return e.child.nodeType===i.BINARY?`${e.repr} ( ${r} )`:`${e.repr} ${r}`}case i.BINARY:{let r=z(e.left,t);e.left.nodeType===i.BINARY&&(r=`( ${r} )`);let s=z(e.right,t);return e.right.nodeType===i.BINARY&&(s=`( ${s} )`),`${r} ${e.repr} ${s}`}}},E=e=>z(e),Ne=(e,t)=>z(e,t),ee=(e,t,r,s)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:return;case i.UNARY:{const o=Ne(e,s);if(r.has(o))return;r.add(o),ee(e.child,t,r,s);const a={eval:e.eval,label:o};t.push(a);return}case i.BINARY:{const o=Ne(e,s);if(r.has(o))return;r.add(o),ee(e.left,t,r,s),ee(e.right,t,r,s);const a={eval:e.eval,label:o};t.push(a);return}}},Tr=e=>{const t=[],r=new Set,s=new Map;for(const o of be(e))s.set(o,o.length>=5?`${o.slice(0,5)}\\ldots`:o);return ee(e,t,r,s),t},jr=e=>{const{value:t}=e,{t:r}=N(),{palette:s}=$(),o=t?s.primary.light:ot(s.primary.light,.6);return n.jsx(xe,{align:"center",sx:{backgroundColor:o,color:s.primary.dark},children:n.jsx(g,{children:r(t?"common.true":"common.false")})})},Se=h.memo(jr,(e,t)=>e.value===t.value),br=e=>{const{exprTree:t,slotProps:r}=e,{t:s}=N(),{palette:o}=$(),[a,l]=h.useState(!1),p=Tr(t),c=[...be(t)];c.sort();const d=c.length>3&&!a?[]:yr(c.length,c);return c.length>3&&!a?n.jsxs(j,{spacing:1,padding:1,children:[n.jsx(gr,{severity:"warning",variant:"standard",children:n.jsx(g,{children:s("component:math.truthTable.warning")})}),n.jsx(G,{disableElevation:!0,disableRipple:!0,variant:"contained",onClick:()=>l(!0),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light,width:"fit-content"},children:s("component:math.truthTable.confirm")})]}):n.jsx(at,{sx:r.container,children:n.jsxs(it,{stickyHeader:!0,children:[n.jsx(lt,{children:n.jsxs(Re,{children:[c.map((x,m)=>n.jsx(xe,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(b,{children:`$${x}$`})},"sym"+m)),p.map((x,m)=>n.jsx(xe,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(b,{children:`$${x.label}$`})},"subexpr"+m))]})}),n.jsx(ct,{children:d.map((x,m)=>n.jsxs(Re,{children:[c.map((f,T)=>n.jsx(Se,{value:x.get(f)||!1},"sym"+T)),p.map((f,T)=>n.jsx(Se,{value:f.eval(x)},"col"+T))]},"perm"+m))})]})})},ve=h.memo(br,(e,t)=>E(e.exprTree)===E(t.exprTree)),we={[u.AND]:"\\land",[u.OR]:"\\lor",[u.IFF]:"\\iff",[u.IMPL]:"\\implies",[u.NOT]:"\\lnot"},vr={[u.AND]:(e,t)=>r=>e(r)&&t(r),[u.OR]:(e,t)=>r=>e(r)||t(r),[u.IMPL]:(e,t)=>r=>!e(r)||t(r),[u.IFF]:(e,t)=>r=>e(r)===t(r)},te=(e,t)=>{const{nodeType:r}=e;switch(r){case i.CONST:return{eval:()=>e.value,nodeType:r,order:t+1,repr:String(e.value)};case i.IDEN:return{eval:o=>o.get(e.symbol)??!1,nodeType:r,order:t+1,repr:e.symbol};case i.UNARY:{const s=te(e.operand,t);return{repr:we[e.operator],child:s,nodeType:r,eval:a=>!s.eval(a),order:s.order+1}}case i.BINARY:{const s=te(e.left,t),o=te(e.right,s.order);return{nodeType:r,eval:vr[e.operator](s.eval,o.eval),left:s,right:o,order:o.order+1,repr:we[e.operator]}}}},me=e=>te(e,0),Rr=e=>{const{formulas:t}=e;return t.length===0?n.jsxs(F,{icon:!1,variant:"standard",severity:"info",children:[n.jsx(Z,{children:n.jsxs(j,{direction:"row",flexWrap:"wrap",alignItems:"flex-end",spacing:2,useFlexGap:!0,children:[n.jsx(le,{}),n.jsx(g,{fontWeight:900,children:"Notice"})]})}),n.jsx(g,{children:"No verdict to display. Enter an expression to see its result."})]}):n.jsx(h.Fragment,{children:t.map((r,s)=>{if(!r.ok)return null;const o=me(r.originalTree),a=A(r.originalTree);return n.jsx(je,{primary:n.jsx(xr,{result:r.normalizedTree,originalLatex:a}),secondary:n.jsx(ve,{exprTree:o,slotProps:{container:{maxHeight:"40vh"}}})},"verdict"+s)})})},J=e=>{const{appHeader:t,banner:r,children:s}=e,{palette:o}=$();return n.jsxs(h.Fragment,{children:[n.jsx(W,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:4,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:2},children:t}),n.jsx(W,{paddingX:{xs:2,md:0},paddingY:4,sx:{backgroundColor:o.primary.light,color:o.primary.dark,alignItems:"center"},children:n.jsx(g,{variant:"h1",fontWeight:900,fontFamily:"monospace",textTransform:"capitalize",maxWidth:"lg",marginX:{xs:0,md:"auto"},sx:{textWrap:"balance",whiteSpace:"break-spaces"},children:r})}),n.jsx(W,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:8,children:s})]})},$r=()=>{const e=ce(),{expressions:t,userInput:r}=e,s=ue(),{t:o}=N(),{typography:a}=$(),[l,p]=h.useState(r);h.useEffect(()=>{p(l)},[l]);const c=()=>{s({input:l},{method:"GET",action:"/checker"})};return n.jsx(J,{appHeader:n.jsx(de,{}),banner:o("tautology-checker"),children:n.jsxs(j,{spacing:8,children:[n.jsx(he,{value:l,onChange:p,placeholder:"p or not p, not q and q, p implies q",onSubmit:c}),t.length>0&&n.jsxs(h.Fragment,{children:[n.jsxs(j,{spacing:2,children:[n.jsx(g,{fontWeight:900,fontSize:a.h3.fontSize,children:"Input Interpretation"}),n.jsx(fe,{expressions:t})]}),n.jsxs(j,{spacing:2,children:[n.jsx(g,{fontWeight:900,fontSize:a.h3.fontSize,children:o("verdict.title")}),n.jsx(Rr,{formulas:t})]})]})]})})};function*Nr(e){let t=0;const r=1<<e.length;for(;t<r;){const s=new Map,o=t.toString(2).padStart(e.length,"0");for(let a=0;a<r;a++)s.set(e[a],o[a]==="1");yield s,t++}}const Sr=e=>{const t=be(e),r=Nr([...t]);for(const s of r)if(!e.eval(s))return!1;return!0},wr=()=>{const{expressions:e,userInput:t}=ce(),r=ue(),{t:s}=N(),[o,a]=h.useState(t),l=$();h.useEffect(()=>{a(t)},[t]);const p=()=>{r({input:o},{method:"GET",action:"/comparator"})},c=e.filter(d=>d.ok);return n.jsx(J,{appHeader:n.jsx(de,{}),banner:s("comparator"),children:n.jsxs(j,{spacing:8,children:[n.jsx(he,{value:o,onChange:a,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:p}),t.trim().length>0&&n.jsxs(j,{spacing:2,children:[n.jsxs(j,{spacing:1,children:[n.jsx(g,{fontWeight:900,fontSize:l.typography.h3.fontSize,sx:{color:l.palette.primary.dark},children:"Input Interpretation"}),n.jsx(fe,{expressions:e})]}),c.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(g,{fontWeight:900,fontSize:l.typography.h3.fontSize,sx:{color:l.palette.primary.dark},children:"Comparison"}),c.map((d,x)=>n.jsx(ie,{variant:"outlined",children:n.jsx(V,{children:c.map((m,f)=>{if(f===x)return null;const T=me(Xt(d.tree,m.tree)),R=Sr(T)?"\\equiv":"\\not\\equiv";return n.jsx(b,{children:`$$ ${A(d.tree)} ${R} ${A(m.tree)}$$`},"subexpr"+f)})})},"expr"+x))]})]})]})})},Ir=()=>{const e=Dt(),{t}=N("views",{keyPrefix:"error-view"});return n.jsx(W,{maxWidth:"md",marginX:{xs:2,md:"auto"},paddingY:2,children:n.jsxs(ie,{variant:"outlined",children:[n.jsx(Oe,{title:t("title"),slotProps:{title:{fontWeight:900}}}),n.jsx(ut,{disableSpacing:!0,children:n.jsx(g,{component:oe,to:"/",color:"primary",sx:{textDecorationLine:"none","&:hover":{textDecorationLine:"underline"}},children:t("return-home")})}),n.jsx(V,{children:n.jsx(g,{fontFamily:"monospace",color:"error",component:"pre",children:JSON.stringify(e,null,4)})})]})})},B=e=>{const{children:t,onKeyPress:r,onClick:s,title:o,disabled:a}=e;return n.jsx(Pe,{title:n.jsx(g,{children:o}),children:n.jsx("span",{children:n.jsx(pt,{disableRipple:!0,disabled:a,onClick:s,onKeyDown:r,children:t})})})},Er=e=>{const{value:t,maxValue:r,minValue:s,onChange:o,isAnimationPlaying:a,onAnimationPause:l,onAnimationPlay:p,onAnimationReplay:c}=e,{t:d}=N("translation",{keyPrefix:"playground.playback"}),x=()=>{t>=r||o(t+1)},m=()=>{t<=s||o(t-1)};return n.jsxs(j,{children:[n.jsx(dt,{valueLabelDisplay:"auto",onChange:(f,T)=>o(T),value:t,max:r,min:s,step:1}),n.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(B,{disabled:t<=s,title:"Previous",onClick:m,children:n.jsx(ht,{})}),t===r&&n.jsx(B,{title:"Replay",onClick:c,children:n.jsx(ft,{})}),t!==r&&a&&n.jsx(B,{title:"Pause",onClick:l,children:n.jsx(mt,{})}),t!==r&&!a&&n.jsx(B,{title:"Play",onClick:p,children:n.jsx(ke,{})}),n.jsx(B,{disabled:t>=r,title:d("forward"),onClick:x,children:n.jsx(xt,{})}),n.jsx(g,{children:`${t}/${r}`})]})]})},Cr=h.memo(Er,(e,t)=>["value","maxValue","minValue","isAnimationPlaying"].every(s=>e[s]===t[s])),kr=e=>{const{children:t,onClick:r,title:s}=e;return n.jsx(gt,{size:"medium",color:"primary",onClick:r,sx:{position:"absolute",left:16,bottom:16},children:n.jsx(Pe,{placement:"right",title:n.jsx(g,{children:s}),children:t})})},Ar=e=>{const{link:t,order:r}=e,{palette:s}=$(),{source:o,target:a}=t,l=o.data.order<=r,p=a.data.order<=r,c=a.data.order<=r+1,d=p||c,x=l&&d;return n.jsx(Yt,{data:t,stroke:s.primary.light,visibility:x?"visible":"hidden",strokeOpacity:d?"0.6":"0.3",strokeWidth:"5",fill:"none"})},Or=e=>{const{r:t,order:r,node:s,symbolTable:o}=e,{t:a}=N(),{x:l,y:p,data:c}=s,{palette:d,typography:x}=$(),m=h.useRef(null);h.useEffect(()=>{m.current!==null&&(m.current.innerHTML=Wt.renderToString(c.repr).replaceAll("span","tspan"))},[m,c.repr]);const f=c.order===r,T=c.order<=r,R=c.order<=r+1,C=T||R;return n.jsxs(ae,{top:p,left:l,opacity:T?1:.5,visibility:C?"visible":"hidden",children:[n.jsx("circle",{strokeWidth:f?5:0,stroke:d.primary.dark,strokeOpacity:.8,r:t,fill:d.primary.light}),n.jsx("text",{ref:m,fontSize:x.body1.fontSize,fill:d.primary.contrastText,dy:"0.33rem",textAnchor:"middle",pointerEvents:"none",style:{userSelect:"none"}}),n.jsxs(ae,{transform:`translate(${t/3}, ${t/3})`,visibility:c.order<r?"visible":"hidden",children:[n.jsx("rect",{width:60,height:30,rx:5,ry:5,fill:d.primary.light}),n.jsx("text",{x:"30",y:"22",textAnchor:"middle",pointerEvents:"none",fill:d.primary.contrastText,style:{userSelect:"none"},children:c.eval(o)?a("common.true"):a("common.false")})]})]})},Pr=e=>{const{tree:t,order:r,symbolTable:s}=e,{t:o}=N(),a=h.useRef(null),l=qt(t,f=>{switch(f.nodeType){case i.CONST:return null;case i.IDEN:return null;case i.UNARY:return[f.child];case i.BINARY:return[f.left,f.right]}}),p=a.current===null?0:a.current.getBoundingClientRect().width,c=a.current===null?0:a.current.getBoundingClientRect().height,d=(l.leaves().length+1)*150,x=(l.height+1)*100,m=30;return n.jsx(W,{ref:a,width:"100%",height:"100%",position:"relative",children:n.jsx(Mt,{width:p,height:c,scaleXMin:1/10,scaleXMax:1,scaleYMin:1/10,scaleYMax:1,children:f=>n.jsxs(h.Fragment,{children:[n.jsx("svg",{width:p,height:c,ref:f.containerRef,style:{touchAction:"none",cursor:f.isDragging?"grabbing":"grab"},onMouseDown:f.dragStart,onMouseMove:f.dragMove,onMouseUp:f.dragEnd,onMouseLeave:f.dragEnd,children:n.jsx(ae,{transform:f.toString(),children:n.jsx(Ut,{root:l,size:[d,-x],children:T=>n.jsxs(ae,{top:x+m*1.5,children:[T.links().map((R,C)=>n.jsx(Ar,{order:r,link:R},`link-${C}`)),T.descendants().map((R,C)=>n.jsx(Or,{order:r,node:R,symbolTable:s,r:m},`node-${C}`))]})})})}),n.jsx(kr,{onClick:f.center,title:o("playground.graph.center"),children:n.jsx(yt,{})})]})})})},Lr=h.memo(Pr,(e,t)=>{if(e.order!==t.order||E(e.tree).localeCompare(E(t.tree))!==0)return!1;for(const[r,s]of e.symbolTable.entries())if(t.symbolTable.get(r)!==s)return!1;return!0}),Dr=e=>{const{exprTree:t,symbolTable:r,slotProps:s}=e,[o,a]=h.useState(1),[l,p]=h.useState(1),[c,d]=h.useState(!1),x=h.useRef(null),m=h.useRef(c),f=h.useRef(o);return h.useEffect(()=>{m.current=c},[c]),h.useEffect(()=>{f.current=o},[o]),h.useEffect(()=>(c&&(x.current=setInterval(()=>{m.current&&a(T=>T<l?T+1:(d(!1),m.current=!1,T))},750)),()=>clearInterval(x.current??void 0)),[c,l,o]),h.useEffect(()=>{a(1),p(t.order+1)},[t]),n.jsxs(j,{spacing:1,children:[n.jsx(Tt,{variant:"outlined",sx:s.container,children:n.jsx(Lr,{order:o,tree:t,symbolTable:r})}),n.jsx(Cr,{maxValue:l,minValue:1,value:o,onChange:a,isAnimationPlaying:c,onAnimationPause:()=>{d(!1)},onAnimationPlay:()=>{d(!0)},onAnimationReplay:()=>{a(1),d(!0)}})]})},re=(e,t,r)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:{const s=e.eval(t),o=e.repr;r.push({repr:o,evaluated:s,substitutions:[{repr:o,evaluated:s,stepRef:!1,substituted:`\\text{${s}}`}]})}break;case i.UNARY:{const{child:s}=e,o=s.eval(t);let a=!1;s.nodeType!==i.CONST&&s.nodeType!==i.IDEN&&(re(s,t,r),a=r.length);const l=[];s.nodeType!==i.CONST&&l.push({repr:E(s),evaluated:o,stepRef:a,substituted:`\\lnot \\text{${o}}`}),r.push({repr:E(e),substitutions:l,evaluated:e.eval(t)})}break;case i.BINARY:{const{right:s,left:o}=e,a=o.eval(t),l=`\\text{${a}}`;let p=!1;o.nodeType!==i.CONST&&o.nodeType!==i.IDEN&&(re(o,t,r),p=r.length);const c=s.eval(t),d=E(s),x=s.nodeType===i.BINARY?`( ${d} )`:d,m=`\\text{${c}}`;let f=!1;s.nodeType!==i.CONST&&s.nodeType!==i.IDEN&&(re(s,t,r),f=r.length);const T=[];o.nodeType!==i.CONST&&T.push({repr:E(o),evaluated:a,stepRef:p,substituted:`${l} ${e.repr} ${x}`}),s.nodeType!==i.CONST&&T.push({repr:d,evaluated:c,stepRef:f,substituted:`${l} ${e.repr} ${m}`}),r.push({repr:E(e),evaluated:e.eval(t),substitutions:T})}break}},_r=(e,t)=>{const r=[];return re(e,t,r),r},Fr=e=>{const{subStep:t,references:r,subStepIndex:s,stepIndex:o}=e,a=String.fromCharCode(s+97),l=String.fromCharCode(s+97+1),{substituted:p,evaluated:c,repr:d,stepRef:x}=t;if(x===!1)return n.jsx(b,{children:`Given $${d}$ is ${c}, rewrite $${d}$ with ${c} in $\\text{(${o}.${a})}$, $$${p}.\\tag{${o}.${l}}$$`});const m=r[x-1].repr;return n.jsxs(j,{children:[n.jsx(b,{children:`From $\\text{(${x}.a)}$, $$${m}$$ is ${c}.`}),n.jsx(b,{children:`Substitute into $\\text{(${o}.${a})}$, $$${p}.\\tag{${o}.${l}}$$`})]})},Br=e=>{const{step:t,stepIndex:r,references:s}=e,{evaluated:o,repr:a,substitutions:l}=t,p=`${r}.a`;return n.jsxs(j,{spacing:1,children:[n.jsx(b,{sx:{fontWeight:700},children:`Step ${r} of ${s.length}`}),n.jsx(b,{children:`Consider the expression $$${a}.\\tag{${p}}$$`}),l.map((c,d)=>n.jsx(Fr,{stepIndex:r,subStepIndex:d,subStep:c,references:s},"sub-step"+r+d)),n.jsx(b,{children:`By the truth table of the connective, $\\text{(${p})}$ is ${o}.`})]})},Yr=e=>{const{exprTree:t,symbolTable:r}=e,s=h.useMemo(()=>_r(t,r),[t,r]);if(s.length===0)return n.jsx(g,{fontStyle:"italic",children:"No step to display."});const{evaluated:o,repr:a}=s.at(-1);return n.jsxs(j,{spacing:2,children:[n.jsx(Dr,{exprTree:t,symbolTable:r,slotProps:{container:{height:{xs:"50vh",md:"66vh"}}}}),s.map((l,p)=>n.jsx(Br,{step:l,stepIndex:p+1,references:s},"step"+p)),n.jsx(b,{children:`Therefore, the expression $$${a}$$ is ${o}.`})]})},Mr=h.memo(Yr,(e,t)=>{if(E(e.exprTree)!==E(t.exprTree))return!1;for(const[r,s]of e.symbolTable.entries())if(t.symbolTable.get(r)!==s)return!1;return!0}),Ur=e=>{const{items:t,symbolTable:r}=e,{palette:s}=$(),[o,a]=h.useState(()=>t.findIndex(p=>p.ok));return h.useEffect(()=>{a(t.findIndex(p=>p.ok))},[t]),t.filter(p=>p.ok).length===0?n.jsxs(F,{icon:!1,severity:"info",children:[n.jsx(Z,{children:n.jsxs(j,{direction:"row",flexWrap:"wrap",alignItems:"flex-end",spacing:2,useFlexGap:!0,children:[n.jsx(le,{}),n.jsx(g,{fontWeight:900,children:"Notice"})]})}),n.jsx(g,{children:"No step-by-step evaluation to display"})]}):n.jsxs(jt,{value:o,children:[n.jsx(bt,{onChange:(p,c)=>a(c),variant:"scrollable",scrollButtons:"auto",sx:{paddingX:0},textColor:"inherit",children:t.map((p,c)=>p.ok?n.jsx(vt,{value:c,disableRipple:!0,label:`EXPRESSION (${c+1})`,sx:{color:s.primary.dark}},"tab"+c):null)}),t.map((p,c)=>p.ok?n.jsx(Rt,{value:c,sx:{padding:0},children:n.jsx(Mr,{exprTree:p.tree,symbolTable:r})},"tab-panel"+c):null)]})},Wr=e=>{const{value:t,onChange:r}=e,{t:s}=N("translation"),o=h.useMemo(()=>[...t.keys()].toSorted((a,l)=>a.localeCompare(l)),[t]);return o.length===0?n.jsxs(F,{icon:!1,severity:"info",children:[n.jsx(Z,{children:n.jsxs(j,{direction:"row",flexWrap:"wrap",alignItems:"flex-end",spacing:2,useFlexGap:!0,children:[n.jsx(le,{}),n.jsx(g,{fontWeight:900,children:"Notice"})]})}),n.jsx(g,{children:"No proposition to display."})]}):n.jsx(se,{container:!0,width:"100%",sx:{maxHeight:400,overflowY:"auto"},children:o.map(a=>n.jsx(se,{size:{xs:12,md:4},children:n.jsxs($t,{fullWidth:!0,children:[n.jsx(Nt,{children:n.jsx(b,{children:`$${a}$`})}),n.jsxs(St,{row:!0,value:t.get(a)?"1":"0",onChange:(l,p)=>r(a,p==="1"),children:[n.jsx(ge,{disableTypography:!0,control:n.jsx($e,{}),value:"1",label:n.jsx(g,{children:s("component.playground.config.true")})}),n.jsx(ge,{control:n.jsx($e,{}),value:"0",disableTypography:!0,label:n.jsx(g,{children:s("component.playground.config.false")})})]})]})},"symbol-"+a))})},qr=e=>{const{symbolSet:t,expressions:r}=e,{typography:s,palette:o}=$(),[a,l]=h.useState(()=>{const c=new Map;for(const d of t)c.set(d,!0);return c});h.useEffect(()=>{const c=new Map;for(const d of t)c.set(d,!0);l(c)},[t]);const p=r.filter(c=>c.ok);return n.jsxs(h.Fragment,{children:[n.jsx(g,{fontWeight:900,fontSize:s.h3.fontSize,sx:{color:o.primary.dark},children:"Evaluation Result"}),n.jsx(Wr,{value:a,onChange:(c,d)=>l(x=>{const m=new Map(x);return m.set(c,d),m})}),p.length===0&&n.jsxs(F,{icon:!1,severity:"info",children:[n.jsx(Z,{children:n.jsxs(j,{direction:"row",flexWrap:"wrap",alignItems:"flex-end",spacing:2,useFlexGap:!0,children:[n.jsx(le,{}),n.jsx(g,{fontWeight:900,children:"Notice"})]})}),n.jsx(g,{children:"No evaluation result to display."})]}),p.length>0&&r.map((c,d)=>{if(!c.ok)return n.jsx(h.Fragment,{},"eval"+d);const x=c.tree.eval(a),m=E(c.tree),f=d+1;return n.jsx(je,{primary:n.jsxs(n.Fragment,{children:[n.jsx(b,{children:`$$${m} \\tag{${f}}$$`}),n.jsx(b,{children:`$$\\equiv\\textbf{${x}}$$`})]}),secondary:n.jsx(ve,{exprTree:c.tree,slotProps:{container:{maxHeight:"40vh"}}})})}),n.jsx(g,{fontWeight:900,fontSize:s.h3.fontSize,sx:{color:o.primary.dark},children:"Step-by-step Evaluation"}),n.jsx(Ur,{symbolTable:a,items:r})]})},zr=()=>{const{symbols:e,expressions:t,userInput:r}=ce(),s=$(),o=ue(),{t:a}=N(),[l,p]=h.useState(r);h.useEffect(()=>{p(r)},[r]);const c=()=>{o({input:l},{method:"GET",action:"/evaluator"})};return n.jsx(J,{appHeader:n.jsx(de,{}),banner:a("evaluator"),children:n.jsxs(j,{spacing:8,children:[n.jsx(he,{value:l,onChange:p,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:c}),r.trim().length>0&&n.jsxs(j,{spacing:2,children:[n.jsxs(j,{children:[n.jsx(g,{fontWeight:900,fontSize:s.typography.h3.fontSize,children:"Input Interpretation"}),n.jsx(fe,{expressions:t})]}),n.jsx(qr,{symbolSet:e,expressions:t.map(d=>d.ok?{ok:!0,tree:me(d.tree)}:{ok:!1})})]})]})})},Gr=[{id:"evaluator",icon:n.jsx(wt,{fontSize:"inherit"}),palette:Ye},{id:"comparator",icon:n.jsx(It,{fontSize:"inherit"}),palette:Be},{id:"checker",icon:n.jsx(Et,{fontSize:"inherit"}),palette:Fe},{id:"rewriter",icon:n.jsx(Ct,{fontSize:"inherit"}),palette:Me}],Vr=["en","th"],Hr=()=>{const{t:e,i18n:t}=N("views",{keyPrefix:"home-view"}),r=$();return n.jsx(J,{banner:e("boolean-algebra-interpreter"),appHeader:n.jsx(j,{useFlexGap:!0,flexDirection:"row",flexWrap:"wrap",spacing:2,justifyContent:"flex-end",width:"100%",children:Vr.map((s,o)=>{const a=s.localeCompare(t.language)===0?900:void 0;return n.jsx(g,{fontWeight:a,onClick:()=>t.changeLanguage(s),sx:{cursor:"pointer",textTransform:"uppercase"},children:e(`lang.${s}`)},"lang"+o)})}),children:n.jsx(se,{container:!0,columns:{xs:1,md:2},spacing:4,children:Gr.map(({id:s,icon:o,palette:a},l)=>{const p=`/${s}`,c=e(`card.${s}.title`),d=e(`card.${s}.desc`),{light:x,dark:m}=a.primary;return n.jsx(se,{size:1,children:n.jsx(ie,{elevation:0,sx:{height:"100%",backgroundColor:x,color:m,transition:"all 0.2s ease-out","&:hover":{boxShadow:20}},children:n.jsxs(Ae,{disableRipple:!0,component:oe,to:p,sx:{padding:2,height:"100%"},children:[n.jsx(V,{sx:{padding:{xs:2,md:4},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(g,{sx:{fontSize:r.typography.h1.fontSize},children:o})}),n.jsx(Oe,{title:c,slotProps:{title:{sx:{fontWeight:900,textTransform:"capitalize"}}}}),n.jsx(V,{children:n.jsx(g,{children:d})})]})})},"card"+l)})})})},ne=new Map,w=(e,t,r)=>{ne.has(e)||ne.set(e,[]),ne.get(e).push({isApplicable:t,rewrite:r})};w(u.IFF,(e,t)=>[u.NOT,u.AND,u.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return v(S(t,r),S(y(t),y(r)))});w(u.IFF,(e,t)=>[u.NOT,u.OR,u.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(v(y(D(t,r)),y(D(r,t))))});w(u.IFF,(e,t)=>[u.AND,u.NOT].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(S(y(S(t,r)),y(S(y(t),y(r)))))});w(u.IFF,(e,t)=>[u.NOT,u.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return v(y(v(y(t),y(r))),y(v(t,r)))});w(u.IFF,(e,t)=>[u.NOT,u.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(D(D(t,r),y(D(t,r))))});w(u.IMPL,(e,t)=>[u.NOT,u.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(S(t,y(r)))});w(u.IMPL,(e,t)=>[u.NOT,u.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return v(y(t),r)});w(u.AND,(e,t)=>[u.NOT,u.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(v(y(t),y(r)))});w(u.AND,(e,t)=>[u.NOT,u.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(D(t,y(r)))});w(u.OR,(e,t)=>[u.NOT,u.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return y(S(y(t),y(r)))});w(u.OR,(e,t)=>[u.NOT,u.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return D(y(t),r)});w(u.OR,(e,t)=>!t.has(u.IMPL)||e.nodeType!==i.BINARY?!1:e.left.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return D(t.operand,r)});w(u.OR,(e,t)=>!t.has(u.IMPL)||e.nodeType!==i.BINARY?!1:e.right.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return D(r.operand,t)});const Xr=e=>ne.get(e)??[],U=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const r=U(e.operand,t);return r===null?null:r.nodeType===i.UNARY&&r.operator===u.NOT?r.operand:y(r)}case i.BINARY:{const r=U(e.left,t);if(r===null)return null;const s=U(e.right,t);if(s===null)return null;if(t.has(e.operator))return _(e.operator,r,s);const o=Xr(e.operator);for(const a of o)if(a.isApplicable(e,t))return U(a.rewrite(_(e.operator,r,s)),t);return null}}},Kr=(e,t)=>{const r=_e(e);if(r.nodeType===i.CONST||r.nodeType===i.IDEN)return{ok:!0,tree:r};const s=U(e,t);return s===null?{ok:!1}:{ok:!0,tree:s}},Zr=()=>{const{userInput:e,expressions:t}=ce(),r=ue(),{typography:s,palette:o}=$(),{t:a}=N(),[l,p]=h.useState(e),[c,d]=h.useState(()=>{const f=new Map;for(const T of Object.values(u))f.set(T,!0);return f}),x=h.useMemo(()=>new Set([...c.entries()].filter(([,f])=>f).map(([f])=>f)),[c]);h.useEffect(()=>{p(e)},[e]);const m=()=>{r({input:l},{method:"GET",action:"/rewriter"})};return n.jsx(J,{banner:a("rewriter"),appHeader:n.jsx(de,{}),children:n.jsxs(j,{spacing:8,children:[n.jsx(he,{value:l,onChange:p,placeholder:"not (p and q) iff (not p or not q)",onSubmit:m}),t.length>0&&n.jsxs(h.Fragment,{children:[n.jsxs(j,{children:[n.jsx(g,{fontWeight:900,fontSize:s.h3.fontSize,children:"Input Interpretation"}),n.jsx(fe,{expressions:t})]}),n.jsxs(j,{spacing:2,children:[n.jsx(g,{fontWeight:900,fontSize:s.h3.fontSize,children:"Result"}),n.jsx(kt,{row:!0,children:Object.values(u).map((f,T)=>n.jsx(ge,{checked:c.get(f),onChange:(R,C)=>d(I=>{const P=new Map(I);return P.set(f,C),P}),control:n.jsx(At,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0}),label:n.jsx(b,{children:`$${ye(f)}$`})},"operator"+T))}),t.map((f,T)=>{if(!f.ok)return null;const R=Kr(f.originalTree,x),C=R.ok?A(R.tree):"\\varnothing",I=T+1;return n.jsx(je,{primary:R.ok?n.jsx(b,{children:`The formula $$${f.inputInterpretationLatex}\\tag{${I}}$$ can be rewritten to $$${C}.$$`}):n.jsx(b,{children:`The formula $$${f.inputInterpretationLatex}\\tag{${I}}$$ cannot be expressed in the desired basis.`}),secondary:R.ok?n.jsx(ve,{exprTree:me(R.tree),slotProps:{container:{maxHeight:"40vh"}}}):n.jsx(b,{sx:{color:o.error.main},children:"$$\\varnothing$$"})},"result"+T)})]})]})]})})},Jr=n.jsx(Pt,{styles:{tableLayout:"auto",borderCollapse:"collapse",html:{scrollBehavior:"smooth"}}}),Qr=_t([{index:!0,element:n.jsx(Hr,{})},{path:"/",errorElement:n.jsx(Ir,{}),children:[{path:"/evaluator",element:n.jsx(Y,{theme:ar,children:n.jsx(zr,{})}),loader:rr},{path:"/comparator",element:n.jsx(Y,{theme:lr,children:n.jsx(wr,{})}),loader:er},{path:"/checker",element:n.jsx(Y,{theme:ir,children:n.jsx($r,{})}),loader:Qt},{path:"/rewriter",element:n.jsx(Y,{theme:cr,children:n.jsx(Zr,{})}),loader:nr}]}],{basename:"/"}),en=()=>n.jsxs(Y,{theme:or,children:[n.jsx(Ot,{}),Jr,n.jsx(Ft,{router:Qr})]}),tn={math:{truthTable:{warning:"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.",confirm:"I understand",title:"Truth Table"}},editor:{run:"Run",copy:"Copy",copied:"Copied"}},rn={home:"Home",solver:"Solver",evaluator:"Evaluator",rewriter:"Rewriter",checker:"Tautology checker",comparator:"Comparator"},nn={translation:{component:{playground:{config:{true:"True",false:"False",editTruthValue:"Modify propositions"}},common:{editor:{run:{label:"Run"}}}},view:{solver:{truthTable:{title:"Truth Table"},stepByStep:{title:"Step-by-step Evaluation"},graph:{title:"Step-by-step"},feedback:{noExpression:"No expression to display. Evaluate one to see how it's interpreted!"},howToUse:{title:"Not sure where to begin?",link:"Read the Manual"}}},common:{proposition:"Proposition",truthValue:"Truth value",true:"T",false:"F",close:"Close",connectives:{negation:"Negation",conjunction:"Conjunction",disjunction:"Disjunction",implication:"Implication",equivalence:"Equivalence"}},editor:{originalPanel:"Original",simplifiedPanel:"Simplified",howToUse:"How to use?",run:"Run",allowedOperatorLabel:"Connectives to keep"},playground:{feedback:{dialogInfo:"Tap on a circle to modify the truth value of the expression."},graph:{noEvaluationToDisplay:"No evaluation step to display. Evaluate an expression to see steps here.",cannotDisplayEvaluation:"Cannot display evaluation step. Please check the expression and try again.",center:"Center Graph"},playback:{forward:"Forward",rewind:"Rewind"}}}},sn={"error-view":{title:"Uh oh, that's not good...","return-home":"Return to home page"},"checker-view":{"input-interpretation":{title:"Input Interpretation","interpretation-is-unsuccessful":"The checker cannot understand this expression."},verdict:{title:"Verdict","formula-is-tautology":"The formula {{eq}} is a tautology.","formula-is-contradiction":"The formula {{eq}} is a contradiction.","formula-is-satisfiable":"The formula {{eq}} is neither a tautology or a contradiction."},"user-manual":[]},"home-view":{lang:{en:"ENGLISH",th:"THAI"},card:{comparator:{title:"Comparator",desc:"Compare expressions to see which one of them are equivalent."},evaluator:{title:"Evaluator",desc:"Evaluate expressions according to given truth values."},rewriter:{title:"Rewriter",desc:"Transform an expression into a different basis."},checker:{title:"Tautology checker",desc:"Check if an expression is always true, always false, or in-between."}},"boolean-algebra-interpreter":"Boolean algebra interpreter"}};zt.use(Vt).use(Gt).use(Bt).init({detection:{lookupLocalStorage:"language"},resources:{en:{translation:nn.translation,component:tn,nav:rn,views:sn}},debug:!0});Ht.createRoot(document.getElementById("root")).render(n.jsx(h.StrictMode,{children:n.jsx(en,{})}));
//# sourceMappingURL=index-BTk842LU.js.map
