import{j as n,r as h}from"./react-BKepnraI.js";import{g as Ue}from"./ohm-js-o5RsQ8tt.js";import{c as G,l as ze,i as We,o as Ve,t as qe,p as He,a as X,r as K,u as N,T as y,B as Ge,b as W,K as Xe,M as Ke,d as Ze,L as $e,C as Ie,e as Ne,S as j,f as Je,P as Se,g as Qe,h as z,A as et,j as tt,k as rt,m as nt,n as Te,q as Ce,s as se,v as ot,w as st,x as ye,y as at,z as it,D as lt,E as je,F as ct,R as ke,G as ae,H as ve,I as Ee,J as ut,N as Ae,O as pt,Q as dt,U as ht,V as ft,W as mt,X as xt,Y as gt,Z as yt,_ as vt,$ as bt,a0 as Tt,a1 as jt,a2 as Rt,a3 as ie,a4 as wt,a5 as $t,a6 as It,a7 as Nt,a8 as St,a9 as Ct,aa as kt,ab as Et,ac as F,ad as At,ae as Ot}from"./@mui-Dg3bsdNd.js";import{u as Lt,L as le,a as ue,b as pe,c as Pt,i as Dt,d as _t,R as Mt}from"./react-router-m1Kpz3Mo.js";import{u as b,i as Bt}from"./react-i18next-BoEMxySj.js";import{L as Ft,G as ce,Z as Yt,T as Ut}from"./@visx-CiICbwka.js";import{k as zt}from"./katex-Dn761jRB.js";import{h as Wt}from"./d3-hierarchy-B72UHu4D.js";import{i as Vt}from"./i18next-C77IuWVK.js";import{B as qt}from"./i18next-browser-languagedetector-Dt8Tv9E6.js";import{B as Ht}from"./i18next-http-backend-BtL6gqeX.js";import{c as Gt}from"./react-dom-D3Ec8Wlr.js";import"./classnames-DHUZR2-n.js";import"./@emotion-B2ONKW_I.js";import"./hoist-non-react-statics-mLZj6LgC.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-JfMTsH4s.js";import"./@popperjs-CMBiYTiD.js";import"./react-is-BmsGHj3B.js";import"./cookie--_YQFYBD.js";import"./prop-types-CZ1f4sS1.js";import"./@use-gesture-BB74HTca.js";import"./d3-shape-rFcaQ0O8.js";import"./d3-path-BevWroqt.js";import"./scheduler-pDHB_tJ7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var d=(t=>(t.IFF="IFF",t.IMPL="IMPL",t.AND="AND",t.OR="OR",t.NOT="NOT",t))(d||{}),c=(t=>(t.CONST="CONSTANT",t.IDEN="IDEN",t.UNARY="UNARY",t.BINARY="BINARY",t))(c||{});const Q=(t,e,r)=>{let o={nodeType:c.BINARY,operator:t,left:e,right:r[0]};for(let s=1;s<r.length;s++)o={nodeType:c.BINARY,operator:t,left:o,right:r[s]};return o},Oe=Ue(String.raw`
BooleanExpressions {
  Expression
    = Iff 

  Iff
    = Implies (iff_sym Implies)*

  Implies
    = Or (implies_sym Or)*

  Or
    = And (or_sym And)*

  And
    = Not (and_sym Not)*

  Not
    = not_sym Not                   --not
    | Primary

  Primary
    = "(" Expression ")" --group
    | identifier  --variable

  identifier
    = letter
  
  iff_sym 
    = "iff"
    | "⇔"
  
  implies_sym 
    = "implies"
    | "⇒"
  
  or_sym
    = "or"
    | "∨"

  and_sym
    = "and"
    | "∧"
  
  not_sym
    = "not"
    | "¬"
}
`),Le=Oe.createSemantics();Le.addOperation("buildTree",{Expression(t){return t.buildTree()},Iff(t,e,r){const o=t.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.IFF,o,s)},Implies(t,e,r){const o=t.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.IMPL,o,s)},Or(t,e,r){const o=t.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.OR,o,s)},And(t,e,r){const o=t.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.AND,o,s)},Not_not(t,e){return{nodeType:c.UNARY,operator:d.NOT,operand:e.buildTree()}},Primary_group(t,e,r){return e.buildTree()},Primary_variable(t){return{nodeType:c.IDEN,symbol:t.sourceString}},identifier(t){return this.sourceString},_iter(...t){return t.map(e=>e.buildTree())}});const de=t=>{const e=Oe.match(t);return e.succeeded()?{ok:!0,tree:Le(e).buildTree()}:{ok:!1}},g=t=>({nodeType:c.UNARY,operator:d.NOT,operand:t}),M=(t,e,r)=>({nodeType:c.BINARY,operator:t,left:e,right:r}),S=(t,e)=>M(d.AND,t,e),w=(t,e)=>M(d.OR,t,e),L=(t,e)=>M(d.IMPL,t,e),Xt=(t,e)=>M(d.IFF,t,e),k=t=>({nodeType:c.CONST,value:t}),I=t=>{switch(t.nodeType){case c.CONST:return String(t.value);case c.IDEN:return t.symbol;case c.UNARY:{let e=I(t.operand);return t.operand.nodeType===c.BINARY&&(e=`( ${e} )`),`${t.operator} ${e}`}case c.BINARY:{let e=I(t.left);t.left.nodeType===c.BINARY&&(e=`( ${e} )`);let r=I(t.right);return t.right.nodeType===c.BINARY&&(r=`( ${r} )`),`${e} ${t.operator} ${r}`}}},ee=t=>{switch(t.nodeType){case c.CONST:case c.IDEN:return t;case c.UNARY:{const e=ee(t.operand);return g(e)}case c.BINARY:{const e=ee(t.left),r=ee(t.right);switch(t.operator){case d.IFF:return S(w(g(e),r),w(g(r),e));case d.IMPL:return w(g(e),r);case d.AND:return S(e,r);case d.OR:return w(e,r)}}}},O=t=>{switch(t.nodeType){case c.CONST:case c.IDEN:return t;case c.UNARY:{const{operand:e}=t;switch(e.nodeType){case c.CONST:return k(!e.value);case c.IDEN:return t;case c.UNARY:return O(e.operand);case c.BINARY:{const r=e.operator===d.AND?d.OR:d.AND;return O(M(r,g(e.left),g(e.right)))}}break}case c.BINARY:{const e=O(t.left),r=O(t.right);if(t.operator===d.AND)return S(e,r);if(r.nodeType===c.BINARY&&r.operator===d.AND){const o=O(w(e,r.left)),s=O(w(e,r.right));return S(o,s)}if(e.nodeType===c.BINARY&&e.operator===d.AND){const o=O(w(e.left,r)),s=O(w(e.right,r));return S(o,s)}return w(e,r)}}},Kt=t=>{const e=[...t];if(e.every(s=>s.nodeType===c.CONST&&!s.value))return new Set([k(!1)]);if(e.some(s=>s.nodeType===c.CONST&&s.value))return new Set([k(!0)]);const r=new Set,o=new Set;for(const s of e)switch(s.nodeType){case c.IDEN:{if(o.has(I(g(s))))return new Set([k(!0)]);const a=I(s);o.has(a)||(o.add(a),r.add(s));break}case c.UNARY:{if(o.has(I(s.operand)))return new Set([k(!0)]);const a=I(s);o.has(a)||(o.add(a),r.add(s))}}return r},Y=(t,e)=>{switch(t.nodeType){case c.CONST:case c.IDEN:case c.UNARY:e.add(new Set([t]));break;case c.BINARY:{if(t.operator===d.AND){Y(t.left,e),Y(t.right,e);return}const r=new Set;Y(t.left,r),Y(t.right,r);const o=new Set;r.forEach(s=>{s.forEach(a=>{o.add(a)})}),e.add(Kt(o));break}}},Re=t=>{if(t.size===0)return k(!1);const e=[...t];let r=e[0];for(const o of e.slice(1))r=w(r,o);return r},Pe=t=>{const e=new Set;Y(O(ee(t)),e);const r=[...e].map(i=>Re(i));if(r.length===0||r.some(i=>i.nodeType===c.CONST&&!i.value))return k(!1);if(r.every(i=>i.nodeType===c.CONST&&i.value))return k(!0);const o=new Set;for(const i of r){if(i.nodeType===c.IDEN){if(o.has(I(g(i))))return k(!1);o.add(i.symbol)}if(i.nodeType===c.UNARY){if(o.has(i.operand.symbol))return k(!1);o.add(I(i))}}const s=[...e];let a=!1;do{a&&(a=!1);for(let i=0;i<s.length;i++){for(let u=0;u<s.length;u++){if(i===u)continue;const p=s[i],m=s[u];if(p.size===m.size&&p.size>1){const f=ge(p,m),v=ge(m,p);if(f.size!==1||v.size!==1)continue;const x=[...f].pop(),T=[...v].pop(),A=x.nodeType===c.IDEN&&T.nodeType===c.UNARY&&I(T).localeCompare(I(g(x)))===0,$=x.nodeType===c.UNARY&&T.nodeType===c.IDEN&&I(g(T)).localeCompare(I(x))===0;if(!A&&!$)continue;const P=ge(p,f);s.splice(i,1,P);const J=s.indexOf(m);J!==-1&&s.splice(J,1),a=!0;break}}if(a)break}}while(a);let l;for(const i of s){const u=Re(i);l===void 0?l=u:l=S(l,u)}return l===void 0?k(!1):l},ge=(t,e)=>{const r=new Set;e.forEach(s=>r.add(I(s)));const o=new Set;return t.forEach(s=>{const a=I(s);r.has(a)||o.add(s)}),o},Zt=new Map([[d.NOT,"\\lnot"],[d.AND,"\\land"],[d.OR,"\\lor"],[d.IMPL,"\\implies"],[d.IFF,"\\iff"]]),V=t=>Zt.get(t)??"",D=t=>{switch(t.nodeType){case c.CONST:return`\\textbf{${t.value}}`;case c.IDEN:return t.symbol;case c.UNARY:{let e=D(t.operand);return t.operand.nodeType===c.BINARY&&(e=`( ${e} )`),`${V(t.operator)} ${e}`}case c.BINARY:{let e=D(t.left);t.left.nodeType===c.BINARY&&(e=`( ${e} )`);let r=D(t.right);t.right.nodeType===c.BINARY&&(r=`( ${r} )`);const o=V(t.operator);return`${e} ${o} ${r}`}}},Jt=({request:t})=>{const r=new URL(t.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,normalizedTree:Pe(l.tree),originalTree:l.tree,inputInterpretationLatex:D(l.tree),inputRaw:a.trim()}:{ok:!1,inputRaw:a.trim()})}return{userInput:r,items:o}},Qt=({request:t})=>{const r=new URL(t.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,inputRaw:a.trim(),tree:l.tree,inputInterpretationLatex:D(l.tree)}:{ok:!1,inputRaw:a.trim()})}return{userInput:r.trim(),items:o}},De=t=>{const e=new Set,r=[t];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case c.IDEN:e.add(o.symbol);break;case c.UNARY:r.push(o.operand);break;case c.BINARY:r.push(o.left),r.push(o.right);break}}return[...e].toSorted((o,s)=>o.localeCompare(s))},er=({request:t})=>{const r=new URL(t.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",symbols:[],items:[]};const o=new Set,s=[];for(const l of r.split(",")){const i=de(l);if(!i.ok){s.push({inputRaw:l.trim(),ok:!1});continue}const{tree:u}=i;De(u).forEach(p=>o.add(p)),s.push({ok:!0,inputRaw:l.trim(),inputInterpretationLatex:D(u),tree:u})}return{userInput:r,items:s,symbols:[...o].toSorted((l,i)=>l.localeCompare(i))}},tr=({request:t})=>{const r=new URL(t.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);if(!l.ok){o.push({ok:!1,inputRaw:a});continue}o.push({ok:!0,inputRaw:a,originalTree:l.tree,inputInterpretationLatex:D(l.tree)})}return{userInput:r,items:o}},rr=G({primary:{main:ze[300]},contrastThreshold:9,tonalOffset:.5}),_e=G({primary:{main:We[200]},tonalOffset:.47,contrastThreshold:9}),Me=G({primary:{main:Ve[200]},tonalOffset:.47,contrastThreshold:9}),Be=G({primary:{main:qe[200]},tonalOffset:.5,contrastThreshold:9}),Fe=G({primary:{main:He[200]},tonalOffset:.47,contrastThreshold:9});let be=X({palette:rr});be=K(be);const nr=be,or=K(X({palette:Be})),sr=K(X({palette:_e})),ar=K(X({palette:Me})),ir=K(X({palette:Fe})),lr=["evaluator","comparator","checker","rewriter"],he=()=>{const{t}=b("nav"),{palette:e}=N(),{pathname:r}=Lt();return n.jsxs(h.Fragment,{children:[n.jsx(y,{component:le,to:"/",sx:{color:e.primary.dark,textTransform:"capitalize",textDecorationLine:"none"},children:t("home")}),lr.map((o,s)=>{const a=`/${o}`,l=a.localeCompare(r)===0?900:void 0;return n.jsx(y,{component:le,to:a,sx:{color:e.primary.dark,textTransform:"capitalize",fontWeight:l,textDecorationLine:"none"},children:t(o)},"item"+s)})]})},R=t=>{const{sx:e,children:r,options:o}=t,s=h.useRef(null);return h.useEffect(()=>{s.current!==null&&window.renderMathInElement(s.current,{strict:!1,output:"html",delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],...o})},[r,s,o]),n.jsx(y,{ref:s,sx:{...e,"& .katex-display > .katex":{whiteSpace:"normal"}},children:r})},cr=t=>{const{options:e,onClick:r}=t,{palette:o}=N(),[s,a]=h.useState(!1),[l,i]=h.useState(e[0]),u=h.useRef(null);return n.jsxs(h.Fragment,{children:[n.jsxs(Ge,{ref:u,variant:"contained",disableElevation:!0,disableRipple:!0,color:"primary",children:[n.jsx(W,{onClick:()=>r(l.value),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(R,{sx:{textTransform:"none",fontFamily:"monospace"},children:`${l.label}`})}),n.jsx(W,{onClick:()=>a(!0),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(Xe,{sx:{transition:"transform 0.2s ease",transform:s?"rotate(180deg)":"rotate(0deg)"}})})]}),n.jsx(Ke,{open:s,anchorEl:u.current,onClose:()=>a(!1),onClick:()=>a(!1),children:e.map((p,m)=>{const f=p.label===l.label;return n.jsxs(Ze,{disableRipple:!0,selected:f,onClick:()=>i(p),sx:{padding:2},children:[n.jsx($e,{children:f&&n.jsx(Ie,{})}),n.jsx(Ne,{disableTypography:!0,children:n.jsx(R,{sx:{fontFamily:"monospace"},children:`${p.label}`})})]},"option"+m)})})]})},ur=[{label:"$\\texttt{not}$",value:"not"},{label:"$\\texttt{and}$",value:"and"},{label:"$\\texttt{or}$",value:"or"},{label:"$\\texttt{implies}$",value:"implies"},{label:"$\\texttt{iff}$",value:"iff"}],pr=[{label:"$\\mathbf{\\lnot}$",value:"¬"},{label:"$\\mathbf{\\land}$",value:"∧"},{label:"$\\mathbf{\\lor}$",value:"∨"},{label:"$\\mathbf{\\implies}$",value:"⇒"},{label:"$\\mathbf{\\iff}$",value:"⇔"}],dr=t=>{const{onClick:e}=t;return n.jsx(j,{flexDirection:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,children:ur.map((r,o)=>n.jsx(cr,{onClick:s=>e(s),options:[pr[o],r]},"insert-btn-text"+o))})},hr=t=>{const{placeholder:e,value:r,onChange:o,onSubmit:s}=t,{palette:a}=N(),{t:l}=b("components",{keyPrefix:"editor"}),i=h.useRef(null),[u,p]=h.useState(!1),[m,f]=h.useState(0),[v,x]=h.useState(0),T=$=>{if(i.current===null)return;const P=r.slice(0,m),J=r.slice(v);o(`${P}${$}${J}`),f(`${P}${$}`.length),x(`${P}${$}`.length)},A=$=>{const P=$.target;f(P.selectionStart??0),x(P.selectionEnd??0)};return n.jsxs(j,{spacing:1,children:[n.jsx(dr,{onClick:T}),n.jsx(Je,{inputRef:i,fullWidth:!0,multiline:!0,rows:5,value:r,placeholder:e,onChange:$=>o($.target.value),slotProps:{input:{sx:{fontFamily:"monospace"}},htmlInput:{autoCapitalize:"off",spellCheck:"false",onSelect:A}}}),n.jsxs(j,{spacing:1,useFlexGap:!0,flexWrap:"wrap",direction:"row",children:[n.jsx(W,{disableElevation:!0,disableRipple:!0,disabled:r.trim().length===0,variant:"contained",startIcon:n.jsx(Se,{}),onClick:s,sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l("run")}),n.jsx(W,{disableElevation:!0,disableRipple:!0,startIcon:u?n.jsx(Ie,{}):n.jsx(Qe,{}),variant:"contained",onClick:()=>{navigator.clipboard.writeText(r),p(!0),setTimeout(()=>{p(!1)},1e3)},sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l(u?"copied":"copy")})]})]})},fe=h.memo(hr,(t,e)=>t.value===e.value&&t.onSubmit===e.onSubmit),Z=t=>{const{appHeader:e,title:r,children:o}=t,{palette:s}=N();return n.jsxs(h.Fragment,{children:[n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:4,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:2},children:e}),n.jsx(z,{paddingX:{xs:2,md:0},paddingY:4,sx:{backgroundColor:s.primary.light,color:s.primary.dark,alignItems:"center"},children:n.jsx(y,{variant:"h1",fontWeight:900,fontFamily:"monospace",textTransform:"capitalize",maxWidth:"lg",marginX:{xs:0,md:"auto"},sx:{textWrap:"balance",whiteSpace:"normal",overflowWrap:"break-word",hyphens:"auto"},children:r})}),n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:8,children:o})]})},_=t=>{const{children:e,severity:r}=t,{t:o}=b("components",{keyPrefix:"alert"});return n.jsxs(et,{severity:r,children:[n.jsx(tt,{sx:{fontWeight:900},children:o("notice")}),e]})},me=t=>{const{items:e}=t,{t:r}=b("components",{keyPrefix:"input-display"});return n.jsxs(j,{spacing:1,children:[e.map((o,s)=>{const a=s+1;return o.ok?n.jsx(R,{children:`$$${o.inputInterpretationLatex} \\tag{${a}}$$`},"expr"+s):n.jsx(R,{sx:{color:({palette:l})=>l.error.main},children:`$$\\varnothing \\tag{${a}}$$`},"expr"+s)}),e.some(o=>!o.ok)&&n.jsxs(_,{severity:"warning",children:[n.jsx(y,{children:r("warnings.the-following-input-are-invalid")}),n.jsx(rt,{children:e.map((o,s)=>{if(o.ok)return null;const a=s+1;return n.jsxs(nt,{children:[n.jsx($e,{children:n.jsx(y,{children:`(${a})`})}),n.jsx(Ne,{disableTypography:!0,children:o.inputRaw.length===0?n.jsx(y,{fontStyle:"italic",children:r("empty-string")}):n.jsx(y,{fontFamily:"monospace",children:o.inputRaw})})]},"invalid-input"+s)})})]})]})},fr=t=>{const{itemNum:e,result:r,originalLatex:o}=t,{t:s}=b("views",{keyPrefix:"checker-view.cards.output.text"});let a=s("contingent",{variables:"$"+De(r).toSorted().join(",")+"$"});return r.nodeType===c.CONST&&(a=r.value?s("tautology"):s("contradiction")),n.jsx(R,{children:s("formula-is-value",{formula:`$$${o}\\tag{${e}}$$`,value:`$$\\boxed{\\textbf{${a}}}$$`})})},q=t=>{const{primary:e,secondary:r}=t,[o,s]=h.useState(!1),a=()=>{s(l=>!l)};return n.jsxs(Te,{variant:"outlined",children:[n.jsx(Ce,{disableRipple:!0,disableTouchRipple:!0,onClick:a,children:n.jsx(se,{children:e})}),n.jsx(ot,{in:o,children:r})]})},Ye=t=>{const e=new Set,r=[t];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case c.CONST:break;case c.IDEN:e.add(o.repr);break;case c.UNARY:r.push(o.child);break;case c.BINARY:r.push(o.left),r.push(o.right);break}}return e},mr=(t,e)=>{const r=[],o=1<<t;for(let s=0;s<o;s++){const a=s.toString(2).padStart(t,"0"),l=new Map;for(let i=0;i<t;i++)l.set(e[i],a[i]==="0");r.push(l)}return r},te=(t,e=null)=>{switch(t.nodeType){case c.CONST:return`\\textbf{${t.repr}}`;case c.IDEN:return e!==null&&e.has(t.repr)?e.get(t.repr):t.repr;case c.UNARY:{const r=te(t.child,e);return t.child.nodeType===c.BINARY?`${t.repr} ( ${r} )`:`${t.repr} ${r}`}case c.BINARY:{let r=te(t.left,e);t.left.nodeType===c.BINARY&&(r=`( ${r} )`);let o=te(t.right,e);return t.right.nodeType===c.BINARY&&(o=`( ${o} )`),`${r} ${t.repr} ${o}`}}},E=t=>te(t),xr=t=>{const{value:e}=t,{t:r}=b("components",{keyPrefix:"truth-table.text"}),{palette:o}=N(),s=e?o.primary.light:st(o.primary.light,.6);return n.jsx(ye,{align:"center",sx:{backgroundColor:s,color:o.primary.dark},children:n.jsx(y,{children:r(e?"true":"false")})})},we=h.memo(xr,(t,e)=>t.value===e.value),gr=t=>{const{exprTree:e,slotProps:r}=t,{t:o}=b("components",{keyPrefix:"truth-table"}),{palette:s}=N(),[a,l]=h.useState(!1),i=h.useMemo(()=>{const m=[...Ye(e)];return m.sort(),m},[e]),u=h.useMemo(()=>E(e),[e]),p=h.useMemo(()=>i.length>3&&!a?[]:mr(i.length,i),[a,i.length]);return i.length>3&&!a?n.jsxs(j,{spacing:1,padding:1,children:[n.jsx(_,{severity:"warning",children:o("warnings.large-truth-table-can-slow-application-down")}),n.jsx(W,{disableElevation:!0,disableRipple:!0,onClick:()=>l(!0),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light,width:"fit-content"},children:o("warnings.confirm")})]}):n.jsx(at,{sx:r.container,children:n.jsxs(it,{stickyHeader:!0,children:[n.jsx(lt,{children:n.jsxs(je,{children:[i.map((m,f)=>n.jsx(ye,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(R,{children:`$${m}$`})},"sym"+f)),n.jsx(ye,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(R,{children:`$${u}$`})})]})}),n.jsx(ct,{children:p.map((m,f)=>n.jsxs(je,{children:[i.map((v,x)=>n.jsx(we,{value:m.get(v)||!1},"sym"+x)),n.jsx(we,{value:e.eval(m)})]},"perm"+f))})]})})},xe=h.memo(gr,(t,e)=>E(t.exprTree)===E(e.exprTree)),yr={[d.AND]:(t,e)=>r=>t(r)&&e(r),[d.OR]:(t,e)=>r=>t(r)||e(r),[d.IMPL]:(t,e)=>r=>!t(r)||e(r),[d.IFF]:(t,e)=>r=>t(r)===e(r)},re=(t,e)=>{const{nodeType:r}=t;switch(r){case c.CONST:return{eval:()=>t.value,nodeType:r,order:e+1,repr:String(t.value)};case c.IDEN:return{eval:s=>s.get(t.symbol)??!1,nodeType:r,order:e+1,repr:t.symbol};case c.UNARY:{const o=re(t.operand,e);return{repr:V(t.operator),child:o,nodeType:r,eval:a=>!o.eval(a),order:o.order+1}}case c.BINARY:{const o=re(t.left,e),s=re(t.right,o.order);return{nodeType:r,eval:yr[t.operator](o.eval,s.eval),left:o,right:s,order:s.order+1,repr:V(t.operator)}}}},H=t=>re(t,0),vr=t=>{const{items:e}=t,{t:r}=b("views",{keyPrefix:"checker-view.cards.output.infos"});return e.filter(o=>o.ok).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:r("no-formula-to-display")})}):n.jsx(h.Fragment,{children:e.map((o,s)=>{if(!o.ok)return null;const a=H(o.originalTree),l=s+1;return n.jsx(q,{primary:n.jsx(fr,{itemNum:l,result:o.normalizedTree,originalLatex:o.inputInterpretationLatex}),secondary:n.jsx(xe,{exprTree:a,slotProps:{container:{maxHeight:"40vh"}}})},"verdict"+s)})})},br=t=>{const{items:e}=t,{typography:r}=N(),{t:o}=b("views",{keyPrefix:"checker-view.cards"});return n.jsxs(j,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("input-interpretation.title")}),n.jsx(me,{items:e}),n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("output.title")}),n.jsx(vr,{items:e})]})},Tr=()=>{const{items:t,userInput:e}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(e);h.useEffect(()=>{a(e)},[e]);const l=()=>{r({input:s},{method:"GET",action:"/checker"})};return n.jsx(Z,{appHeader:n.jsx(he,{}),title:o("checker"),children:n.jsxs(j,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p or not p, not q and q, p implies q",onSubmit:l}),t.length>0&&n.jsx(br,{items:t})]})})};function*jr(t){let e=0;const r=1<<t.length;for(;e<r;){const o=new Map,s=e.toString(2).padStart(t.length,"0");for(let a=0;a<r;a++)o.set(t[a],s[a]==="1");yield o,e++}}const Rr=t=>{const e=Ye(t),r=jr([...e]);for(const o of r)if(!t.eval(o))return!1;return!0},wr=t=>{const{items:e,onMainItemIndexChange:r,mainItemIndex:o}=t,{t:s}=b("views",{keyPrefix:"comparator-view.cards"}),{typography:a}=N(),l=h.useMemo(()=>e.filter(u=>u.ok),[e]),i=h.useMemo(()=>{if(o===null)return null;const u=e.at(o);return u===void 0||!u.ok?null:u},[o,e]);return n.jsxs(j,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:e}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length<=1&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.not-enough-formula-for-comparison")})}),o!==null&&l.length>1&&n.jsx(ke,{value:o,onChange:(u,p)=>r(Number.parseInt(p)),children:e.map((u,p)=>{if(!u.ok)return null;const m=u.inputInterpretationLatex;return n.jsx(ae,{control:n.jsx(ve,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:p,label:n.jsx(R,{children:`$$${m}$$`}),slotProps:{typography:{width:"100%"}}},"main-expr-option"+p)})}),i!==null&&o!==null&&l.length>1&&e.map((u,p)=>{if(!u.ok||p===o)return null;const m=H(Xt(i.tree,u.tree)),f=Rr(m),v=o+1,x=p+1,T=i.inputInterpretationLatex,A=u.inputInterpretationLatex,$=s(f?"output.text.equivalent":"output.text.not-equivalent");return n.jsx(q,{primary:n.jsx(R,{children:s("output.text.formulas-are-value",{first:`$$${T} \\tag{${v}}$$`,second:`$$${A} \\tag{${x}}$$`,value:`$$\\boxed{\\textbf{${$}}}$$`})}),secondary:n.jsx(xe,{exprTree:m,slotProps:{container:{maxHeight:"40vh"}}})},"comparison-pair"+p)})]})},$r=()=>{const{items:t,userInput:e}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(e),[l,i]=h.useState(()=>{for(const[p,m]of t.entries())if(m.ok)return p;return null});h.useEffect(()=>{a(e)},[e]),h.useEffect(()=>{for(const[p,m]of t.entries())if(m.ok){i(p);return}i(null)},[t]);const u=h.useCallback(()=>{r({input:s},{method:"GET",action:"/comparator"})},[r,s]);return n.jsx(Z,{appHeader:n.jsx(he,{}),title:o("comparator"),children:n.jsxs(j,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:u}),t.length>0&&n.jsx(wr,{mainItemIndex:l,onMainItemIndexChange:i,items:t})]})})},Ir=()=>{const t=Pt(),{t:e}=b("views",{keyPrefix:"error-view"});return n.jsx(z,{maxWidth:"md",marginX:{xs:2,md:"auto"},paddingY:2,children:n.jsxs(Te,{variant:"outlined",children:[n.jsx(Ee,{title:e("title"),slotProps:{title:{fontWeight:900}}}),n.jsx(ut,{disableSpacing:!0,children:n.jsx(y,{component:le,to:"/",color:"primary",sx:{textDecorationLine:"none","&:hover":{textDecorationLine:"underline"}},children:e("return-home")})}),Dt(t)&&n.jsx(se,{children:n.jsx(y,{fontFamily:"monospace",color:"error",component:"pre",children:JSON.stringify(t,null,4)})})]})})},B=t=>{const{children:e,onKeyPress:r,onClick:o,title:s,disabled:a}=t;return n.jsx(Ae,{title:n.jsx(y,{children:s}),children:n.jsx("span",{children:n.jsx(pt,{disableRipple:!0,disabled:a,onClick:o,onKeyDown:r,children:e})})})},Nr=t=>{const{value:e,maxValue:r,minValue:o,onChange:s,isAnimationPlaying:a,onAnimationPause:l,onAnimationPlay:i,onAnimationReplay:u}=t,{t:p}=b("components",{keyPrefix:"graph.playback"}),m=()=>{e>=r||s(e+1)},f=()=>{e<=o||s(e-1)};return n.jsxs(j,{children:[n.jsx(dt,{valueLabelDisplay:"auto",onChange:(v,x)=>s(x),value:e,max:r,min:o,step:1}),n.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(B,{disabled:e<=o,title:p("previous"),onClick:f,children:n.jsx(ht,{})}),e===r&&n.jsx(B,{title:p("replay"),onClick:u,children:n.jsx(ft,{})}),e!==r&&a&&n.jsx(B,{title:p("pause"),onClick:l,children:n.jsx(mt,{})}),e!==r&&!a&&n.jsx(B,{title:p("play"),onClick:i,children:n.jsx(Se,{})}),n.jsx(B,{disabled:e>=r,title:p("forward"),onClick:m,children:n.jsx(xt,{})}),n.jsx(y,{children:`${e}/${r}`})]})]})},Sr=h.memo(Nr,(t,e)=>["value","maxValue","minValue","isAnimationPlaying"].every(o=>t[o]===e[o])),Cr=t=>{const{link:e,order:r}=t,{palette:o}=N(),{source:s,target:a}=e,l=s.data.order<=r,i=a.data.order<=r,u=a.data.order<=r+1,p=i||u,m=l&&p;return n.jsx(Ft,{data:e,stroke:o.primary.light,visibility:m?"visible":"hidden",strokeOpacity:p?"0.6":"0.3",strokeWidth:"5",fill:"none"})},kr=t=>{const{r:e,order:r,node:o,symbolTable:s}=t,{t:a}=b("components",{keyPrefix:"graph"}),{x:l,y:i,data:u}=o,{palette:p,typography:m}=N(),f=h.useRef(null);h.useEffect(()=>{f.current!==null&&(f.current.innerHTML=zt.renderToString(u.repr).replaceAll("span","tspan"))},[f,u.repr]);const v=u.order===r,x=u.order<=r,T=u.order<=r+1,A=x||T;return n.jsxs(ce,{top:i,left:l,opacity:x?1:.5,visibility:A?"visible":"hidden",children:[n.jsx("circle",{strokeWidth:v?5:0,stroke:p.primary.dark,strokeOpacity:.8,r:e,fill:p.primary.light}),n.jsx("text",{ref:f,fontSize:m.body1.fontSize,fill:p.primary.contrastText,dy:"0.33rem",textAnchor:"middle",pointerEvents:"none",style:{userSelect:"none"}}),n.jsxs(ce,{transform:`translate(${e/3}, ${e/3})`,visibility:u.order<r?"visible":"hidden",children:[n.jsx("rect",{width:60,height:30,rx:5,ry:5,fill:p.primary.light}),n.jsx("text",{x:"30",y:"22",textAnchor:"middle",pointerEvents:"none",fill:p.primary.contrastText,style:{userSelect:"none"},children:u.eval(s)?a("true"):a("false")})]})]})},Er=t=>{const{tree:e,order:r,symbolTable:o}=t,{palette:s}=N(),{t:a}=b("components",{keyPrefix:"graph"}),l=h.useRef(null),i=Wt(e,x=>{switch(x.nodeType){case c.CONST:return null;case c.IDEN:return null;case c.UNARY:return[x.child];case c.BINARY:return[x.left,x.right]}}),u=l.current===null?0:l.current.getBoundingClientRect().width,p=l.current===null?0:l.current.getBoundingClientRect().height,m=(i.leaves().length+1)*150,f=(i.height+1)*100,v=30;return n.jsx(z,{ref:l,width:"100%",height:"100%",position:"relative",children:n.jsx(Yt,{width:u,height:p,scaleXMin:1/10,scaleXMax:1,scaleYMin:1/10,scaleYMax:1,children:x=>n.jsxs(h.Fragment,{children:[n.jsx("svg",{width:u,height:p,ref:x.containerRef,style:{touchAction:"none",cursor:x.isDragging?"grabbing":"grab"},onMouseDown:x.dragStart,onMouseMove:x.dragMove,onMouseUp:x.dragEnd,onMouseLeave:x.dragEnd,children:n.jsx(ce,{transform:x.toString(),children:n.jsx(Ut,{root:i,size:[m,-f],children:T=>n.jsxs(ce,{top:f+v*1.5,children:[T.links().map((A,$)=>n.jsx(Cr,{order:r,link:A},`link-${$}`)),T.descendants().map((A,$)=>n.jsx(kr,{order:r,node:A,symbolTable:o,r:v},`node-${$}`))]})})})}),n.jsx(Ae,{placement:"right",title:n.jsx(y,{children:a("center")}),children:n.jsx(gt,{onClick:x.center,sx:{position:"absolute",left:16,bottom:16,"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light},children:n.jsx(yt,{})})})]})})})},Ar=h.memo(Er,(t,e)=>{if(t.order!==e.order||E(t.tree).localeCompare(E(e.tree))!==0)return!1;for(const[r,o]of t.symbolTable.entries())if(e.symbolTable.get(r)!==o)return!1;return!0}),Or=t=>{const{exprTree:e,symbolTable:r,slotProps:o}=t,[s,a]=h.useState(1),[l,i]=h.useState(1),[u,p]=h.useState(!1),m=h.useRef(null),f=h.useRef(u),v=h.useRef(s);return h.useEffect(()=>{f.current=u},[u]),h.useEffect(()=>{v.current=s},[s]),h.useEffect(()=>(u&&(m.current=setInterval(()=>{f.current&&a(x=>x<l?x+1:(p(!1),f.current=!1,x))},750)),()=>clearInterval(m.current??void 0)),[u,l,s]),h.useEffect(()=>{a(1),i(e.order+1)},[e]),n.jsxs(j,{spacing:1,children:[n.jsx(vt,{variant:"outlined",sx:o.container,children:n.jsx(Ar,{order:s,tree:e,symbolTable:r})}),n.jsx(Sr,{maxValue:l,minValue:1,value:s,onChange:a,isAnimationPlaying:u,onAnimationPause:()=>{p(!1)},onAnimationPlay:()=>{p(!0)},onAnimationReplay:()=>{a(1),p(!0)}})]})},ne=(t,e,r)=>{switch(t.nodeType){case c.CONST:return;case c.IDEN:{const o=t.eval(e),s=t.repr;r.push({repr:s,evaluated:o,substitutions:[{repr:s,evaluated:o,stepRef:!1,substituted:`\\text{${o}}`}],connective:null})}break;case c.UNARY:{const{child:o}=t,s=o.eval(e);let a=!1;o.nodeType!==c.CONST&&o.nodeType!==c.IDEN&&(ne(o,e,r),a=r.length);const l=[];o.nodeType!==c.CONST&&l.push({repr:E(o),evaluated:s,stepRef:a,substituted:`\\lnot ${s?"\\top":"\\bot"}
            }`}),r.push({repr:E(t),substitutions:l,evaluated:t.eval(e),connective:t.repr})}break;case c.BINARY:{const{right:o,left:s}=t,a=s.eval(e),l=a?"\\top":"\\bot";let i=!1;s.nodeType!==c.CONST&&s.nodeType!==c.IDEN&&(ne(s,e,r),i=r.length);const u=o.eval(e),p=E(o),m=o.nodeType===c.BINARY?`( ${p} )`:p,f=u?"\\top":"\\bot";let v=!1;o.nodeType!==c.CONST&&o.nodeType!==c.IDEN&&(ne(o,e,r),v=r.length);const x=[];s.nodeType!==c.CONST&&x.push({repr:E(s),evaluated:a,stepRef:i,substituted:`${l} ${t.repr} ${m}`}),o.nodeType!==c.CONST&&x.push({repr:p,evaluated:u,stepRef:v,substituted:`${l} ${t.repr} ${f}`}),r.push({repr:E(t),evaluated:t.eval(e),substitutions:x,connective:t.repr})}break}},Lr=(t,e)=>{const r=[];return ne(t,e,r),r},Pr=t=>{const{subStep:e,references:r,subStepIndex:o,stepIndex:s}=t,a=String.fromCharCode(o+97),l=String.fromCharCode(o+97+1),{t:i}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),{substituted:u,evaluated:p,repr:m,stepRef:f}=e;if(f===!1)return n.jsx(R,{children:i("given-variable-is-value",{variable:`$${m}$`,formula:`$$${u}.\\tag{${s}.${l}}$$`,value:i(p?"true":"false")})});const v=r[f-1].repr;return n.jsx(R,{children:i("from-previous-step-substitute-into-formula",{step:`$\\text{(${f}.a)}$`,formula:`$$${v}$$`,value:i(p?"true":"false"),current:`$\\text{(${s}.${a})}$`,result:`$$${u}.\\tag{${s}.${l}}$$`})})},Dr=t=>{const{step:e,stepIndex:r,references:o}=t,{evaluated:s,repr:a,substitutions:l,connective:i}=e,{t:u}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),p=`${r}.a`;return n.jsxs(j,{spacing:1,children:[n.jsx(y,{fontWeight:900,children:u("step-x-of-y",{current:r,total:o.length})}),n.jsx(R,{children:u("consider-the-formula",{formula:`$$${a}.\\tag{${p}}$$`})}),l.map((m,f)=>n.jsx(Pr,{stepIndex:r,subStepIndex:f,subStep:m,references:o},"sub-step"+r+f)),n.jsx(R,{children:u("by-truth-table-formula-is-value",{operator:`$${i}$`,formula:`$(${p})$`,value:u(s?"true":"false")})})]})},_r=t=>{const{exprTree:e,symbolTable:r}=t,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),s=h.useMemo(()=>Lr(e,r),[e,r]);if(s.length===0)return n.jsx(y,{fontStyle:"italic",children:o("no-evaluation-step-to-display")});const{evaluated:a,repr:l}=s.at(-1);return n.jsxs(j,{spacing:2,children:[n.jsx(Or,{exprTree:e,symbolTable:r,slotProps:{container:{height:{xs:"50vh",md:"66vh"}}}}),s.map((i,u)=>n.jsx(Dr,{step:i,stepIndex:u+1,references:s},"step"+u)),n.jsx(R,{children:o("therefore-formula-is-value",{formula:`$$${l}$$`,value:o(a?"true":"false")})})]})},Mr=h.memo(_r,(t,e)=>{if(E(t.exprTree)!==E(e.exprTree))return!1;for(const[r,o]of t.symbolTable.entries())if(e.symbolTable.get(r)!==o)return!1;return!0}),Br=t=>{const{items:e,symbolTable:r}=t,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),[s,a]=h.useState(()=>e.findIndex(i=>i.ok));return h.useEffect(()=>{a(e.findIndex(i=>i.ok))},[e]),h.useMemo(()=>e.filter(i=>i.ok),[e]).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:o("infos.no-valid-formula-to-display")})}):n.jsxs(bt,{value:s,children:[n.jsx(Tt,{onChange:(i,u)=>a(Number.parseInt(u)),variant:"scrollable",scrollButtons:"auto",textColor:"inherit",sx:{paddingX:0},children:e.map((i,u)=>i.ok?n.jsx(jt,{value:u,disableRipple:!0,label:o("tab-item",{num:u+1})},"tab"+u):null)}),e.map((i,u)=>i.ok?n.jsx(Rt,{value:u,sx:{padding:0},children:n.jsx(Mr,{exprTree:i.tree,symbolTable:r})},"tab-panel"+u):null)]})},Fr=t=>{const{value:e,onChange:r}=t,{t:o}=b("components",{keyPrefix:"symbol-config"}),s=h.useMemo(()=>[...e.keys()].toSorted((a,l)=>a.localeCompare(l)),[e]);return s.length===0?null:n.jsx(ie,{container:!0,width:"100%",sx:{maxHeight:400,overflowY:"auto"},children:s.map(a=>n.jsx(ie,{size:{xs:12,md:4},children:n.jsxs(wt,{fullWidth:!0,children:[n.jsx($t,{children:n.jsx(R,{children:`$${a}$`})}),n.jsxs(ke,{row:!0,value:e.get(a)?"1":"0",onChange:(l,i)=>r(a,i==="1"),children:[n.jsx(ae,{disableTypography:!0,control:n.jsx(ve,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"1",label:n.jsx(y,{children:o("true")})}),n.jsx(ae,{control:n.jsx(ve,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"0",disableTypography:!0,label:n.jsx(y,{children:o("false")})})]})]})},"symbol-"+a))})},Yr=t=>{const{items:e,symbolTable:r,onSymbolChange:o}=t,{typography:s}=N(),{t:a}=b("views",{keyPrefix:"evaluator-view.cards"}),l=h.useMemo(()=>e.filter(i=>i.ok),[e]);return n.jsxs(j,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("input-interpretation.title")}),n.jsx(me,{items:e}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("output.title")}),n.jsx(Fr,{value:r,onChange:o}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:a("output.infos.no-valid-formula-to-display")})}),l.length>0&&e.map((i,u)=>{if(!i.ok)return null;const p=H(i.tree),m=i.inputInterpretationLatex,f=p.eval(r),v=a(f?"output.true":"output.false");return n.jsx(q,{primary:n.jsx(R,{children:a("output.formula-evaluates-to-value",{formula:`$$${m}$$`,value:`$$\\boxed{\\textbf{${v}}}$$`})}),secondary:n.jsx(xe,{exprTree:p,slotProps:{container:{maxHeight:"40vh"}}})},"output-item"+u)}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("step-by-step.title")}),n.jsx(Br,{symbolTable:r,items:e.map(i=>i.ok?{ok:!0,tree:H(i.tree)}:{ok:!1})})]})},Ur=()=>{const{items:t,userInput:e,symbols:r}=ue(),o=pe(),{t:s}=b("nav"),[a,l]=h.useState(e),[i,u]=h.useState(()=>{const f=new Map;for(const v of r)f.set(v,!0);return f});h.useEffect(()=>{l(e)},[e]),h.useEffect(()=>{const f=new Map;for(const v of r)f.set(v,!0);u(f)},[r]);const p=h.useCallback(()=>{o({input:a},{method:"GET",action:"/evaluator"})},[o,a]),m=h.useCallback((f,v)=>{u(x=>{const T=new Map(x);return T.set(f,v),T})},[]);return n.jsx(Z,{appHeader:n.jsx(he,{}),title:s("evaluator"),children:n.jsxs(j,{spacing:8,children:[n.jsx(fe,{value:a,onChange:l,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:p}),t.length>0&&n.jsx(Yr,{symbolTable:i,items:t,onSymbolChange:m})]})})},zr=[{id:"evaluator",icon:n.jsx(It,{fontSize:"inherit"}),palette:Be},{id:"comparator",icon:n.jsx(Nt,{fontSize:"inherit"}),palette:Me},{id:"checker",icon:n.jsx(St,{fontSize:"inherit"}),palette:_e},{id:"rewriter",icon:n.jsx(Ct,{fontSize:"inherit"}),palette:Fe}],Wr=["en","th"],Vr=()=>{const{t,i18n:e}=b(["views","nav"]),r=N();return n.jsx(Z,{title:t("home-view.boolean-algebra-interpreter",{ns:"views"}),appHeader:n.jsx(j,{useFlexGap:!0,flexDirection:"row",flexWrap:"wrap",spacing:2,justifyContent:"flex-end",width:"100%",children:Wr.map((o,s)=>{const a=o.localeCompare(e.language)===0?900:void 0;return n.jsx(y,{fontWeight:a,onClick:()=>e.changeLanguage(o),sx:{cursor:"pointer",textTransform:"capitalize"},children:t(`home-view.lang.${o}`,{ns:"views"})},"lang"+s)})}),children:n.jsx(ie,{container:!0,columns:{xs:1,md:2},spacing:4,children:zr.map(({id:o,icon:s,palette:a},l)=>{const i=`/${o}`,{light:u,dark:p}=a.primary;return n.jsx(ie,{size:1,children:n.jsx(Te,{elevation:0,sx:{height:"100%",backgroundColor:u,color:p,transition:"all 0.2s ease-out","&:hover":{boxShadow:20}},children:n.jsxs(Ce,{disableRipple:!0,component:le,to:i,sx:{padding:2,height:"100%"},children:[n.jsx(se,{sx:{padding:{xs:2,md:4},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(y,{sx:{fontSize:r.typography.h1.fontSize},children:s})}),n.jsx(Ee,{title:t(o,{ns:"nav"}),slotProps:{title:{sx:{fontWeight:900,textTransform:"capitalize"}}}}),n.jsx(se,{children:n.jsx(y,{children:t(`home-view.cards.${o}.desc`,{ns:"views"})})})]})})},"card"+l)})})})},oe=new Map,C=(t,e,r)=>{oe.has(t)||oe.set(t,[]),oe.get(t).push({isApplicable:e,rewrite:r})};C(d.IFF,(t,e)=>[d.NOT,d.AND,d.OR].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return w(S(e,r),S(g(e),g(r)))});C(d.IFF,(t,e)=>[d.NOT,d.OR,d.IMPL].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(w(g(L(e,r)),g(L(r,e))))});C(d.IFF,(t,e)=>[d.AND,d.NOT].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(S(g(S(e,r)),g(S(g(e),g(r)))))});C(d.IFF,(t,e)=>[d.NOT,d.OR].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return w(g(w(g(e),g(r))),g(w(e,r)))});C(d.IFF,(t,e)=>[d.NOT,d.IMPL].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(L(L(e,r),g(L(e,r))))});C(d.IMPL,(t,e)=>[d.NOT,d.AND].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(S(e,g(r)))});C(d.IMPL,(t,e)=>[d.NOT,d.OR].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return w(g(e),r)});C(d.AND,(t,e)=>[d.NOT,d.OR].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(w(g(e),g(r)))});C(d.AND,(t,e)=>[d.NOT,d.IMPL].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(L(e,g(r)))});C(d.OR,(t,e)=>[d.NOT,d.AND].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return g(S(g(e),g(r)))});C(d.OR,(t,e)=>[d.NOT,d.IMPL].every(r=>e.has(r)),t=>{const{left:e,right:r}=t;return L(g(e),r)});C(d.OR,(t,e)=>!e.has(d.IMPL)||t.nodeType!==c.BINARY?!1:t.left.nodeType===c.UNARY,t=>{const{left:e,right:r}=t;return L(e.operand,r)});C(d.OR,(t,e)=>!e.has(d.IMPL)||t.nodeType!==c.BINARY?!1:t.right.nodeType===c.UNARY,t=>{const{left:e,right:r}=t;return L(r.operand,e)});const qr=t=>oe.get(t)??[],U=(t,e)=>{switch(t.nodeType){case c.CONST:case c.IDEN:return t;case c.UNARY:{const r=U(t.operand,e);return r===null?null:r.nodeType===c.UNARY&&r.operator===d.NOT?r.operand:g(r)}case c.BINARY:{const r=U(t.left,e);if(r===null)return null;const o=U(t.right,e);if(o===null)return null;if(e.has(t.operator))return M(t.operator,r,o);const s=qr(t.operator);for(const a of s)if(a.isApplicable(t,e))return U(a.rewrite(M(t.operator,r,o)),e);return null}}},Hr=(t,e)=>{const r=Pe(t);if(r.nodeType===c.CONST||r.nodeType===c.IDEN)return{ok:!0,tree:r};const o=U(t,e);return o===null?{ok:!1}:{ok:!0,tree:o}},Gr=t=>{const{result:e,originalLatex:r,itemNum:o}=t,{t:s}=b("views",{keyPrefix:"rewriter-view.cards.output"});return e.ok?n.jsx(q,{primary:n.jsx(R,{children:s("text.formula-is-expressed-as-in-the-desired-basis",{formula:`$$${r}\\tag{${o}}$$`,result:`$$\\boxed{${e.latex}}$$`})}),secondary:n.jsx(xe,{exprTree:e.tree,slotProps:{container:{maxHeight:"40vh"}}})}):n.jsx(q,{primary:n.jsx(R,{children:s("text.formula-cannot-be-expressed-in-the-desired-basis",{formula:`$$${r} \\tag{${o}}$$`})}),secondary:n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("infos.truth-table-is-not-available")})})})},Xr=t=>{const{items:e,basis:r,onBasisChange:o}=t,{t:s}=b("views",{keyPrefix:"rewriter-view.cards"}),{typography:a}=N(),l=h.useMemo(()=>e.filter(i=>i.ok),[e]);return n.jsxs(j,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:e}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.no-valid-formula-to-display")})}),l.length>0&&n.jsxs(h.Fragment,{children:[n.jsx(kt,{row:!0,children:Object.values(d).map((i,u)=>n.jsx(ae,{checked:r.has(i),onChange:(p,m)=>o(i,m),control:n.jsx(Et,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0}),label:n.jsx(R,{children:`$${V(i)}$`})},"operator"+u))}),e.map((i,u)=>{if(!i.ok)return null;const p=Hr(i.originalTree,r),m=u+1;return n.jsx(Gr,{itemNum:m,originalLatex:i.inputInterpretationLatex,result:p.ok?{ok:!0,tree:H(p.tree),latex:D(p.tree)}:{ok:!1}},"result"+u)})]})]})},Kr=()=>{const{userInput:t,items:e}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(t),[l,i]=h.useState(()=>{const f=new Map;for(const v of Object.values(d))f.set(v,!0);return f}),u=h.useMemo(()=>new Set([...l.entries()].filter(([,f])=>f).map(([f])=>f)),[l]);h.useEffect(()=>{a(t)},[t]);const p=h.useCallback(()=>{r({input:s},{method:"GET",action:"/rewriter"})},[r,s]),m=h.useCallback((f,v)=>{i(x=>{const T=new Map(x);return T.set(f,v),T})},[]);return n.jsx(Z,{title:o("rewriter"),appHeader:n.jsx(he,{}),children:n.jsxs(j,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"not (p and q) iff (not p or not q)",onSubmit:p}),e.length>0&&n.jsx(Xr,{basis:u,items:e,onBasisChange:m})]})})},Zr=n.jsx(Ot,{styles:{tableLayout:"auto",borderCollapse:"collapse",html:{scrollBehavior:"smooth"}}}),Jr=_t([{index:!0,element:n.jsx(Vr,{})},{path:"/",errorElement:n.jsx(Ir,{}),children:[{path:"/evaluator",element:n.jsx(F,{theme:or,children:n.jsx(Ur,{})}),loader:er},{path:"/comparator",element:n.jsx(F,{theme:ar,children:n.jsx($r,{})}),loader:Qt},{path:"/checker",element:n.jsx(F,{theme:sr,children:n.jsx(Tr,{})}),loader:Jt},{path:"/rewriter",element:n.jsx(F,{theme:ir,children:n.jsx(Kr,{})}),loader:tr}]}],{basename:"/"}),Qr=()=>n.jsxs(F,{theme:nr,children:[n.jsx(At,{}),Zr,n.jsx(Mt,{router:Jr})]}),en={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.",confirm:"I understand"}},editor:{run:"Run",copy:"Copy",copied:"Copied"},alert:{notice:"Notice"},"input-display":{"empty-string":"Empty",warnings:{"the-following-input-are-invalid":"The following expressions appear to be invalid or incorrect."}},"symbol-config":{true:"True",false:"False"},graph:{center:"Center",true:"True",false:"False",playback:{forward:"Forward",previous:"Previous",play:"Play",pause:"Pause",replay:"Replay"}}},tn={home:"Home",evaluator:"Evaluator",rewriter:"Rewriter",checker:"Tautology checker",comparator:"Comparator"},rn={"error-view":{title:"Uh oh, that's not good...","return-home":"Return to home page"},"evaluator-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{true:"true",false:"false",title:"Result","formula-evaluates-to-value":"{{formula}} {{value}}.",infos:{"no-valid-formula-to-display":"There is no valid formula to display."}},"step-by-step":{true:"true",false:"false",title:"Step-by-step Evaluation","tab-item":"Expression ({{num}})","no-evaluation-step-to-display":"No evaluation step to display.","therefore-formula-is-value":"Therefore, the formula {{formula}} {{value}}","step-x-of-y":"Step {{current}} of {{total}}","by-truth-table-formula-is-value":"By the truth table of {{operator}}, {{formula}} is {{value}} as answer for this step.","consider-the-formula":"Consider the formula {{formula}} in this step.","given-variable-is-value":"Given {{variable}} is true, substitute {{variable}} with true in {{formula}} as simplified formula.","from-previous-step-substitute-into-formula":"From {{step}}, {{formula}} is {{value}}. Substitute into {{current}} to obtain {{result}} as simplified formula.",infos:{"no-valid-formula-to-display":"There is no valid formula to display step-by-step evaluation."}}}},"rewriter-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{title:"Result",text:{"formula-cannot-be-expressed-in-the-desired-basis":"{{formula}} cannot be expressed in the desired basis.","formula-is-expressed-as-in-the-desired-basis":"{{formula}} {{result}}"},infos:{"no-valid-formula-to-display":"There is no valid formula to display.","truth-table-is-not-available":"The truth table for this formula is not available."}}}},"checker-view":{cards:{"input-interpretation":{title:"Input Interpretation"},output:{title:"Result",text:{"formula-is-value":"{{formula}} {{value}}",tautology:"tautology",contradiction:"contradiction",contingent:"contingent on {{variables}}"},warnings:{"no-formula-to-display":"There is no valid formula to display."}}}},"home-view":{lang:{en:"ENGLISH",th:"THAI"},cards:{comparator:{desc:"Compare expressions to see which one of them are equivalent."},evaluator:{desc:"Evaluate expressions according to given truth values."},rewriter:{desc:"Transform an expression into a different basis."},checker:{desc:"Check if an expression is always true, always false, or in-between."}},"boolean-algebra-interpreter":"Boolean algebra interpreter"},"comparator-view":{cards:{output:{title:"Result",text:{equivalent:"Equivalent","not-equivalent":"Not equivalent","formulas-are-value":"{{first}} {{second}} {{value}}"},warnings:{"not-enough-formula-for-comparison":"There is not enough valid formula to perform comparisons."}},"input-interpretation":{title:"Input Interpretation"}}}},nn={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"ตารางค่าความจริงของประพจน์นี้ถูกซ่อนอยู่เพราะตารางมีขนาดใหญ่ กดปุ่มด้านล่างเพื่อแสดงตารางค่าความจริง แต่อาจใช้เวลานานในการแสดงตารางและโปรแกรมอาจะตอบสนองช้าลง",confirm:"แสดงตารางความจริง"}},editor:{run:"คำนวณ",copy:"คำลอก",copied:"คัดลองสำเร็จ"},alert:{notice:"แจ้งเตือน"},"input-display":{"empty-string":"ประโยคนี้ว่าง",warnings:{"the-following-input-are-invalid":"ประโยคต่อไปนี้มีข้อผิดพลาด โปรดตรวจสอบประโยคเหล่านี้อีกครั้งแล้วลองใหม่"}},"symbol-config":{true:"จริง",false:"เท็จ"},graph:{center:"ศูนย์กลาง",true:"จริง",false:"เท็จ",playback:{forward:"เดินหน้า",previous:"ถอยหลัง",play:"เล่น",pause:"หยุด",replay:"เล่นใหม่"}}},on={home:"หน้าหลัก",evaluator:"คำนวณค่าความจริง",rewriter:"เปลี่ยนฐานประพจน์",checker:"ตรวจสอบสัจนิรันด์",comparator:"เปรียบเทียบสมมูล"},sn={"error-view":{title:"เกิดข้อผิดพลาดขึ้น","return-home":"กลับหน้าหลัก"},"evaluator-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{true:"เป็นจริง",false:"เป็นเท็จ",title:"ผลลัพท์","formula-evaluates-to-value":"{{formula}} {{value}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}},"step-by-step":{true:"จริง",false:"เท็จ",title:"ลำดับขั้นตอนในการคำนวณ","tab-item":"ประพจน์ ({{num}})","no-evaluation-step-to-display":"ไม่มีลำดับการคำนวณให้แสดง","therefore-formula-is-value":"ดังนั้น ประพจน์ {{formula}} เป็น{{value}}","step-x-of-y":"ลำดับการคำนวณขั้นที่ {{current}} จาก {{total}}","by-truth-table-formula-is-value":"อ้างจากตารางค่าความจริงของตัวเชื่อม {{operator}} สรุปได้ว่า {{formula}} เป็น{{value}}","consider-the-formula":"คำนวณประพจน์ {{formula}}","given-variable-is-value":"จากที่กำหนดไว้ว่า {{variable}} เป็น{{value}} แทนที่ {{variable}} ด้วย{{value}}ลงในประพจน์ {{formula}}","from-previous-step-substitute-into-formula":"จากลำดับการคำนวณขั้นที่ {{step}} ประพจน์ {{formula}} เป็น{{value}} แทนที่ {{current}} ลงในประพจน์จึงได้ {{result}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}}}},"rewriter-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลลัพท์การเปลี่ยนฐาน",text:{"formula-cannot-be-expressed-in-the-desired-basis":"ไม่สามารถเปลี่ยนประพจน์ {{formula}} ไปสู่ฐานที่ต้องการได้","formula-is-expressed-as-in-the-desired-basis":"{{formula}} {{result}} "},infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง","truth-table-is-not-available":"ตารางค่าความจริงของประพจน์ที่ไม่พร้อมที่จะแสดง"}}}},"checker-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลการตรวจสอบ",text:{"formula-is-value":"{{formula}} {{value}}",contingent:"ค่าความจริงขึ้นอยู่กับ {{variables}}",tautology:"เป็นสัจนิรันด์",contradiction:"เป็นเท็จเสมอ"},infos:{"no-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง"}}}},"home-view":{lang:{en:"อังกฤษ",th:"ไทย"},cards:{comparator:{desc:"เปรียบเทียบประพจน์เพื่อให้ว่าประพจน์ไหนบ้างที่สมมูลกัน"},evaluator:{desc:"คำนวณหาค่าความจริงของประพจน์ด้วยการแทนที่ค่าความจริงของนิพจน์ลงไปในประพจน์"},rewriter:{desc:"เปลี่ยนฐานประพจน์ไปสู่อีกฐานแต่รักษาค่าความจริงไว้"},checker:{desc:"ตรวจสอบว่าประพจน์เป็นสัจนิรันด์ เป็นเท็จเสมอ หรือไม่ใช่ทั้งสัจนิรันด์และไม่ใช่ทั้งเท็จเสมอ"}},"boolean-algebra-interpreter":"ตัวช่วยคำนวณตรรกศาสตร์"},"comparator-view":{cards:{output:{title:"ผลลัพท์การเปรียบเทียบ",text:{equivalent:"สมมูลกัน","not-equivalent":"ไม่สมมูลกัน","formulas-are-value":"{{first}} {{second}} {{value}}"},infos:{"not-enough-formula-for-comparison":"จำนวณประพจน์ไม่เพียงพอที่จะเปรียบเทียบ ต้องการอย่างน้อยสองประพจน์ที่ถูกต้องก่อนที่จะเริ่มเปรียบเทียบได้"}},"input-interpretation":{title:"ผลการอ่านประโยค"}}}};Vt.use(Ht).use(qt).use(Bt).init({detection:{lookupLocalStorage:"language"},resources:{en:{components:en,nav:tn,views:rn},th:{views:sn,nav:on,components:nn}},debug:!0});Gt.createRoot(document.getElementById("root")).render(n.jsx(h.StrictMode,{children:n.jsx(Qr,{})}));
//# sourceMappingURL=index-DQj5zh2p.js.map
