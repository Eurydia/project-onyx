{"version":3,"file":"index-NoJHj-RT.js","sources":["../../src/types/syntax-tree.ts","../../src/core/interpreter/grammar.ts","../../src/core/interpreter/parser.ts","../../src/components/common/LanguageSwitcher.tsx","../../src/components/common/ToolNavDropdown.tsx","../../src/layouts/AppbarLayout.tsx","../../src/views/HomeView.tsx","../../src/assets/blogs/UserManual/en.txt","../../src/assets/blogs/UserManual/th.txt","../../src/components/styled/StyledMarkdown.tsx","../../src/views/TheoremView.tsx","../../src/core/tree/conversion.ts","../../src/core/tree/expr/evaluate.ts","../../src/components/styled/StyledLatex.tsx","../../src/components/math/Editor/EditorRibbonButton.tsx","../../src/components/math/Editor/EditorRibbon.tsx","../../src/components/math/Editor/Editor.tsx","../../src/components/math/Playground/PlaygroundSymbolConfig.tsx","../../src/components/styled/StyledOutputCard.tsx","../../src/core/tree/expr/latex.ts","../../src/views/EvaluatorView.tsx","../../src/routes/evaluator.tsx","../../src/components/styled/StyledAlert.tsx","../../src/core/eval.ts","../../src/core/tree/flatten.ts","../../src/components/math/TruthTable/TruthTable.tsx","../../src/components/styled/StyledIconButton.tsx","../../src/components/math/Playground/PlaygroundPlaybackControl.tsx","../../src/components/styled/StyledFAB.tsx","../../src/components/math/Playground/TreeGraph/TreeGraphLink.tsx","../../src/components/math/Playground/TreeGraph/TreeGraphNode.tsx","../../src/components/math/Playground/TreeGraph/TreeGraph.tsx","../../src/components/math/Playground/Playground.tsx","../../src/core/exprTreeFlattenStepByStep.ts","../../src/components/math/StepByStepEvaluation.tsx","../../src/components/math/SolverOutputGroup.tsx","../../src/views/SolverView.tsx","../../src/routes/solver.tsx","../../src/App/thene/palette.ts","../../src/App/thene/theme.ts","../../src/App/App.tsx","../../src/locales/en/translation.ts","../../src/locales/th/translation.ts","../../src/locales/config.ts","../../src/main.tsx"],"sourcesContent":["export enum SyntaxTreeNodeKind {\r\n  CONST = \"CONSTANT\",\r\n  IDEN = \"IDEN\",\r\n  UNARY = \"UNARY\",\r\n  BINARY = \"BINARY\",\r\n}\r\n\r\nexport enum Operator {\r\n  IFF = \"IFF\",\r\n  IMPL = \"IMPL\",\r\n  AND = \"AND\",\r\n  OR = \"OR\",\r\n  NOT = \"NOT\",\r\n}\r\n\r\nexport type SyntaxTreeNodeConst = {\r\n  nodeType: SyntaxTreeNodeKind.CONST;\r\n  value: boolean;\r\n};\r\nexport type SyntaxTreeNodeIden = {\r\n  nodeType: SyntaxTreeNodeKind.IDEN;\r\n  symbol: string;\r\n};\r\nexport type SyntaxTreeNodeBinary = {\r\n  nodeType: SyntaxTreeNodeKind.BINARY;\r\n  operator: Exclude<Operator, Operator.NOT>;\r\n  left: SyntaxTree;\r\n  right: SyntaxTree;\r\n};\r\nexport type SyntaxTreeNodeUnary = {\r\n  nodeType: SyntaxTreeNodeKind.UNARY;\r\n  operator: Operator.NOT;\r\n  operand: SyntaxTree;\r\n};\r\n\r\nexport type SyntaxTree =\r\n  | SyntaxTreeNodeBinary\r\n  | SyntaxTreeNodeUnary\r\n  | SyntaxTreeNodeIden\r\n  | SyntaxTreeNodeConst;\r\n\r\nexport type SymbolTable = Map<string, boolean>;\r\n","import {\r\n  Operator,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport * as ohm from \"ohm-js\";\r\n\r\nconst collectBinaryNodes = (\r\n  operator: Exclude<Operator, Operator.NOT>,\r\n  left: SyntaxTree,\r\n  right: SyntaxTree[]\r\n) => {\r\n  let node: SyntaxTree = {\r\n    nodeType: SyntaxTreeNodeKind.BINARY,\r\n    operator,\r\n    left,\r\n    right: right[0],\r\n  };\r\n  for (let i = 1; i < right.length; i++) {\r\n    node = {\r\n      nodeType: SyntaxTreeNodeKind.BINARY,\r\n      operator,\r\n      left: node,\r\n      right: right[i],\r\n    };\r\n  }\r\n  return node;\r\n};\r\n\r\nexport const grammar = ohm.grammar(String.raw`\r\nBooleanExpressions {\r\n  Expression\r\n    = Iff \r\n\r\n  Iff\r\n    = Implies (iff_sym Implies)*\r\n\r\n  Implies\r\n    = Or (implies_sym Or)*\r\n\r\n  Or\r\n    = And (or_sym And)*\r\n\r\n  And\r\n    = Not (and_sym Not)*\r\n\r\n  Not\r\n    = not_sym Not                   --not\r\n    | Primary\r\n\r\n  Primary\r\n    = \"(\" Expression \")\" --group\r\n    | true_sym    --lit_true\r\n    | false_sym   --lit_false\r\n    | identifier  --variable\r\n\r\n  identifier\r\n    = letter+\r\n  \r\n  iff_sym \r\n    = \"iff\"\r\n    | \"⇔\"\r\n  \r\n  implies_sym \r\n    = \"implies\"\r\n    | \"⇒\"\r\n  \r\n  or_sym\r\n    = \"or\"\r\n    | \"∨\"\r\n\r\n  and_sym\r\n    = \"and\"\r\n    | \"∧\"\r\n  \r\n  not_sym\r\n    = \"not\"\r\n    | \"¬\"\r\n\r\n  true_sym\r\n    = \"⊤\"\r\n    | \"T\"\r\n    | \"1\"\r\n\r\n  false_sym\r\n    = \"⊥\"\r\n    | \"F\"\r\n    | \"0\"\r\n}\r\n`);\r\n\r\nexport const semantics = grammar.createSemantics();\r\nsemantics.addOperation(\"buildTree\", {\r\n  Expression(e) {\r\n    return e.buildTree();\r\n  },\r\n\r\n  Iff(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IFF,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Implies(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IMPL,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Or(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.OR,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  And(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.AND,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Not_not(_, expr) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.UNARY,\r\n      operator: Operator.NOT,\r\n      operand: expr.buildTree(),\r\n    };\r\n  },\r\n\r\n  Primary_group(_open, expr, _close) {\r\n    return expr.buildTree();\r\n  },\r\n\r\n  Primary_lit_true(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: true,\r\n    };\r\n  },\r\n\r\n  Primary_lit_false(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: false,\r\n    };\r\n  },\r\n\r\n  Primary_variable(id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.IDEN,\r\n      symbol: id.sourceString,\r\n    };\r\n  },\r\n\r\n  identifier(_) {\r\n    return this.sourceString;\r\n  },\r\n\r\n  _iter(...children) {\r\n    return children.map((n) => n.buildTree());\r\n  },\r\n});\r\n","import {\r\n  grammar,\r\n  semantics,\r\n} from \"$core/interpreter/grammar\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { SyntaxTree } from \"$types/syntax-tree\";\r\n\r\nexport const parse = (\r\n  content: string\r\n): Maybe<SyntaxTree> => {\r\n  const m = grammar.match(content);\r\n  if (m.succeeded()) {\r\n    const tree = semantics(m).buildTree();\r\n    return { ok: true, data: tree };\r\n  } else {\r\n    return {\r\n      ok: false,\r\n    };\r\n  }\r\n};\r\n","import {\r\n  CheckRounded,\r\n  TranslateRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  IconButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LANGUAGES = [\"en\", \"th\"];\r\n\r\nexport const LanguageSwitcher: FC = () => {\r\n  const { i18n, t } = useTranslation();\r\n  const [anchor, setAnchor] =\r\n    useState<HTMLButtonElement | null>(null);\r\n\r\n  const handleClose = () => setAnchor(null);\r\n  return (\r\n    <Fragment>\r\n      <Tooltip\r\n        title={<Typography>{t(\"language\")}</Typography>}\r\n      >\r\n        <IconButton\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          onClick={(e) => setAnchor(e.currentTarget)}\r\n        >\r\n          <TranslateRounded />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        anchorEl={anchor}\r\n        open={anchor !== null}\r\n        onClose={handleClose}\r\n        onClick={handleClose}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {LANGUAGES.map((lang, index) => {\r\n          const selected = i18n.language === lang;\r\n          return (\r\n            <MenuItem\r\n              onClick={() => i18n.changeLanguage(lang)}\r\n              disableRipple\r\n              key={\"item\" + index}\r\n              selected={selected}\r\n              sx={{\r\n                padding: 2,\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                {selected && (\r\n                  <CheckRounded color=\"primary\" />\r\n                )}\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                slotProps={{\r\n                  primary: {\r\n                    fontWeight: 500,\r\n                    textTransform: \"uppercase\",\r\n                  },\r\n                }}\r\n                primary={t(`lang.${lang}`)}\r\n              />\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import {\r\n  CheckRounded,\r\n  KeyboardArrowDownRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useState } from \"react\";\r\nimport { NavLink } from \"react-router\";\r\n\r\ntype ToolNavDropDownProps = {\r\n  selected: string;\r\n  items: { label: string; href: string }[];\r\n};\r\nexport const ToolNavDropDown: FC<ToolNavDropDownProps> = (\r\n  props\r\n) => {\r\n  const { selected, items } = props;\r\n  const [anchor, setAnchor] = useState<null | HTMLElement>(\r\n    null\r\n  );\r\n  const handleOpen = (\r\n    event: React.MouseEvent<HTMLElement>\r\n  ) => {\r\n    setAnchor(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchor(null);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Button\r\n        disableRipple\r\n        disableElevation\r\n        endIcon={<KeyboardArrowDownRounded />}\r\n        variant=\"text\"\r\n        onClick={handleOpen}\r\n        sx={{\r\n          color: (theme) => theme.palette.text.primary,\r\n        }}\r\n      >\r\n        TOOLS\r\n      </Button>\r\n      <Menu\r\n        anchorEl={anchor}\r\n        open={anchor !== null}\r\n        onClick={handleClose}\r\n        onClose={handleClose}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {items.map(({ href, label }, index) => {\r\n          const isSelected = selected === href;\r\n          return (\r\n            <MenuItem\r\n              disableRipple\r\n              key={\"item\" + index}\r\n              component={NavLink}\r\n              to={href}\r\n              selected={isSelected}\r\n              sx={{ padding: 2 }}\r\n            >\r\n              <ListItemIcon>\r\n                {isSelected && <CheckRounded />}\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                slotProps={{\r\n                  primary: {\r\n                    fontWeight: 500,\r\n                    textTransform: \"uppercase\",\r\n                  },\r\n                }}\r\n              >\r\n                {label}\r\n              </ListItemText>\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { LanguageSwitcher } from \"$components/common/LanguageSwitcher\";\r\nimport { ToolNavDropDown } from \"$components/common/ToolNavDropdown\";\r\nimport { HomeRounded } from \"@mui/icons-material\";\r\nimport {\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Outlet, useLocation } from \"react-router\";\r\n\r\nconst NAV_ITEMS: { href: string; label: string }[] = [\r\n  { href: \"/solver\", label: \"nav.solver\" },\r\n  { href: \"/evaluator\", label: \"nav.evaluator\" },\r\n  { href: \"/simplifier\", label: \"nav.simplifier\" },\r\n  { href: \"/checker\", label: \"nav.checker\" },\r\n];\r\n\r\nexport const AppbarLayout: FC = () => {\r\n  const { t } = useTranslation();\r\n  const { pathname } = useLocation();\r\n  return (\r\n    <Fragment>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={{\r\n          borderStyle: \"solid\",\r\n          borderRadius: ({ shape }) => shape.borderRadius,\r\n          borderColor: ({ palette }) => palette.divider,\r\n          maxWidth: \"lg\",\r\n          marginY: 4,\r\n          marginX: {\r\n            xs: 4,\r\n            md: \"auto\",\r\n          },\r\n          paddingY: 1,\r\n          paddingX: 2,\r\n          flexDirection: \"row\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Stack\r\n          flexWrap=\"wrap\"\r\n          direction=\"row\"\r\n          useFlexGap\r\n          alignItems=\"center\"\r\n          justifyContent=\"flex-start\"\r\n          spacing={2}\r\n        >\r\n          <Tooltip\r\n            title={<Typography>{t(\"nav.home\")}</Typography>}\r\n          >\r\n            <IconButton\r\n              disableRipple\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              component={Link}\r\n              to=\"/\"\r\n            >\r\n              <HomeRounded />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <ToolNavDropDown\r\n            selected={pathname}\r\n            items={NAV_ITEMS.map(({ href, label }) => ({\r\n              href,\r\n              label: t(label),\r\n            }))}\r\n          />\r\n        </Stack>\r\n        <LanguageSwitcher />\r\n      </Paper>\r\n      <Outlet />\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Masonry } from \"@mui/lab\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router\";\r\n\r\nconst CARDS: {\r\n  title: string;\r\n  desc: string;\r\n  href: string;\r\n}[] = [\r\n  {\r\n    title: \"view.home.card.solver.title\",\r\n    desc: \"view.home.card.solver.desc\",\r\n    href: \"/solver\",\r\n  },\r\n  {\r\n    title: \"view.home.card.evaluator.title\",\r\n    desc: \"view.home.card.evaluator.desc\",\r\n    href: \"/evaluator\",\r\n  },\r\n  {\r\n    title: \"view.home.card.simplifier.title\",\r\n    desc: \"view.home.card.simplifier.desc\",\r\n    href: \"/simplifier\",\r\n  },\r\n  {\r\n    title: \"view.home.card.checker.title\",\r\n    desc: \"view.home.card.checker.desc\",\r\n    href: \"/checker\",\r\n  },\r\n];\r\n\r\nexport const HomeView: FC = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <Stack\r\n      spacing={2}\r\n      maxWidth=\"lg\"\r\n      marginX={{\r\n        md: \"auto\",\r\n        xs: 4,\r\n      }}\r\n    >\r\n      <Typography\r\n        fontSize=\"large\"\r\n        fontWeight={700}\r\n      >\r\n        {t(\"view.home.calculators\")}\r\n      </Typography>\r\n      <Masonry columns={{ xs: 1, md: 2 }}>\r\n        {CARDS.map(({ title, href, desc }, index) => (\r\n          <Link\r\n            to={href}\r\n            key={\"card\" + index}\r\n            style={{\r\n              textDecoration: \"none\",\r\n            }}\r\n          >\r\n            <Card\r\n              elevation={0}\r\n              sx={{\r\n                \"borderStyle\": \"solid\",\r\n                \"borderRadius\": ({ shape }) =>\r\n                  shape.borderRadius,\r\n                \"borderColor\": ({ palette }) =>\r\n                  palette.divider,\r\n                \"transition\": \"all 0.1s ease\",\r\n                \"&:hover\": {\r\n                  borderColor: ({ palette }) =>\r\n                    palette.secondary.main,\r\n                },\r\n              }}\r\n            >\r\n              <CardHeader\r\n                title={t(title)}\r\n                titleTypographyProps={{\r\n                  sx: {\r\n                    fontWeight: 700,\r\n                    whiteSpace: \"break-spaces\",\r\n                  },\r\n                }}\r\n              />\r\n              <CardContent>\r\n                <Typography>{t(desc)}</Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Link>\r\n        ))}\r\n      </Masonry>\r\n    </Stack>\r\n  );\r\n};\r\n","export default \"data:text/plain;base64,IyBVc2VyIE1hbnVhbA0KDQoqKlF1aWNrIGd1aWRlKio6IA0KMS4gRW50ZXIgYSBCb29sZWFuIGV4cHJlc3Npb24gaW50byB0aGUgaW5wdXQgZmllbGQNCjEuIFByZXNzICJSVU4iDQoxLiBDbGljayBvbiBhIG5vZGUgdG8gbW9kaWZ5IHRoZSB0cnV0aCB2YWx1ZXMNCg0KIyMgU3VwcG9ydGVkIExvZ2ljYWwgQ29ubmVjdGl2ZXMNCg0KVGhlIGFwcGxpY2F0aW9uIHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgbG9naWNhbCBrZXl3b3JkcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBtYXRoZW1hdGljYWwgc3ltYm9sczoNCg0KLSBMb2dpY2FsIG5lZ2F0aW9uICAgIChrZXl3b3JkOiBgbm90YCAgICAgLCBzeW1ib2w6ICZub3Q7KSANCi0gTG9naWNhbCBjb25qdW5jdGlvbiAoa2V5d29yZDogYGFuZGAgICAgICwgc3ltYm9sOiAmYW5kOykgDQotIExvZ2ljYWwgZGlzanVuY3Rpb24gKGtleXdvcmQ6IGBvcmAgICAgICAsIHN5bWJvbDogJm9yOykgDQotIExvZ2ljYWwgaW1wbGljYXRpb24gKGtleXdvcmQ6IGBpbXBsaWVzYCAsIHN5bWJvbDogJnJBcnI7KSANCi0gTG9naWNhbCBlcXVpdmFsZW5jZSAoa2V5d29yZDogYGlmZmAgICAgICwgc3ltYm9sOiAmaWZmOykNCg0KVGhlIGtleXdvcmQgYW5kIHRoZSBzeW1ib2wgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWUsIHNvIGNhbiB1c2UgdGhlbSBpbnRlcmNoYW5nZWJseSwgb3IgZXZlbmluZyBtaXggdGhlbSBpbiBhbiBleHByZXNzaW9uLg0KDQpZb3UgY2FuIHVzZSB0aGUgcmliYm9uIHRvIGluc2VydCBhIHN5bWJvbCBpbnRvIHRoZSBpbnB1dC4gV2l0aCB0aGUgaW5wdXQgYXJlYSBhY3RpdmUsIHByZXNzIGBDVFJMYCBhbmQgYEVOVEVSYCB0byBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbg0KDQojIyBGZWF0dXJlcyANCg0KKipFdmFsdWF0aW9uIHBsYXliYWNrKioNCg0KVXNlIHRoZSBwbGF5YmFjayBjb250cm9sIHRvIHNlZSBvcmRlciBvZiBldmFsdWF0aW9uIGZvciB0aGUgZXhwcmVzc2lvbi4gUHJlc3MgZm9yd2FyZCBvciByZXdpbmQgdG8gYSBmaW5lciBwbGF5YmFjayBjb250cm9sIGFuZCB0aGUgc2xpZGVyIHRvIHF1aWNrbHkgbW92ZSBhcm91bmQgdGhlIGV2YWx1YXRpb24uDQoNCioqVGVzdGluZyBkaWZmZXJlbnQgdHJ1dGggdmFsdWVzKioNCg0KUHJvcG9zaXRpb25zIGFyZSBmYWxzZSBpbml0aWFsbHkuIA0KDQpUbyBtb2RpZnkgdGhlIHRydXRoIHZhbHVlIG9mIGEgcHJvcG9zaXRpb24sIHByZXNzIG9uZSBvZiB0aGUgbm9kZSBwcmVzZW50IGluIHRoZSBvdXRwdXQgYXJlYS4NCg0KRG9pbmcgc28gd2lsbCBvcGVuIHVwIGEgd2luZG93LiBJbiB0aGlzIHdpbmRvdywgeW91IGNhbiBtb2RpZnkgdGhlIHRydXRoIHZhbHVlcyBvZiBwcm9wb3NpdGlvbnMgcHJlc2VudCBpbiB0aGUgcGFydGljdWxhciBzdWIgZXhwcmVzc2lvbi4gUHJlc3NpbmcgdGhlIHJvb3Qgd2lsbCBzaG93IHRoZSBlbnRpcmUgdHJlZSwgYWxvbmcgd2l0aCBldmVyeSBwcm9wb3NpdGlvbi4=\"","export default \"data:text/plain;base64,IyDguITguLnguYjguKHguLfguK3guIHguLLguKPguYPguIrguYnguIfguLLguJkNCg0KKirguITguLnguYjguKHguLfguK3guYHguJrguJrguKLguYjguK06KiogIA0KMS4g4Lib4LmJ4Lit4LiZ4LiZ4Li04Lie4LiI4LiZ4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4LiC4LmJ4Lit4LiE4Lin4Liy4LihICANCjIuIOC4geC4lCAi4LiE4Liz4LiZ4Lin4LiTIiAgDQozLiDguITguKXguLTguIHguJfguLXguYjguYLguKvguJnguJTguYDguJ7guLfguYjguK3guYHguIHguYnguYTguILguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYwNCg0KIyMg4LiV4Lix4Lin4LmA4LiK4Li34LmI4Lit4Lih4LiX4Li14LmI4Lij4Lit4LiH4Lij4Lix4LiaDQoNCuC4leC4seC4p+C5gOC4iuC4t+C5iOC4reC4l+C4teC5iOC4o+C4reC4h+C4o+C4seC4muC4oeC4teC4lOC4seC4h+C4meC4teC5iToNCg0KLSDguJnguLTguYDguKrguJggKOC4hOC4szogYG5vdGAsIOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jDogJm5vdDspICANCi0g4LmB4Lil4LiwICjguITguLM6IGBhbmRgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZhbmQ7KSAgDQotIOC4q+C4o+C4t+C4rSAo4LiE4LizOiBgb3JgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZvcjspICANCi0g4LiW4LmJ4Liy4LmB4Lil4LmJ4LinICjguITguLM6IGBpbXBsaWVzYCwg4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmMOiAmckFycjspICANCi0g4LiB4LmH4LiV4LmI4Lit4LmA4Lih4Li34LmI4LitICjguITguLM6IGBpZmZgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZpZmY7KSAgDQoNCuC4hOC4s+C5geC4peC4sOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jOC4quC4suC4oeC4suC4o+C4luC5g+C4iuC5ieC5geC4l+C4meC4geC4seC4meC5hOC4lOC5iSDguYHguKXguLDguKrguLLguKHguLLguKPguJbguYPguIrguYnguJzguKrguKHguIHguLHguJnguJnguLTguJ7guIjguJnguYzguYDguJTguLXguKLguKfguIHguYfguYTguJTguYkNCg0K4Liq4Liy4Lih4Liy4Lij4LiW4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4LiE4Lij4Li34LmI4Lit4LiH4Lih4Li34Lit4LmA4Lie4Li34LmI4Lit4LmB4LiX4Lij4LiB4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4Lib4LmJ4Lit4LiZ4LiC4LmJ4Lit4Lih4Li54LilIA0KDQrguYPguJnguILguJPguLDguJfguLXguYjguJ7guLTguKHguJ7guYzguJnguLTguJ7guIjguJnguYzguKrguLLguKHguLLguKPguJYg4LiB4LiUIGBDVFJMYCDguYHguKXguLAgYEVOVEVSYCDguYDguJ7guLfguYjguK3guITguLPguJnguKfguJPguJvguKPguLDguJ7guIjguJnguYzguYTguJTguYnguYLguJTguKLguJfguLXguYjguYTguKHguYjguJXguYnguK3guIfguIHguJQgIuC4hOC4s+C4meC4p+C4kyINCg0KIyMg4Lil4Li54LiB4LmA4Lil4LmI4LiZ4Lit4Li34LmI4LiZ4LmGDQoNCioq4Lil4Liz4LiU4Lix4Lia4LiC4Lix4LmJ4LiZ4LiV4Lit4LiZ4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiTKioNCg0K4LmD4LiK4LmJ4LiB4Liy4Lij4LiE4Lin4Lia4LiE4Li44Lih4LmA4Lie4Li34LmI4Lit4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4Lib4Lij4Liw4LmA4Lih4Li04LiZ4Lic4Lil4LiC4Lit4LiH4LiZ4Li04Lie4LiI4LiZ4LmMIA0KDQrguIHguJTguJvguLjguYjguKHguYDguJTguLTguJnguKvguJnguYnguLLguKvguKPguLfguK3guKLguYnguK3guJnguIHguKXguLHguJrguYDguJ7guLfguYjguK3guITguKfguJrguITguLjguKHguK3guKLguYjguLLguIfguKXguLDguYDguK3guLXguKLguJQg4LmB4Lil4Liw4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4Lil4Li34LmI4Lit4LiZ4LmA4Lie4Li34LmI4Lit4LmA4Lil4Li34LmI4Lit4LiZ4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiT4Lit4Lii4LmI4Liy4LiH4LiE4Lij4LmI4Liy4LinIOC5hg0KDQoqKuC5geC4geC5ieC5hOC4guC4hOC5iOC4suC4hOC4p+C4suC4oeC4iOC4o+C4tOC4hyoqDQoNCuC5geC4o+C4geC5gOC4o+C4tOC5iOC4oSDguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYzguJbguLnguIHguIHguLPguKvguJnguJTguYPguKvguYnguYDguJvguYfguJnguYDguJfguYfguIggDQoNCuC4quC4suC4oeC4suC4o+C4luC5geC4geC5ieC5hOC4guC4hOC4p+C4suC4oeC4hOC4p+C4suC4oeC4iOC4o+C4tOC4h+C4guC4reC4h+C4m+C4o+C4sOC4nuC4iOC4meC5jOC5hOC4lOC5ieC4lOC5ieC4p+C4ouC4geC4suC4o+C4geC4lOC4l+C4teC5iOC4p+C4h+C4geC4peC4oeC4quC4teC5gOC4guC4teC4ouC4pw0KDQrguYDguKHguLfguYjguK3guIHguJQg4LiI4Liw4Lih4Li14Liq4Liy4Lih4Liy4Lij4LiW4LmB4LiB4LmJ4LmE4LiC4LiE4Lin4Liy4Lih4LiI4Lij4Li04LiH4LiC4Lit4LiH4Lib4Lij4Liw4Lie4LiI4LiZ4LmM4LmE4LiU4LmJ4LmD4LiZ4Lir4LiZ4LmJ4Liy4LiV4LmI4Liy4LiH4LiX4Li14LmI4Lib4Lij4Liy4LiB4LiP\"","import { Divider, Typography } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport Markdown, { Components } from \"react-markdown\";\r\nimport rehypeKatex from \"rehype-katex\";\r\nimport rehypeSlug from \"rehype-slug\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport remarkMath from \"remark-math\";\r\n\r\nconst COMPONENTS_OVERRIDE: Partial<Components> = {\r\n  h1: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h3\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h2: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h4\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h3: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h5\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  p: ({ children }) => (\r\n    <Typography gutterBottom>{children}</Typography>\r\n  ),\r\n  hr: () => (\r\n    <Divider\r\n      flexItem\r\n      sx={{ marginY: 4 }}\r\n      variant=\"middle\"\r\n    />\r\n  ),\r\n  a: ({ href, hrefLang, referrerPolicy, children }) => (\r\n    <Typography\r\n      component=\"a\"\r\n      target=\"_blank\"\r\n      href={href}\r\n      hrefLang={hrefLang}\r\n      referrerPolicy={referrerPolicy}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n};\r\n\r\n\r\ntype StyledMarkdownProps = {\r\n  children: string;\r\n};\r\nexport const StyledMarkdown: FC<StyledMarkdownProps> = (\r\n  props\r\n) => {\r\n  const { children } = props;\r\n\r\n  return (\r\n    <Markdown\r\n      components={COMPONENTS_OVERRIDE}\r\n      rehypePlugins={[\r\n        rehypeKatex,\r\n        rehypeSlug,\r\n      ]}\r\n      remarkPlugins={[remarkMath, remarkGfm]}\r\n    >\r\n      {children}\r\n    </Markdown>\r\n  );\r\n};\r\n","import UserManualBlogEN from \"$assets/blogs/UserManual/en.txt\";\r\nimport UserManualBlogTH from \"$assets/blogs/UserManual/th.txt\";\r\nimport { StyledMarkdown } from \"$components/styled/StyledMarkdown\";\r\nimport { Container } from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const TheoremView: FC = () => {\r\n  const { i18n } = useTranslation();\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      i18n.language === \"th\"\r\n        ? UserManualBlogTH\r\n        : UserManualBlogEN\r\n    )\r\n      .then((response) => response.text())\r\n      .then((text) => setContent(text));\r\n  }, [i18n.language]);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <StyledMarkdown>{content}</StyledMarkdown>\r\n    </Container>\r\n  );\r\n};\r\n","import {\r\n  ExprTreeBinary,\r\n  ExprTreeConst,\r\n  ExprTreeIden,\r\n  ExprTreeUnary,\r\n} from \"$types/expression-tree\";\r\nimport {\r\n  Operator,\r\n  SymbolTable,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\n\r\nconst OPERATOR_REPR: Record<Operator, string> = {\r\n  [Operator.AND]: `\\\\land`,\r\n  [Operator.OR]: `\\\\lor`,\r\n  [Operator.IFF]: `\\\\iff`,\r\n  [Operator.IMPL]: `\\\\implies`,\r\n  [Operator.NOT]: `\\\\lnot`,\r\n};\r\n\r\ntype EvalFn = (t: SymbolTable) => boolean;\r\nconst OPERATOR_EVAL_FN: Record<\r\n  Exclude<Operator, Operator.NOT>,\r\n  (l: EvalFn, r: EvalFn) => (t: SymbolTable) => boolean\r\n> = {\r\n  [Operator.AND]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) && r(t),\r\n  [Operator.OR]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) || r(t),\r\n  [Operator.IMPL]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      !l(t) || r(t),\r\n  [Operator.IFF]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) === r(t),\r\n};\r\n\r\nconst _syntaxTreeToLatex = (tree: SyntaxTree): string => {\r\n  const { nodeType } = tree;\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.IDEN) {\r\n    return tree.symbol;\r\n  }\r\n  if (nodeType === SyntaxTreeNodeKind.CONST) {\r\n    return tree.value ? `\\\\top` : `\\\\bot`;\r\n  }\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.UNARY) {\r\n    const { operand } = tree;\r\n    const value = _syntaxTreeToLatex(operand);\r\n    if (\r\n      operand.nodeType === SyntaxTreeNodeKind.IDEN ||\r\n      operand.nodeType === SyntaxTreeNodeKind.CONST\r\n    ) {\r\n      return `\\\\lnot ${value}`;\r\n    }\r\n    return `\\\\lnot (${value})`;\r\n  }\r\n\r\n  const { left, right } = tree;\r\n\r\n  let labelLeft = _syntaxTreeToLatex(left);\r\n  if (left.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelLeft = `( ${labelLeft} )`;\r\n  }\r\n\r\n  let labelRight = _syntaxTreeToLatex(right);\r\n  if (right.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelRight = `( ${labelRight} )`;\r\n  }\r\n\r\n  const repr = OPERATOR_REPR[tree.operator];\r\n  return `${labelLeft} ${repr} ${labelRight}`;\r\n};\r\n\r\nexport const syntaxTreeToLatex = (tree: SyntaxTree) => {\r\n  return _syntaxTreeToLatex(tree);\r\n};\r\n\r\nconst _syntaxTreetoExprTree = (\r\n  tree: SyntaxTree,\r\n  orderStart: number\r\n) => {\r\n  const { nodeType } = tree;\r\n\r\n  switch (nodeType) {\r\n    case SyntaxTreeNodeKind.CONST: {\r\n      const node: ExprTreeConst = {\r\n        eval: () => tree.value,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.value ? \"\\\\top\" : `\\\\bot`,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.IDEN: {\r\n      const node: ExprTreeIden = {\r\n        eval: (t) => t.get(tree.symbol) ?? false,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.symbol,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _syntaxTreetoExprTree(\r\n        tree.operand,\r\n        orderStart\r\n      );\r\n      const node: ExprTreeUnary = {\r\n        repr: OPERATOR_REPR[tree.operator],\r\n        child,\r\n        nodeType,\r\n        eval: (t) => !child.eval(t),\r\n        order: child.order + 1,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      const left = _syntaxTreetoExprTree(\r\n        tree.left,\r\n        orderStart\r\n      );\r\n      const right = _syntaxTreetoExprTree(\r\n        tree.right,\r\n        left.order\r\n      );\r\n      const node: ExprTreeBinary = {\r\n        nodeType,\r\n        eval: OPERATOR_EVAL_FN[tree.operator](\r\n          left.eval,\r\n          right.eval\r\n        ),\r\n        left,\r\n        right,\r\n        order: right.order + 1,\r\n        repr: OPERATOR_REPR[tree.operator],\r\n      };\r\n      return node;\r\n    }\r\n  }\r\n};\r\n\r\nexport const syntaxTreetoExprTree = (tree: SyntaxTree) => {\r\n  return _syntaxTreetoExprTree(tree, 0);\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SyntaxTreeNodeKind } from \"$types/syntax-tree\";\r\n\r\nconst _exprTreeCollectSymbols = (\r\n  tree: ExprTree,\r\n  symbols: Set<string>\r\n): void => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      symbols.add(tree.repr);\r\n      return;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      _exprTreeCollectSymbols(tree.child, symbols);\r\n      return;\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      _exprTreeCollectSymbols(tree.left, symbols);\r\n      _exprTreeCollectSymbols(tree.right, symbols);\r\n      return;\r\n  }\r\n};\r\n\r\nexport const exprTreeCollectSymbols = (\r\n  exprTree: ExprTree\r\n): Set<string> => {\r\n  const symbols = new Set<string>();\r\n  _exprTreeCollectSymbols(exprTree, symbols);\r\n  return symbols;\r\n};\r\n","import { SxProps, Typography } from \"@mui/material\";\r\nimport katex, { KatexOptions } from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\n\r\ntype StyledLatexProps = {\r\n  tex: string;\r\n  options?: KatexOptions;\r\n  sx?: SxProps;\r\n};\r\nexport const StyledLatex: FC<StyledLatexProps> = (\r\n  props\r\n) => {\r\n  const { sx, tex, options } = props;\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      katex.render(tex, ref.current, options);\r\n    }\r\n  }, [ref, tex, options]);\r\n\r\n  return (\r\n    <Typography\r\n      ref={ref}\r\n      component=\"span\"\r\n      sx={sx}\r\n    />\r\n  );\r\n};\r\n","import { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport {\r\n  CheckRounded,\r\n  KeyboardArrowDownRounded,\r\n  KeyboardArrowUpRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport {\r\n  Dispatch,\r\n  FC,\r\n  Fragment,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\n\r\ntype EditorRibbonButtonProps = {\r\n  options: { label: string; value: string }[];\r\n  onClick: Dispatch<string>;\r\n};\r\nexport const EditorRibbonButton: FC<\r\n  EditorRibbonButtonProps\r\n> = (props) => {\r\n  const { options, onClick } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [selected, setSelected] = useState(options[0]);\r\n  const anchorRef = useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <Fragment>\r\n      <ButtonGroup\r\n        ref={anchorRef}\r\n        disableElevation\r\n        variant=\"outlined\"\r\n      >\r\n        <Button\r\n          onClick={() => onClick(selected.value)}\r\n          sx={{\r\n            textTransform: \"none\",\r\n          }}\r\n        >\r\n          <StyledLatex tex={selected.label} />\r\n        </Button>\r\n        <Button\r\n          size=\"small\"\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          {!open && (\r\n            <KeyboardArrowDownRounded fontSize=\"small\" />\r\n          )}\r\n          {open && (\r\n            <KeyboardArrowUpRounded fontSize=\"small\" />\r\n          )}\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Menu\r\n        open={open}\r\n        anchorEl={anchorRef.current}\r\n        onClose={() => setOpen(false)}\r\n        onClick={() => setOpen(false)}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: ({ shape }) =>\r\n                shape.borderRadius,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {options.map((option, index) => {\r\n          const isSelected =\r\n            option.label === selected.label;\r\n          return (\r\n            <MenuItem\r\n              key={\"option\" + index}\r\n              disableRipple\r\n              selected={isSelected}\r\n              onClick={() => setSelected(option)}\r\n              sx={{ padding: 2 }}\r\n            >\r\n              <ListItemIcon>\r\n                {isSelected && <CheckRounded />}\r\n              </ListItemIcon>\r\n              <ListItemText>\r\n                <StyledLatex tex={option.label} />\r\n              </ListItemText>\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Stack } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { EditorRibbonButton } from \"./EditorRibbonButton\";\r\n\r\nconst OPERATOR_TEXT: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"\\\\text{not}\",\r\n    value: \"not\",\r\n  },\r\n  {\r\n    label: \"\\\\text{and}\",\r\n    value: \"and\",\r\n  },\r\n  {\r\n    label: \"\\\\text{or}\",\r\n    value: \"or\",\r\n  },\r\n  {\r\n    label: \"\\\\text{implies}\",\r\n    value: \"implies\",\r\n  },\r\n  {\r\n    label: \"\\\\text{iff}\",\r\n    value: \"iff\",\r\n  },\r\n];\r\n\r\nconst OPERATOR_SYMBOL: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"\\\\lnot\",\r\n    value: \"\\u{00AC}\",\r\n  },\r\n  {\r\n    label: \"\\\\land\",\r\n    value: \"\\u{2227}\",\r\n  },\r\n  {\r\n    label: \"\\\\lor\",\r\n    value: \"\\u{2228}\",\r\n  },\r\n  {\r\n    label: \"\\\\implies\",\r\n    value: \"\\u{21D2}\",\r\n  },\r\n  {\r\n    label: \"\\\\iff\",\r\n    value: \"\\u{21D4}\",\r\n  },\r\n];\r\n\r\ntype EditorRibbonProps = {\r\n  onClick: (value: string) => void;\r\n};\r\nexport const EditorRibbon: FC<EditorRibbonProps> = (\r\n  props\r\n) => {\r\n  const { onClick } = props;\r\n  return (\r\n    <Stack\r\n      useFlexGap\r\n      spacing={2}\r\n      flexWrap=\"wrap\"\r\n      direction=\"row\"\r\n    >\r\n      <Stack\r\n        direction=\"row\"\r\n        flexWrap=\"wrap\"\r\n        spacing={0.5}\r\n        useFlexGap\r\n      >\r\n        {OPERATOR_TEXT.map((option, index) => (\r\n          <EditorRibbonButton\r\n            key={\"insert-btn-text\" + index}\r\n            onClick={(value) => onClick(value)}\r\n            options={[option, OPERATOR_SYMBOL[index]]}\r\n          />\r\n        ))}\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n","import { Stack, TextField } from \"@mui/material\";\r\nimport { Dispatch, FC, useRef } from \"react\";\r\nimport { EditorRibbon } from \"./EditorRibbon\";\r\n\r\ntype EditorProps = {\r\n  placeholder: string;\r\n  value: string;\r\n  onChange: Dispatch<string>;\r\n};\r\nexport const Editor: FC<EditorProps> = (props) => {\r\n  const { placeholder, value, onChange } = props;\r\n\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const handleInsertChar = (char: string) => {\r\n    onChange(`${value} ${char} `);\r\n    if (inputRef !== null && inputRef.current !== null) {\r\n      inputRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <EditorRibbon onClick={handleInsertChar} />\r\n      <TextField\r\n        inputRef={inputRef}\r\n        fullWidth\r\n        multiline\r\n        rows={5}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        slotProps={{\r\n          input: {\r\n            autoCapitalize: \"off\",\r\n            spellCheck: \"false\",\r\n            sx: {\r\n              fontFamily: \"monospace\",\r\n            },\r\n          },\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\nimport {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Grid2,\r\n  Radio,\r\n  RadioGroup,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledLatex } from \"../../styled/StyledLatex\";\r\n\r\ntype PlaygroundSymbolConfig = {\r\n  symbolTable: SymbolTable;\r\n  onChange: (k: string, v: boolean) => void;\r\n};\r\nexport const PlaygroundSymbolConfig: FC<\r\n  PlaygroundSymbolConfig\r\n> = (props) => {\r\n  const { symbolTable, onChange } = props;\r\n\r\n  const { t } = useTranslation(\"translation\");\r\n\r\n  const symbols = [...symbolTable.keys()];\r\n  symbols.sort();\r\n\r\n  return (\r\n    <Grid2\r\n      container\r\n      width=\"100%\"\r\n      spacing={2}\r\n      sx={{\r\n        maxHeight: 400,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      {symbols.map((sym) => (\r\n        <Grid2\r\n          key={\"symbol-\" + sym}\r\n          size={{ xs: 12, md: 6 }}\r\n        >\r\n          <FormControl fullWidth>\r\n            <FormLabel\r\n              sx={{\r\n                overflowX: \"auto\",\r\n                scrollbarGutter: \"stable\",\r\n                scrollbarWidth: \"thin\",\r\n              }}\r\n            >\r\n              <StyledLatex tex={sym} />\r\n            </FormLabel>\r\n            <RadioGroup\r\n              row\r\n              value={symbolTable.get(sym) ? \"1\" : \"0\"}\r\n              onChange={(e) =>\r\n                onChange(sym, e.target.value === \"1\")\r\n              }\r\n            >\r\n              <FormControlLabel\r\n                control={<Radio disableRipple />}\r\n                value=\"1\"\r\n                label={t(\r\n                  \"component.playground.config.true\"\r\n                )}\r\n              />\r\n              <FormControlLabel\r\n                control={<Radio disableRipple />}\r\n                value=\"0\"\r\n                label={t(\r\n                  \"component.playground.config.false\"\r\n                )}\r\n              />\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid2>\r\n      ))}\r\n    </Grid2>\r\n  );\r\n};\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n} from \"@mui/material\";\r\nimport { FC, ReactNode } from \"react\";\r\n\r\ntype StyledOutputCardProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n};\r\nexport const StyledOutputCard: FC<StyledOutputCardProps> = (\r\n  props\r\n) => {\r\n  const { children, title } = props;\r\n  return (\r\n    <Card\r\n      variant=\"outlined\"\r\n      sx={{\r\n        padding: 2,\r\n        borderRadius: ({ shape }) => shape.borderRadius,\r\n      }}\r\n    >\r\n      <CardHeader\r\n        title={title}\r\n        titleTypographyProps={{\r\n          fontWeight: 900,\r\n        }}\r\n      />\r\n      <CardContent>{children}</CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\n\r\nconst _exprTreeToLatex = (\r\n  tree: ExprTree,\r\n  table: Map<string, string> | null = null\r\n): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      if (table !== null && table.has(tree.repr)) {\r\n        return table.get(tree.repr)!;\r\n      }\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _exprTreeToLatex(tree.child, table);\r\n      if (\r\n        tree.child.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        return `${tree.repr} ( ${child} )`;\r\n      }\r\n      return `${tree.repr} ${child}`;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      let left = _exprTreeToLatex(tree.left, table);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        left = `( ${left} )`;\r\n      }\r\n\r\n      let right = _exprTreeToLatex(tree.right, table);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeKind.BINARY\r\n      ) {\r\n        right = `( ${right} )`;\r\n      }\r\n\r\n      return `${left} ${tree.repr} ${right}`;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeToLatex = (exprTree: ExprTree) => {\r\n  return _exprTreeToLatex(exprTree);\r\n};\r\n\r\nexport const exprTreeToLatexSubstitute = (\r\n  exprTree: ExprTree,\r\n  symbolTable: SymbolTable\r\n) => {\r\n  const table = new Map<string, string>();\r\n  for (const [k, v] of symbolTable.entries()) {\r\n    table.set(k, `\\\\text{${v}}`);\r\n  }\r\n  return _exprTreeToLatex(exprTree, table);\r\n};\r\n","import { Editor } from \"$components/math/Editor/Editor\";\r\nimport { PlaygroundSymbolConfig } from \"$components/math/Playground/PlaygroundSymbolConfig\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { StyledOutputCard } from \"$components/styled/StyledOutputCard\";\r\nimport {\r\n  exprTreeToLatex,\r\n  exprTreeToLatexSubstitute,\r\n} from \"$core/tree/expr/latex\";\r\nimport { EvaluatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { PlayArrowRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const EvaluatorView: FC = () => {\r\n  const {\r\n    symbols,\r\n    data,\r\n    userInput: defaultUserInput,\r\n  } = useLoaderData() as EvaluatorRouteLoaderData;\r\n\r\n  const submit = useSubmit();\r\n\r\n  const [symbolTable, setSymbolTable] = useState(\r\n    new Map<string, boolean>()\r\n  );\r\n  const [userInput, setUserInput] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setUserInput(defaultUserInput);\r\n  }, [defaultUserInput]);\r\n\r\n  useEffect(() => {\r\n    const table = new Map<string, boolean>();\r\n    for (const symbol of symbols) {\r\n      table.set(symbol, true);\r\n    }\r\n    setSymbolTable(table);\r\n  }, [symbols]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/evaluator\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      maxWidth=\"lg\"\r\n      marginX={{ xs: 2, md: \"auto\" }}\r\n      paddingY={2}\r\n    >\r\n      <Stack spacing={2}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"p and q; p or q; p implies q; p iff q\"\r\n        />\r\n        <Button\r\n          disabled={userInput.trim().length === 0}\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          sx={{\r\n            maxWidth: \"fit-content\",\r\n          }}\r\n          onClick={handleSubmit}\r\n        >\r\n          RUN\r\n        </Button>\r\n\r\n        <StyledOutputCard title=\"Propositions\">\r\n          {symbolTable.size === 0 && (\r\n            <Typography fontStyle=\"italic\">\r\n              No proposition to display.\r\n            </Typography>\r\n          )}\r\n          {symbolTable.size > 0 && (\r\n            <PlaygroundSymbolConfig\r\n              symbolTable={symbolTable}\r\n              onChange={(k, v) =>\r\n                setSymbolTable((prev) => {\r\n                  const next = new Map(prev);\r\n                  next.set(k, v);\r\n                  return next;\r\n                })\r\n              }\r\n            />\r\n          )}\r\n        </StyledOutputCard>\r\n        <StyledOutputCard title=\"Evaluation\">\r\n          {data.length === 0 && (\r\n            <Typography fontStyle=\"italic\">\r\n              No expression to display. Enter an expression\r\n              to evaluate its result.\r\n            </Typography>\r\n          )}\r\n          {data.length > 0 && (\r\n            <Stack\r\n              spacing={2}\r\n              divider={<Divider flexItem />}\r\n            >\r\n              {data.map((expr, index) => (\r\n                <Stack key={\"expr\" + index}>\r\n                  <StyledLatex\r\n                    tex={`\\\\text{\\\\textbf{Equation} \r\n                        $\\\\mathbf{${index + 1}}$:\r\n                        }`}\r\n                  />\r\n                  {!expr.ok && (\r\n                    <StyledLatex\r\n                      tex=\"\\text{The evaluator cannot understand this expression.}\"\r\n                      sx={{\r\n                        textAlign: \"center\",\r\n                      }}\r\n                    />\r\n                  )}\r\n                  {expr.ok && (\r\n                    <>\r\n                      <StyledLatex\r\n                        tex={exprTreeToLatex(expr.data)}\r\n                        sx={{\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      />\r\n                      <StyledLatex\r\n                        tex={exprTreeToLatexSubstitute(\r\n                          expr.data,\r\n                          symbolTable\r\n                        )}\r\n                        sx={{\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      />\r\n                      <StyledLatex\r\n                        tex={`\\\\textbf{${expr.data.eval(\r\n                          symbolTable\r\n                        )}}`}\r\n                        sx={{\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      />\r\n                      <StyledLatex\r\n                        tex={`\\\\text{$\\\\therefore \r\n                          ${exprTreeToLatex(expr.data)}$ is \r\n                        ${expr.data.eval(symbolTable)}.}`}\r\n                      />\r\n                    </>\r\n                  )}\r\n                </Stack>\r\n              ))}\r\n            </Stack>\r\n          )}\r\n        </StyledOutputCard>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreetoExprTree } from \"$core/tree/conversion\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport {\r\n  EvaluatorRouteLoaderData,\r\n  SolverRouteLoaderData,\r\n} from \"$types/loader-data\";\r\nimport { EvaluatorView } from \"$views/EvaluatorView\";\r\nimport { RouteObject } from \"react-router\";\r\n\r\nexport const EVALUATOR_ROUTE: RouteObject = {\r\n  path: \"/evaluator\",\r\n  element: <EvaluatorView />,\r\n  loader: ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const userInput = url.searchParams.get(\"input\");\r\n\r\n    if (\r\n      userInput === null ||\r\n      userInput.trim().length === 0\r\n    ) {\r\n      const loaderData: SolverRouteLoaderData = {\r\n        userInput: \"\",\r\n        data: { ok: false },\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const symbols = new Set<string>();\r\n    const data: Maybe<ExprTree>[] = [];\r\n    for (const expr of userInput.split(\";\")) {\r\n      const result = parse(expr);\r\n      if (!result.ok) {\r\n        data.push({ ok: false });\r\n        continue;\r\n      }\r\n      const exprTree = syntaxTreetoExprTree(result.data);\r\n      for (const symbol of exprTreeCollectSymbols(\r\n        exprTree\r\n      )) {\r\n        symbols.add(symbol);\r\n      }\r\n\r\n      data.push({\r\n        ok: true,\r\n        data: exprTree,\r\n      });\r\n    }\r\n\r\n    const loaderData: EvaluatorRouteLoaderData = {\r\n      userInput,\r\n      data,\r\n      symbols,\r\n    };\r\n    return loaderData;\r\n  },\r\n};\r\n","import { Alert, AlertProps, useTheme } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\nexport const StyledAlert: FC<AlertProps> = (props) => {\r\n  const { sx, ...rest } = props;\r\n  const { shape } = useTheme();\r\n  return (\r\n    <Alert\r\n      icon={false}\r\n      {...rest}\r\n      sx={{\r\n        borderRadius: shape.borderRadius,\r\n        padding: 4,\r\n        ...sx,\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\n\r\nexport const getPermutation = (\r\n  size: number,\r\n  symbols: string[]\r\n) => {\r\n  const perm: SymbolTable[] = [];\r\n  const permSize = 1 << size;\r\n  for (let i = 0; i < permSize; i++) {\r\n    const repr = i.toString(2).padStart(size, \"0\");\r\n    const p = new Map<string, boolean>();\r\n    for (let j = 0; j < size; j++) {\r\n      p.set(symbols[j], repr[j] === \"1\");\r\n    }\r\n    perm.push(p);\r\n  }\r\n  return perm;\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeToLatex } from \"./expr/latex\";\r\n\r\ntype MinifiedSyntaxTree = {\r\n  repr: string;\r\n  eval: (t: SymbolTable) => boolean;\r\n};\r\nconst traversePostOrder = (\r\n  tree: ExprTree,\r\n  accum: MinifiedSyntaxTree[],\r\n  seen: Set<string>\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return;\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const repr = exprTreeToLatex(tree);\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traversePostOrder(tree.child, accum, seen);\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      const repr = exprTreeToLatex(tree);\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traversePostOrder(tree.left, accum, seen);\r\n      traversePostOrder(tree.right, accum, seen);\r\n\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenPostOrder = (\r\n  tree: ExprTree\r\n) => {\r\n  const accum: MinifiedSyntaxTree[] = [];\r\n  const seen = new Set<string>();\r\n  traversePostOrder(tree, accum, seen);\r\n  return accum;\r\n};\r\n","import { StyledAlert } from \"$components/styled/StyledAlert\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { getPermutation } from \"$core/eval\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { exprTreeFlattenPostOrder } from \"$core/tree/flatten\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  alpha,\r\n  Button,\r\n  Stack,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, memo, useMemo, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype StyledTableCellProps = { value: boolean };\r\nconst StyledTableCell: FC<StyledTableCellProps> = (\r\n  props\r\n) => {\r\n  const { value } = props;\r\n  const { t } = useTranslation();\r\n  const { palette } = useTheme();\r\n\r\n  return (\r\n    <TableCell\r\n      align=\"center\"\r\n      sx={{\r\n        backgroundColor: value\r\n          ? alpha(palette.secondary.light, 0.8)\r\n          : alpha(palette.secondary.main, 0.2),\r\n      }}\r\n    >\r\n      <Typography>\r\n        {value ? t(\"common.true\") : t(\"common.false\")}\r\n      </Typography>\r\n    </TableCell>\r\n  );\r\n};\r\n\r\ntype TruthTableProps = {\r\n  exprTree: ExprTree;\r\n};\r\nconst TruthTable_noMemo: FC<TruthTableProps> = (props) => {\r\n  const { exprTree } = props;\r\n  const { t } = useTranslation();\r\n  const [userConfirmed, setUserConfirmed] = useState(false);\r\n  const { columns, symbols } = useMemo(() => {\r\n    const _columns = exprTreeFlattenPostOrder(exprTree);\r\n    const _symbols = [...exprTreeCollectSymbols(exprTree)];\r\n    _symbols.sort();\r\n    return { columns: _columns, symbols: _symbols };\r\n  }, [exprTree]);\r\n\r\n  const perm = useMemo(() => {\r\n    if (symbols.length > 3 && !userConfirmed) {\r\n      return [];\r\n    }\r\n    return getPermutation(symbols.length, symbols);\r\n  }, [symbols, userConfirmed]);\r\n\r\n  if (symbols.length > 3 && !userConfirmed) {\r\n    return (\r\n      <Stack spacing={1}>\r\n        <StyledAlert severity=\"warning\">\r\n          <Typography>\r\n            {t(\"common.truthTable.warning\")}\r\n          </Typography>\r\n        </StyledAlert>\r\n        <Button\r\n          sx={{\r\n            width: \"fit-content\",\r\n          }}\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          onClick={() => setUserConfirmed(true)}\r\n        >\r\n          {t(\"common.truthTable.confirm\")}\r\n        </Button>\r\n      </Stack>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TableContainer\r\n      sx={{\r\n        maxHeight: 600,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      <Table stickyHeader>\r\n        <TableHead>\r\n          <TableRow>\r\n            {symbols.map((sym, index) => (\r\n              <TableCell\r\n                key={\"sym\" + index}\r\n                align=\"center\"\r\n                sx={{\r\n                  backgroundColor: ({ palette }) =>\r\n                    palette.background.paper,\r\n                }}\r\n              >\r\n                <StyledLatex tex={sym} />\r\n              </TableCell>\r\n            ))}\r\n            {columns.map((col, index) => (\r\n              <TableCell\r\n                key={\"subexpr\" + index}\r\n                align=\"center\"\r\n                sx={{\r\n                  backgroundColor: ({ palette }) =>\r\n                    palette.background.paper,\r\n                }}\r\n              >\r\n                <StyledLatex tex={col.repr} />\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {perm.map((p, index) => (\r\n            <TableRow key={\"perm\" + index}>\r\n              {symbols.map((sym, index) => (\r\n                <StyledTableCell\r\n                  key={\"sym\" + index}\r\n                  value={p.get(sym) || false}\r\n                />\r\n              ))}\r\n              {columns.map((subExpr, colIndex) => (\r\n                <StyledTableCell\r\n                  key={\"col\" + colIndex}\r\n                  value={subExpr.eval(p)}\r\n                />\r\n              ))}\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport const TruthTable = memo(\r\n  TruthTable_noMemo,\r\n  (prev, next) => {\r\n    return (\r\n      exprTreeToLatex(prev.exprTree) ===\r\n      exprTreeToLatex(next.exprTree)\r\n    );\r\n  }\r\n);\r\n","import {\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, KeyboardEvent, ReactNode } from \"react\";\r\n\r\ntype StyledIconButtonProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n  disabled?: boolean;\r\n  onClick: () => void;\r\n  onKeyPress: (e: KeyboardEvent<HTMLButtonElement>) => void;\r\n};\r\nexport const StyledIconButton: FC<StyledIconButtonProps> = (\r\n  props\r\n) => {\r\n  const { children, onKeyPress, onClick, title, disabled } =\r\n    props;\r\n  return (\r\n    <Tooltip\r\n      placement=\"top\"\r\n      title={<Typography>{title}</Typography>}\r\n    >\r\n      <span>\r\n        <IconButton\r\n          disableRipple={disabled}\r\n          color=\"primary\"\r\n          onClick={onClick}\r\n          onKeyDown={onKeyPress}\r\n        >\r\n          {children}\r\n        </IconButton>\r\n      </span>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import { StyledIconButton } from \"$components/styled/StyledIconButton\";\r\nimport {\r\n  KeyboardArrowLeftRounded,\r\n  KeyboardArrowRightRounded,\r\n} from \"@mui/icons-material\";\r\nimport { Slider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, KeyboardEvent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype PlaygroundPlaybackControlProps = {\r\n  maxValue: number;\r\n  minValue: number;\r\n  value: number;\r\n  onChange: (v: number) => void;\r\n};\r\nexport const PlaygroundPlaybackControl: FC<\r\n  PlaygroundPlaybackControlProps\r\n> = (props) => {\r\n  const { maxValue, minValue, onChange, value } = props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"playground.playback\",\r\n  });\r\n\r\n  const handleForward = () => {\r\n    if (value >= maxValue) {\r\n      return;\r\n    }\r\n    onChange(value + 1);\r\n  };\r\n\r\n  const handleRewind = () => {\r\n    if (value <= minValue) {\r\n      return;\r\n    }\r\n    onChange(value - 1);\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: KeyboardEvent<HTMLButtonElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      handleForward();\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      handleRewind();\r\n    }\r\n  };\r\n\r\n  // There is a possibility for the ui to fall apart due to overflow\r\n  // **IF** the order is large enough eg 20 digits long\r\n  // in such a case, the label would over and pushes the forward arrow\r\n  // and the slider out of view\r\n  // but let's be real, we run into other problem any way\r\n  // if the evaluation of a tree that large\r\n  const maxLabel = maxValue.toString();\r\n  const valueLabel = value\r\n    .toString()\r\n    .padStart(maxLabel.length, \"0\");\r\n  const label = `${valueLabel}/${maxLabel}`;\r\n\r\n  return (\r\n    <Stack\r\n      useFlexGap\r\n      spacing={1}\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n    >\r\n      <StyledIconButton\r\n        disabled={value <= minValue}\r\n        title={t(\"rewind\")}\r\n        onClick={handleRewind}\r\n        onKeyPress={handleKeyPress}\r\n      >\r\n        <KeyboardArrowLeftRounded />\r\n      </StyledIconButton>\r\n      <Typography fontFamily=\"monospace\">\r\n        {label}\r\n      </Typography>\r\n      <StyledIconButton\r\n        disabled={value >= maxValue}\r\n        title={t(\"forward\")}\r\n        onKeyPress={handleKeyPress}\r\n        onClick={handleForward}\r\n      >\r\n        <KeyboardArrowRightRounded />\r\n      </StyledIconButton>\r\n      <Slider\r\n        valueLabelDisplay=\"auto\"\r\n        onChange={(_, v) => onChange(v as number)}\r\n        value={value}\r\n        max={maxValue}\r\n        min={minValue}\r\n        step={1}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { Fab, Tooltip, Typography } from \"@mui/material\";\r\nimport { FC, ReactElement } from \"react\";\r\n\r\ntype StyledFABProps = {\r\n  title: string;\r\n  onClick: () => void;\r\n  children: ReactElement;\r\n};\r\nexport const StyledFAB: FC<StyledFABProps> = (props) => {\r\n  const { children, onClick, title } = props;\r\n  return (\r\n    <Fab\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      onClick={onClick}\r\n      sx={{\r\n        position: \"absolute\",\r\n        left: 16,\r\n        bottom: 16,\r\n      }}\r\n    >\r\n      <Tooltip\r\n        placement=\"right\"\r\n        title={<Typography>{title}</Typography>}\r\n      >\r\n        {children}\r\n      </Tooltip>\r\n    </Fab>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport {\r\n  HierarchyPointLink,\r\n  HierarchyPointNode,\r\n} from \"@visx/hierarchy/lib/types\";\r\nimport { LinkVertical } from \"@visx/shape\";\r\nimport { FC } from \"react\";\r\n\r\ntype TreeGraphLinkProps = {\r\n  link: HierarchyPointLink<ExprTree>;\r\n  order: number;\r\n};\r\nexport const TreeGraphLink: FC<TreeGraphLinkProps> = (\r\n  props\r\n) => {\r\n  const { link, order } = props;\r\n  const { palette } = useTheme();\r\n  const { source, target } = link;\r\n  const isSourceVisible = source.data.order <= order;\r\n\r\n  const isTargetVisibleNow = target.data.order <= order;\r\n  const isTargetVisibleSoon =\r\n    target.data.order <= order + 1;\r\n  const isTargetVisible =\r\n    isTargetVisibleNow || isTargetVisibleSoon;\r\n\r\n  const isLinkVisible = isSourceVisible && isTargetVisible;\r\n\r\n  return (\r\n    <LinkVertical<\r\n      HierarchyPointLink<ExprTree>,\r\n      HierarchyPointNode<ExprTree>\r\n    >\r\n      data={link}\r\n      stroke={palette.primary.light}\r\n      visibility={isLinkVisible ? \"visible\" : \"hidden\"}\r\n      strokeOpacity={isTargetVisible ? \"0.6\" : \"0.3\"}\r\n      strokeWidth=\"5\"\r\n      fill=\"none\"\r\n    />\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { HierarchyPointNode } from \"@visx/hierarchy/lib/types\";\r\nimport katex from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype TreeGraphNodeProps = {\r\n  node: HierarchyPointNode<ExprTree>;\r\n  order: number;\r\n  symbolTable: SymbolTable;\r\n  r: number;\r\n};\r\nexport const TreeGraphNode: FC<TreeGraphNodeProps> = (\r\n  props\r\n) => {\r\n  const { r, order, node, symbolTable } = props;\r\n  const { t } = useTranslation();\r\n  const { x, y, data } = node;\r\n  const { palette, typography } = useTheme();\r\n  const ref = useRef<SVGTextElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      ref.current.innerHTML = katex\r\n        .renderToString(data.repr)\r\n        .replaceAll(\"span\", \"tspan\");\r\n    }\r\n  }, [ref, data.repr]);\r\n\r\n  const isNodeHighlighted = data.order === order;\r\n  const isNodeVisibleNow = data.order <= order;\r\n  const isNodeVisibleSoon = data.order <= order + 1;\r\n  const isNodeVisible =\r\n    isNodeVisibleNow || isNodeVisibleSoon;\r\n  return (\r\n    <Group\r\n      top={y}\r\n      left={x}\r\n      opacity={isNodeVisibleNow ? 1 : 0.5}\r\n      visibility={isNodeVisible ? \"visible\" : \"hidden\"}\r\n    >\r\n      <circle\r\n        strokeWidth={isNodeHighlighted ? 5 : 0}\r\n        stroke={palette.primary.light}\r\n        strokeOpacity={0.8}\r\n        r={r}\r\n        fill={palette.secondary.light}\r\n      />\r\n      <text\r\n        ref={ref}\r\n        fontSize={typography.body1.fontSize}\r\n        color={palette.secondary.contrastText}\r\n        dy=\"0.33rem\"\r\n        textAnchor=\"middle\"\r\n        pointerEvents=\"none\"\r\n        style={{ userSelect: \"none\" }}\r\n      />\r\n      <Group\r\n        visibility={\r\n          data.order < order ? \"visible\" : \"hidden\"\r\n        }\r\n        transform={`translate(${r / 3}, ${r / 3})`}\r\n      >\r\n        <rect\r\n          width={60}\r\n          height={30}\r\n          rx={5}\r\n          ry={5}\r\n          fill={palette.secondary.light}\r\n        />\r\n        <text\r\n          x=\"30\"\r\n          y=\"22\"\r\n          fillOpacity={0.5}\r\n          textAnchor=\"middle\"\r\n          pointerEvents=\"none\"\r\n          style={{ userSelect: \"none\" }}\r\n        >\r\n          {data.eval(symbolTable)\r\n            ? t(\"common.true\")\r\n            : t(\"common.false\")}\r\n        </text>\r\n      </Group>\r\n    </Group>\r\n  );\r\n};\r\n","import { StyledFAB } from \"$components/styled/StyledFAB\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { ControlCameraRounded } from \"@mui/icons-material\";\r\nimport { Box } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { hierarchy, Tree } from \"@visx/hierarchy\";\r\nimport { Zoom } from \"@visx/zoom\";\r\nimport { FC, Fragment, KeyboardEvent, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TreeGraphLink } from \"./TreeGraphLink\";\r\nimport { TreeGraphNode } from \"./TreeGraphNode\";\r\n\r\nconst flatten_expr = (d: ExprTree) => {\r\n  switch (d.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return null;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return null;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      return [d.child];\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      return [d.left, d.right];\r\n  }\r\n};\r\n\r\ntype TreeGraphProps = {\r\n  symbolTable: SymbolTable;\r\n  tree: ExprTree;\r\n  order: number;\r\n  onKeyDown: (e: KeyboardEvent<SVGSVGElement>) => void;\r\n};\r\nexport const TreeGraph: FC<TreeGraphProps> = (props) => {\r\n  const { tree, order, onKeyDown, symbolTable } = props;\r\n\r\n  const { t } = useTranslation();\r\n  const viewportRef = useRef<HTMLDivElement | null>(null);\r\n  const data = hierarchy(tree, flatten_expr);\r\n\r\n  const viewportWidth =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().width;\r\n\r\n  const viewportHeight =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().height;\r\n\r\n  const treeWidth = (data.leaves().length + 1) * 150;\r\n  const treeHeight = (data.height + 1) * 100;\r\n  const nodeRadius = 30;\r\n\r\n  return (\r\n    <Box\r\n      ref={viewportRef}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      position=\"relative\"\r\n    >\r\n      <Zoom<SVGSVGElement>\r\n        width={viewportWidth}\r\n        height={viewportHeight}\r\n        scaleXMin={1 / 10}\r\n        scaleXMax={1}\r\n        scaleYMin={1 / 10}\r\n        scaleYMax={1}\r\n      >\r\n        {(zoom) => (\r\n          <Fragment>\r\n            <svg\r\n              tabIndex={0} // Need tabindex otherwise svg will not send keyboard event\r\n              width={viewportWidth}\r\n              height={viewportHeight}\r\n              ref={zoom.containerRef}\r\n              onKeyDown={onKeyDown}\r\n              style={{\r\n                touchAction: \"none\",\r\n                cursor: zoom.isDragging\r\n                  ? \"grabbing\"\r\n                  : \"grab\",\r\n              }}\r\n              onMouseDown={zoom.dragStart}\r\n              onMouseMove={zoom.dragMove}\r\n              onMouseUp={zoom.dragEnd}\r\n              onMouseLeave={zoom.dragEnd}\r\n            >\r\n              <Group transform={zoom.toString()}>\r\n                <Tree\r\n                  root={data}\r\n                  size={[treeWidth, -treeHeight]}\r\n                >\r\n                  {(treeHeir) => (\r\n                    <Group\r\n                      top={treeHeight + nodeRadius * 1.5}\r\n                    >\r\n                      {treeHeir.links().map((link, i) => (\r\n                        <TreeGraphLink\r\n                          key={`link-${i}`}\r\n                          order={order}\r\n                          link={link}\r\n                        />\r\n                      ))}\r\n                      {treeHeir\r\n                        .descendants()\r\n                        .map((node, i) => (\r\n                          <TreeGraphNode\r\n                            key={`node-${i}`}\r\n                            order={order}\r\n                            node={node}\r\n                            symbolTable={symbolTable}\r\n                            r={nodeRadius}\r\n                          />\r\n                        ))}\r\n                    </Group>\r\n                  )}\r\n                </Tree>\r\n              </Group>\r\n            </svg>\r\n            <StyledFAB\r\n              onClick={zoom.center}\r\n              title={t(\"playground.graph.center\")}\r\n            >\r\n              <ControlCameraRounded />\r\n            </StyledFAB>\r\n          </Fragment>\r\n        )}\r\n      </Zoom>\r\n    </Box>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Paper, Stack } from \"@mui/material\";\r\nimport {\r\n  FC,\r\n  KeyboardEvent,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport { PlaygroundPlaybackControl } from \"./PlaygroundPlaybackControl\";\r\nimport { TreeGraph } from \"./TreeGraph/TreeGraph\";\r\n\r\ntype PlaygroundProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n};\r\nexport const Playground: FC<PlaygroundProps> = (props) => {\r\n  const { exprTree, symbolTable } = props;\r\n  const [step, setStep] = useState(1);\r\n  const [maxStep, setMaxStep] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setStep(1);\r\n    setMaxStep(exprTree.order + 1);\r\n  }, [exprTree]);\r\n\r\n  const handleGraphKeyPress = (\r\n    e: KeyboardEvent<SVGSVGElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      setStep((prev) => Math.min(maxStep, prev + 1));\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setStep((prev) => Math.max(1, prev - 1));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={{\r\n          height: \"75vh\",\r\n          width: \"100%\",\r\n          borderRadius: ({ shape }) => shape.borderRadius,\r\n        }}\r\n      >\r\n        <TreeGraph\r\n          order={step}\r\n          tree={exprTree}\r\n          onKeyDown={handleGraphKeyPress}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </Paper>\r\n      <PlaygroundPlaybackControl\r\n        maxValue={maxStep}\r\n        minValue={1}\r\n        value={step}\r\n        onChange={setStep}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeToLatex } from \"./tree/expr/latex\";\r\n\r\nexport type EvaluationStep = {\r\n  repr: string;\r\n  substitutions: {\r\n    substituted: string;\r\n    repr: string;\r\n    stepRef: number | false;\r\n    evaluated: boolean;\r\n  }[];\r\n  evaluated: boolean;\r\n};\r\n\r\n// const substitute = (\r\n//   tree: ExprTree,\r\n//   table: SymbolTable\r\n// ): string => {\r\n//   switch (tree.nodeType) {\r\n//     case SyntaxTreeNodeKind.CONST:\r\n//     case SyntaxTreeNodeKind.IDEN:\r\n//       return tree.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//     case SyntaxTreeNodeKind.UNARY: {\r\n//       const { child } = tree;\r\n//       let repr = child.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n\r\n//       if (\r\n//         child.nodeType === SyntaxTreeNodeKind.UNARY ||\r\n//         child.nodeType === SyntaxTreeNodeKind.BINARY\r\n//       ) {\r\n//         repr = `\\\\lnot ( ${repr} )`;\r\n//       } else {\r\n//         repr = `\\\\lnot ${repr} `;\r\n//       }\r\n//       return repr;\r\n//     }\r\n//     case SyntaxTreeNodeKind.BINARY: {\r\n//       const { right, left } = tree;\r\n\r\n//       let leftRepr = left.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//       switch (left.nodeType) {\r\n//         case SyntaxTreeNodeKind.UNARY:\r\n//         case SyntaxTreeNodeKind.BINARY:\r\n//           leftRepr = `( ${leftRepr} )`;\r\n//       }\r\n\r\n//       let rightRepr = right.eval(table)\r\n//         ? \"\\\\text{True}\"\r\n//         : \"\\\\text{False}\";\r\n//       switch (right.nodeType) {\r\n//         case SyntaxTreeNodeKind.UNARY:\r\n//         case SyntaxTreeNodeKind.BINARY:\r\n//           rightRepr = `( ${rightRepr} )`;\r\n//       }\r\n\r\n//       return `${leftRepr} ${tree.repr} ${rightRepr}`;\r\n//     }\r\n//   }\r\n// };\r\n\r\nconst traverse = (\r\n  tree: ExprTree,\r\n  table: SymbolTable,\r\n  steps: EvaluationStep[]\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      {\r\n        const evaluated = tree.eval(table);\r\n        const repr = tree.repr;\r\n        steps.push({\r\n          repr,\r\n          evaluated,\r\n          substitutions: [\r\n            {\r\n              repr,\r\n              evaluated,\r\n              stepRef: false,\r\n              substituted: `\\\\text{${evaluated}}`,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      {\r\n        const { child } = tree;\r\n\r\n        const childEval = child.eval(table);\r\n        let childStep: number | false = false;\r\n\r\n        if (\r\n          child.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          child.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(child, table, steps);\r\n          childStep = steps.length;\r\n        }\r\n\r\n        // not (x and y)\r\n        // From (9), x and y === True\r\n        // not True\r\n        // False\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          substitutions: [\r\n            {\r\n              repr: exprTreeToLatex(child),\r\n              evaluated: childEval,\r\n              stepRef: childStep,\r\n              substituted: `\\\\lnot \\\\text{${childEval}}`,\r\n            },\r\n          ],\r\n          evaluated: tree.eval(table),\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      {\r\n        const { right, left } = tree;\r\n\r\n        const leftEval = left.eval(table);\r\n        const leftSubstituted = `\\\\text{${leftEval}}`;\r\n        let leftStep: number | false = false;\r\n        if (\r\n          left.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          left.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(left, table, steps);\r\n          leftStep = steps.length;\r\n        }\r\n\r\n        const rightEval = right.eval(table);\r\n        const rightRawRepr = exprTreeToLatex(right);\r\n        const rightRepr =\r\n          right.nodeType === SyntaxTreeNodeKind.BINARY\r\n            ? `( ${rightRawRepr} )`\r\n            : rightRawRepr;\r\n        const rightSubstituted = `\\\\text{${rightEval}}`;\r\n        let rightStep: number | false = false;\r\n        if (\r\n          right.nodeType !== SyntaxTreeNodeKind.CONST &&\r\n          right.nodeType !== SyntaxTreeNodeKind.IDEN\r\n        ) {\r\n          traverse(right, table, steps);\r\n          rightStep = steps.length;\r\n        }\r\n\r\n        // (x and y) and (y and z)\r\n        // From (9), x and y === True\r\n        // True and (y and z)\r\n        // From (10), y and z === True\r\n        // True and True\r\n        // True\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          evaluated: tree.eval(table),\r\n          substitutions: [\r\n            {\r\n              repr: exprTreeToLatex(left),\r\n              evaluated: leftEval,\r\n              stepRef: leftStep,\r\n              substituted: `${leftSubstituted} ${tree.repr} ${rightRepr}`,\r\n            },\r\n            {\r\n              repr: rightRawRepr,\r\n              evaluated: rightEval,\r\n              stepRef: rightStep,\r\n              substituted: `${leftSubstituted} ${tree.repr} ${rightSubstituted}`,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenStepByStep = (\r\n  tree: ExprTree,\r\n  symbolTable: SymbolTable\r\n) => {\r\n  const steps: EvaluationStep[] = [];\r\n  traverse(tree, symbolTable, steps);\r\n  return steps;\r\n};\r\n","import { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport {\r\n  EvaluationStep,\r\n  exprTreeFlattenStepByStep,\r\n} from \"$core/exprTreeFlattenStepByStep\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Divider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, Fragment, memo } from \"react\";\r\n\r\ntype SubstitutionStepDisplayProps = {\r\n  subStep: EvaluationStep[\"substitutions\"][number];\r\n};\r\nconst SubstitutionStepDisplay: FC<\r\n  SubstitutionStepDisplayProps\r\n> = (props) => {\r\n  const { subStep } = props;\r\n\r\n  let substepStmtLatex = \"\";\r\n  if (subStep.stepRef === false) {\r\n    substepStmtLatex = `\\\\text{Given $${subStep.repr}$ is ${subStep.evaluated},}`;\r\n  } else {\r\n    substepStmtLatex = `\\\\text{From Eq. $(${subStep.stepRef})$, $${subStep.repr}$ is ${subStep.evaluated},}`;\r\n  }\r\n  return (\r\n    <Stack>\r\n      <StyledLatex\r\n        tex={substepStmtLatex}\r\n        sx={{\r\n          overflowX: \"auto\",\r\n          scrollbarGutter: \"stable\",\r\n          scrollbarWidth: \"thin\",\r\n          whiteSpace: \"nowrap\",\r\n          flexGrow: 1,\r\n          paddingBottom: 1,\r\n        }}\r\n      />\r\n      <StyledLatex\r\n        tex={subStep.substituted}\r\n        sx={{\r\n          overflowX: \"auto\",\r\n          scrollbarGutter: \"stable\",\r\n          scrollbarWidth: \"thin\",\r\n          whiteSpace: \"nowrap\",\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          paddingBottom: 1,\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\ntype StepDisplayProps = {\r\n  stepIndex: number;\r\n  step: EvaluationStep;\r\n};\r\nconst StepDisplay: FC<StepDisplayProps> = (props) => {\r\n  const { step, stepIndex } = props;\r\n\r\n  const stepLabelLatex = `\\\\textbf{Step $${stepIndex}$}`;\r\n  const introStmtLatex = `\\\\text{Consider}`;\r\n  const eqStmtLatex = `\\\\text{\\\\textbf{Equation $${stepIndex}$:} $${step.repr}$ is ${step.evaluated}.}`;\r\n  return (\r\n    <Stack spacing={2}>\r\n      <StyledLatex\r\n        tex={stepLabelLatex}\r\n        sx={{\r\n          overflowX: \"auto\",\r\n          scrollbarGutter: \"stable\",\r\n          scrollbarWidth: \"thin\",\r\n          whiteSpace: \"nowrap\",\r\n          flexGrow: 1,\r\n        }}\r\n      />\r\n      <StyledLatex\r\n        tex={introStmtLatex}\r\n        sx={{\r\n          overflowX: \"auto\",\r\n          scrollbarGutter: \"stable\",\r\n          scrollbarWidth: \"thin\",\r\n          whiteSpace: \"nowrap\",\r\n          flexGrow: 1,\r\n        }}\r\n      />\r\n      <StyledLatex\r\n        tex={step.repr}\r\n        sx={{\r\n          overflowX: \"auto\",\r\n          scrollbarGutter: \"stable\",\r\n          scrollbarWidth: \"thin\",\r\n          whiteSpace: \"nowrap\",\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n        }}\r\n      />\r\n      {step.substitutions.length > 0 && (\r\n        <Fragment>\r\n          {step.substitutions.map(\r\n            (subStep, subStepIndex) => (\r\n              <SubstitutionStepDisplay\r\n                key={\"sub-step\" + stepIndex + subStepIndex}\r\n                subStep={subStep}\r\n              />\r\n            )\r\n          )}\r\n        </Fragment>\r\n      )}\r\n      <StyledLatex\r\n        tex={`\\\\text{$\\\\equiv$ ${step.evaluated}}`}\r\n        sx={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"auto\",\r\n          scrollbarWidth: \"thin\",\r\n          scrollbarGutter: \"stable\",\r\n          paddingBottom: 1,\r\n          textAlign: \"center\",\r\n        }}\r\n      />\r\n      <StyledLatex\r\n        tex={eqStmtLatex}\r\n        sx={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"auto\",\r\n          scrollbarWidth: \"thin\",\r\n          scrollbarGutter: \"stable\",\r\n          paddingBottom: 1,\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\ntype StepByStepEvaluationProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n};\r\nconst StepByStepEvaluation_: FC<\r\n  StepByStepEvaluationProps\r\n> = (props) => {\r\n  const { exprTree, symbolTable } = props;\r\n\r\n  const steps = exprTreeFlattenStepByStep(\r\n    exprTree,\r\n    symbolTable\r\n  );\r\n\r\n  if (steps.length === 0) {\r\n    return (\r\n      <Typography fontStyle=\"italic\">\r\n        No step to display\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  const { repr, evaluated } = steps.at(-1)!;\r\n  const thereforeStmtLatex = `\\\\text{$\\\\therefore ${repr}$ is ${evaluated}.}`;\r\n\r\n  return (\r\n    <Stack\r\n      spacing={2}\r\n      divider={<Divider flexItem />}\r\n    >\r\n      {steps.map((step, index) => (\r\n        <StepDisplay\r\n          key={\"step\" + index}\r\n          step={step}\r\n          stepIndex={index + 1}\r\n        />\r\n      ))}\r\n      <StyledLatex\r\n        tex={thereforeStmtLatex}\r\n        sx={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"auto\",\r\n          scrollbarWidth: \"thin\",\r\n          scrollbarGutter: \"stable\",\r\n          paddingBottom: 1,\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const StepByStepEvaluation = memo(\r\n  StepByStepEvaluation_,\r\n  (prev, next) => {\r\n    if (\r\n      exprTreeToLatex(prev.exprTree) !==\r\n      exprTreeToLatex(next.exprTree)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    for (const [k, v] of prev.symbolTable.entries()) {\r\n      if (next.symbolTable.get(k) !== v) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n);\r\n","import { TruthTable } from \"$components/math/TruthTable/TruthTable\";\r\nimport { StyledLatex } from \"$components/styled/StyledLatex\";\r\nimport { StyledOutputCard } from \"$components/styled/StyledOutputCard\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { FC, memo, useEffect, useState } from \"react\";\r\nimport { Playground } from \"./Playground/Playground\";\r\nimport { PlaygroundSymbolConfig } from \"./Playground/PlaygroundSymbolConfig\";\r\nimport { StepByStepEvaluation } from \"./StepByStepEvaluation\";\r\n\r\ntype SolverOutputGroupProps = {\r\n  exprTree: ExprTree;\r\n  symbolSet: Set<string>;\r\n};\r\nconst SolverOutputGroup_: FC<SolverOutputGroupProps> = (\r\n  props\r\n) => {\r\n  const { exprTree, symbolSet } = props;\r\n\r\n  const [symbolTable, setSymbolTable] = useState(() => {\r\n    const next = new Map<string, boolean>();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    return next;\r\n  });\r\n\r\n  const handleSymbolChange = (k: string, v: boolean) => {\r\n    setSymbolTable((prev) => {\r\n      const next = new Map(prev);\r\n      next.set(k, v);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const next = new Map<string, boolean>();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    setSymbolTable(next);\r\n  }, [symbolSet]);\r\n\r\n  return (\r\n    <Stack spacing={2}>\r\n      <StyledOutputCard title=\"Input\">\r\n        <StyledLatex\r\n          tex={exprTreeToLatex(exprTree)}\r\n          sx={{\r\n            scrollbarWidth: \"thin\",\r\n            scrollbarGutter: \"stable\",\r\n            textAlign: \"center\",\r\n            whiteSpace: \"nowrap\",\r\n            overflow: \"auto\",\r\n            width: \"100%\",\r\n            display: \"inline-block\",\r\n          }}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Output\">\r\n        <StyledLatex\r\n          tex={`\r\n            \\\\textbf{${\r\n              exprTree.eval(symbolTable) ? \"True\" : \"False\"\r\n            }}`}\r\n          sx={{\r\n            scrollbarWidth: \"thin\",\r\n            scrollbarGutter: \"stable\",\r\n            textAlign: \"center\",\r\n            whiteSpace: \"nowrap\",\r\n            overflow: \"auto\",\r\n            width: \"100%\",\r\n            display: \"inline-block\",\r\n          }}\r\n        />\r\n        <PlaygroundSymbolConfig\r\n          symbolTable={symbolTable}\r\n          onChange={handleSymbolChange}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Step-by-step Evaluation\">\r\n        <StepByStepEvaluation\r\n          exprTree={exprTree}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Graph\">\r\n        <Playground\r\n          exprTree={exprTree}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </StyledOutputCard>\r\n      <StyledOutputCard title=\"Truth Table\">\r\n        <TruthTable exprTree={exprTree} />\r\n      </StyledOutputCard>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const SolverOutputGroup = memo(\r\n  SolverOutputGroup_,\r\n  (prev, next) => {\r\n    const p = exprTreeToLatex(prev.exprTree);\r\n    const n = exprTreeToLatex(next.exprTree);\r\n    return n === p;\r\n  }\r\n);\r\n","import { Editor } from \"$components/math/Editor/Editor\";\r\nimport { SolverOutputGroup } from \"$components/math/SolverOutputGroup\";\r\nimport { SolverRouteLoaderData } from \"$types/loader-data\";\r\nimport { PlayArrowRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  Box,\r\n  Button,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const SolverView: FC = () => {\r\n  const { data, userInput: defaultUserInput } =\r\n    useLoaderData() as SolverRouteLoaderData;\r\n  const submit = useSubmit();\r\n  const [userInput, setUserInput] = useState(\r\n    defaultUserInput\r\n  );\r\n\r\n  useEffect(() => {\r\n    setUserInput(defaultUserInput);\r\n  }, [defaultUserInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/solver\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      maxWidth=\"lg\"\r\n      marginX={{ xs: 2, md: \"auto\" }}\r\n    >\r\n      <Stack spacing={2}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"not (p and q) iff (not p or not q)\"\r\n        />\r\n        <Button\r\n          disabled={userInput.trim().length === 0}\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          sx={{\r\n            maxWidth: \"fit-content\",\r\n          }}\r\n          onClick={handleSubmit}\r\n        >\r\n          RUN\r\n        </Button>\r\n        {data.ok && (\r\n          <SolverOutputGroup\r\n            exprTree={data.data.exprTree}\r\n            symbolSet={data.data.symbols}\r\n          />\r\n        )}\r\n        {!data.ok && defaultUserInput.trim().length > 0 && (\r\n          <Alert\r\n            severity=\"warning\"\r\n            variant=\"outlined\"\r\n          >\r\n            <AlertTitle>\r\n              <Typography>\r\n                The solver cannot understand your input.\r\n              </Typography>\r\n            </AlertTitle>\r\n            <Typography>\r\n              It seems like something is wrong with the\r\n              expression.\r\n            </Typography>\r\n          </Alert>\r\n        )}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreetoExprTree } from \"$core/tree/conversion\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { SolverRouteLoaderData } from \"$types/loader-data\";\r\nimport { SolverView } from \"$views/SolverView\";\r\nimport { RouteObject } from \"react-router\";\r\n\r\nexport const SOLVER_ROUTE: RouteObject = {\r\n  path: \"/solver\",\r\n  element: <SolverView />,\r\n  loader: ({ request }) => {\r\n    const url = new URL(request.url);\r\n    const userInputRaw = url.searchParams.get(\"input\");\r\n\r\n    if (\r\n      userInputRaw === null ||\r\n      userInputRaw.toString().trim().length === 0\r\n    ) {\r\n      const loaderData: SolverRouteLoaderData = {\r\n        userInput: \"\",\r\n        data: { ok: false },\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const userInput = userInputRaw.toString();\r\n    const result = parse(userInput);\r\n\r\n    if (!result.ok) {\r\n      const loaderData: SolverRouteLoaderData = {\r\n        userInput,\r\n        data: { ok: false },\r\n      };\r\n      return loaderData;\r\n    }\r\n\r\n    const { data: syntaxTree } = result;\r\n    const exprTree = syntaxTreetoExprTree(syntaxTree);\r\n    const symbols = exprTreeCollectSymbols(exprTree);\r\n    const loaderData: SolverRouteLoaderData = {\r\n      userInput,\r\n      data: {\r\n        ok: true,\r\n        data: {\r\n          exprTree,\r\n          symbols,\r\n        },\r\n      },\r\n    };\r\n    return loaderData;\r\n  },\r\n};\r\n","import { amber, brown, green } from \"@mui/material/colors\";\r\nimport {\r\n  alpha,\r\n  PaletteOptions,\r\n} from \"@mui/material/styles\";\r\n\r\nexport const PALETTE_OPTIONS: PaletteOptions = {\r\n  mode: \"light\",\r\n  primary: { main: brown[\"700\"] },\r\n  secondary: { main: green[\"100\"] },\r\n  background: { default: alpha(amber[\"50\"], 0.6) },\r\n  divider: brown[\"A700\"],\r\n};\r\n","import { createTheme } from \"@mui/material\";\r\nimport { PALETTE_OPTIONS } from \"./palette\";\r\n\r\nexport const THEME = createTheme({\r\n  palette: PALETTE_OPTIONS,\r\n  components: {\r\n    MuiList: {\r\n      defaultProps: {\r\n        disablePadding: true,\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      defaultProps: {\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiTooltip: {\r\n      styleOverrides: {\r\n        arrow: ({ theme: t }) => ({\r\n          color: t.palette.primary.dark,\r\n        }),\r\n        tooltip: ({ theme: t }) => ({\r\n          backgroundColor: t.palette.primary.dark,\r\n        }),\r\n      },\r\n    },\r\n    MuiDialogActions: {\r\n      defaultProps: {\r\n        sx: { justifyContent: \"flex-start\" },\r\n      },\r\n    },\r\n  },\r\n});\r\n","import \"$core/interpreter/parser\";\r\nimport { AppbarLayout } from \"$layouts/AppbarLayout\";\r\nimport { HomeView } from \"$views/HomeView\";\r\nimport { TheoremView } from \"$views/TheoremView\";\r\nimport {\r\n  CssBaseline,\r\n  GlobalStyles,\r\n  ThemeProvider,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport {\r\n  createHashRouter,\r\n  RouterProvider,\r\n} from \"react-router\";\r\nimport { EVALUATOR_ROUTE } from \"src/routes/evaluator\";\r\nimport { SOLVER_ROUTE } from \"src/routes/solver\";\r\nimport { THEME } from \"./thene/theme\";\r\n\r\nconst globalStyles = (\r\n  <GlobalStyles\r\n    styles={{\r\n      tableLayout: \"auto\",\r\n      borderCollapse: \"collapse\",\r\n      html: {\r\n        scrollBehavior: \"smooth\",\r\n      },\r\n    }}\r\n  />\r\n);\r\n\r\nconst router = createHashRouter(\r\n  [\r\n    {\r\n      path: \"/\",\r\n      element: <AppbarLayout />,\r\n      children: [\r\n        { index: true, element: <HomeView /> },\r\n        SOLVER_ROUTE,\r\n        EVALUATOR_ROUTE,\r\n        {\r\n          path: \"/theorem\",\r\n          element: <TheoremView />,\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  {\r\n    basename: \"/\",\r\n  }\r\n);\r\n\r\nexport const App: FC = () => {\r\n  return (\r\n    <ThemeProvider theme={THEME}>\r\n      <CssBaseline />\r\n      {globalStyles}\r\n      <RouterProvider router={router} />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n","export const en = {\r\n  translation: {\r\n    component: {\r\n      playground: {\r\n        config: {\r\n          true: \"True\",\r\n          false: \"False\",\r\n          editTruthValue: \"Modify propositions\",\r\n        },\r\n      },\r\n      common: {\r\n        editor: {\r\n          run: {\r\n            label: \"Run\",\r\n            alt: \"CTRL + ENTER\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    nav: {\r\n      home: \"Home\",\r\n      solver: \"Solver\",\r\n      evaluator: \"Evaluator\",\r\n      simplifier: \"Simplifier\",\r\n      checker: \"Tautology checker\",\r\n    },\r\n    view: {\r\n      home: {\r\n        launch: \"Open\",\r\n        read: \"Read\",\r\n        calculators: \"Tools\",\r\n        resources: \"Resources\",\r\n        card: {\r\n          solver: {\r\n            title: \"Solver\",\r\n            desc: \"Solve an expression with truth table, expression tree, and step-by-step calculation.\",\r\n          },\r\n          evaluator: {\r\n            title: \"Evaluator\",\r\n            desc: \"Evaluate expressions according to given truth values.\",\r\n          },\r\n          simplifier: {\r\n            title: \"Simplifier\",\r\n            desc: \"Transform an expression into an equivalent, reduced form.\",\r\n          },\r\n          checker: {\r\n            title: \"Tautology checker\",\r\n            desc: \"Check if an expression is always true.\",\r\n          },\r\n          theorem: {\r\n            title: \"Useful theorems\",\r\n            desc: \"A collection of theorems on zeroth-order logic.\",\r\n          },\r\n          about: {\r\n            title: \"Documentation\",\r\n            desc: \"Learn more about the project's implementation and design.\",\r\n          },\r\n        },\r\n      },\r\n      solver: {\r\n        truthTable: {\r\n          title: \"Truth Table\",\r\n        },\r\n        stepByStep: {\r\n          title: \"Step-by-step Evaluation\",\r\n        },\r\n        graph: {\r\n          title: \"Step-by-step\",\r\n        },\r\n        feedback: {\r\n          noExpression:\r\n            \"No expression to display. Evaluate one to see how it's interpreted!\",\r\n        },\r\n        howToUse: {\r\n          title: \"Not sure where to begin?\",\r\n          link: \"Read the Manual\",\r\n        },\r\n      },\r\n    },\r\n    common: {\r\n      truthTable: {\r\n        confirm: \"I understand\",\r\n        warning:\r\n          \"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.\",\r\n      },\r\n      proposition: \"Proposition\",\r\n      truthValue: \"Truth value\",\r\n      true: \"True\",\r\n      false: \"False\",\r\n      close: \"Close\",\r\n      connectives: {\r\n        negation: \"Negation\",\r\n        conjunction: \"Conjunction\",\r\n        disjunction: \"Disjunction\",\r\n        implication: \"Implication\",\r\n        equivalence: \"Equivalence\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"Original\",\r\n      simplifiedPanel: \"Simplified\",\r\n      howToUse: \"How to use?\",\r\n      run: \"Run\",\r\n      allowedOperatorLabel: \"Connectives to keep\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"Tap on a circle to modify the truth value of the expression.\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"No evaluation step to display. Evaluate an expression to see steps here.\",\r\n        cannotDisplayEvaluation:\r\n          \"Cannot display evaluation step. Please check the expression and try again.\",\r\n        center: \"Center Graph\",\r\n      },\r\n      playback: {\r\n        forward: \"Forward\",\r\n        rewind: \"Rewind\",\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","export const th = {\r\n  translation: {\r\n    common: {\r\n      proposition: \"ประพจน์\",\r\n      truthValue: \"ค่าความจริง\",\r\n      close: \"ปิด\",\r\n      true: \"จริง\",\r\n      false: \"เท็จ\",\r\n      connectives: {\r\n        negation: \"นิเสธ\",\r\n        conjunction: \"และ\",\r\n        disjunction: \"หรือ\",\r\n        implication: \"ถ้า แล้ว\",\r\n        equivalence: \"ก็ต่อเมื่อ\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"รูปเดิม\",\r\n      simplifiedPanel: \"รูปอย่างง่าย\",\r\n      howToUse: \"คู่มือการใช้งาน\",\r\n      run: \"คำนวณ\",\r\n      allowedOperatorLabel: \"ตัวเชื่อมที่คงไว้\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"แตะที่วงลมสีเขียวเพื่อแก้ไขค่าความจริงของนิพจน์\",\r\n        empty:\r\n          \"ไม่มีประพจน์ให้แสดงในขณะนี้ คำนวณประพจน์เพื่อตรวจสอบว่าโปรแกรมตีความถูกต้องหรือไม่\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"ไม่มีขั้นตอนการคำนวณให้แสดงในขณะนี้ คำนวณประพจน์เพื่อแสดงขั้นตอน\",\r\n        cannotDisplayEvaluation:\r\n          \"เกิดข้อผิดพลาด ไม่สามารถแสดงขั้นตอนการคำนวณได้ กรุณาตรวจสอบประพจน์และลองคำนวณอีกครั้ง\",\r\n        center: \"กลับสู่ศูนย์กลาง\",\r\n      },\r\n\r\n      playback: {\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n        forward: \"เดินหน้า\",\r\n        rewind: \"ถอยหลัง\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","import i18next from \"i18next\";\r\nimport {\r\n  default as Backend,\r\n  default as LangDectector,\r\n} from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { en } from \"./en/translation\";\r\nimport { th } from \"./th/translation\";\r\n\r\ni18next\r\n  .use(Backend)\r\n  .use(LangDectector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    detection: {\r\n      lookupLocalStorage: \"language\",\r\n    },\r\n    // debug: true,\r\n    resources: {\r\n      en,\r\n      th,\r\n    },\r\n  });\r\n\r\nexport default i18next;\r\n","import { App } from \"$App/App\";\nimport \"$locales/config\";\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport \"$core/interpreter/grammar\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n\n"],"names":["SyntaxTreeNodeKind","Operator","collectBinaryNodes","operator","left","right","node","i","grammar","ohm.grammar","semantics","leftExpr","_","rightExpr","leftTree","rightTree","expr","_open","_close","_id","id","children","n","parse","content","m","LANGUAGES","LanguageSwitcher","i18n","t","useTranslation","anchor","setAnchor","useState","handleClose","Fragment","jsx","Tooltip","Typography","IconButton","e","TranslateRounded","Menu","shape","lang","index","selected","jsxs","MenuItem","ListItemIcon","CheckRounded","ListItemText","ToolNavDropDown","props","items","handleOpen","event","Button","KeyboardArrowDownRounded","theme","href","label","isSelected","NavLink","NAV_ITEMS","AppbarLayout","pathname","useLocation","Paper","palette","Stack","Link","HomeRounded","Outlet","CARDS","HomeView","Masonry","title","desc","Card","CardHeader","CardContent","UserManualBlogEN","COMPONENTS_OVERRIDE","Divider","hrefLang","referrerPolicy","StyledMarkdown","Markdown","rehypeKatex","rehypeSlug","remarkMath","remarkGfm","TheoremView","setContent","useEffect","UserManualBlogTH","response","text","Container","OPERATOR_REPR","OPERATOR_EVAL_FN","l","_syntaxTreetoExprTree","tree","orderStart","nodeType","child","syntaxTreetoExprTree","_exprTreeCollectSymbols","symbols","exprTreeCollectSymbols","exprTree","StyledLatex","sx","tex","options","ref","useRef","katex","EditorRibbonButton","onClick","open","setOpen","setSelected","anchorRef","ButtonGroup","KeyboardArrowUpRounded","option","OPERATOR_TEXT","OPERATOR_SYMBOL","EditorRibbon","value","Editor","placeholder","onChange","inputRef","handleInsertChar","char","TextField","PlaygroundSymbolConfig","symbolTable","Grid2","sym","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","StyledOutputCard","_exprTreeToLatex","table","exprTreeToLatex","exprTreeToLatexSubstitute","k","v","EvaluatorView","data","defaultUserInput","useLoaderData","submit","useSubmit","setSymbolTable","userInput","setUserInput","symbol","handleSubmit","Box","PlayArrowRounded","prev","next","EVALUATOR_ROUTE","request","loaderData","result","StyledAlert","rest","useTheme","Alert","getPermutation","size","perm","permSize","repr","p","j","traversePostOrder","accum","seen","minified","exprTreeFlattenPostOrder","StyledTableCell","TableCell","alpha","TruthTable_noMemo","userConfirmed","setUserConfirmed","columns","useMemo","_columns","_symbols","TableContainer","Table","TableHead","TableRow","col","TableBody","subExpr","colIndex","TruthTable","memo","StyledIconButton","onKeyPress","disabled","PlaygroundPlaybackControl","maxValue","minValue","handleForward","handleRewind","handleKeyPress","key","maxLabel","KeyboardArrowLeftRounded","KeyboardArrowRightRounded","Slider","StyledFAB","Fab","TreeGraphLink","link","order","source","target","isSourceVisible","isTargetVisibleNow","isTargetVisibleSoon","isTargetVisible","isLinkVisible","LinkVertical","TreeGraphNode","x","y","typography","isNodeHighlighted","isNodeVisibleNow","isNodeVisibleSoon","isNodeVisible","Group","flatten_expr","d","TreeGraph","onKeyDown","viewportRef","hierarchy","viewportWidth","viewportHeight","treeWidth","treeHeight","nodeRadius","Zoom","zoom","Tree","treeHeir","ControlCameraRounded","Playground","step","setStep","maxStep","setMaxStep","handleGraphKeyPress","traverse","steps","evaluated","childEval","childStep","leftEval","leftSubstituted","leftStep","rightEval","rightRawRepr","rightRepr","rightSubstituted","rightStep","exprTreeFlattenStepByStep","SubstitutionStepDisplay","subStep","substepStmtLatex","StepDisplay","stepIndex","stepLabelLatex","introStmtLatex","eqStmtLatex","subStepIndex","StepByStepEvaluation_","thereforeStmtLatex","StepByStepEvaluation","SolverOutputGroup_","symbolSet","handleSymbolChange","SolverOutputGroup","SolverView","AlertTitle","SOLVER_ROUTE","userInputRaw","syntaxTree","PALETTE_OPTIONS","brown","green","amber","THEME","createTheme","globalStyles","GlobalStyles","router","createHashRouter","App","ThemeProvider","CssBaseline","RouterProvider","en","th","i18next","Backend","LangDectector","initReactI18next","createRoot","StrictMode"],"mappings":"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"}