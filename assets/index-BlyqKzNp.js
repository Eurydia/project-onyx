import{j as n,r as h}from"./react-BKepnraI.js";import{g as We}from"./ohm-js-o5RsQ8tt.js";import{c as X,l as Ve,i as qe,o as He,t as Ge,p as Xe,a as K,r as Z,u as $,T as y,B as Ke,b as V,K as Ze,M as Je,d as Qe,L as Se,C as Ne,e as ke,S as T,f as et,P as Ce,g as tt,h as z,A as rt,j as nt,k as ot,m as st,n as be,q as Ee,s as se,v as at,w as it,x as ge,y as lt,z as ct,D as ut,E as je,F as pt,R as Ae,G as ae,H as ye,I as Oe,J as dt,N as Pe,O as ht,Q as ft,U as mt,V as xt,W as gt,X as yt,Y as vt,Z as bt,_ as Tt,$ as jt,a0 as Rt,a1 as wt,a2 as $t,a3 as ie,a4 as It,a5 as St,a6 as Nt,a7 as kt,a8 as Ct,a9 as Et,aa as At,ab as Ot,ac as B,ad as Pt,ae as Lt}from"./@mui-Dg3bsdNd.js";import{u as _t,L as le,a as ue,b as pe,c as Dt,d as Mt,R as Ft}from"./react-router-CJAszRCC.js";import{u as b,i as Bt}from"./react-i18next-BoEMxySj.js";import{L as Yt,G as ce,Z as Ut,T as zt}from"./@visx-CiICbwka.js";import{k as Wt}from"./katex-Dn761jRB.js";import{h as Vt}from"./d3-hierarchy-B72UHu4D.js";import{i as qt}from"./i18next-C77IuWVK.js";import{B as Ht}from"./i18next-browser-languagedetector-Dt8Tv9E6.js";import{B as Gt}from"./i18next-http-backend-BtL6gqeX.js";import{c as Xt}from"./react-dom-D3Ec8Wlr.js";import"./classnames-DHUZR2-n.js";import"./@emotion-B2ONKW_I.js";import"./hoist-non-react-statics-mLZj6LgC.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-JfMTsH4s.js";import"./@popperjs-CMBiYTiD.js";import"./react-is-BmsGHj3B.js";import"./cookie--_YQFYBD.js";import"./prop-types-CZ1f4sS1.js";import"./@use-gesture-BB74HTca.js";import"./d3-shape-rFcaQ0O8.js";import"./d3-path-BevWroqt.js";import"./scheduler-pDHB_tJ7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var d=(e=>(e.IFF="IFF",e.IMPL="IMPL",e.AND="AND",e.OR="OR",e.NOT="NOT",e))(d||{}),c=(e=>(e.CONST="CONSTANT",e.IDEN="IDEN",e.UNARY="UNARY",e.BINARY="BINARY",e))(c||{});const Q=(e,t,r)=>{let o={nodeType:c.BINARY,operator:e,left:t,right:r[0]};for(let s=1;s<r.length;s++)o={nodeType:c.BINARY,operator:e,left:o,right:r[s]};return o},Le=We(String.raw`
BooleanExpressions {
  Expression
    = Iff 

  Iff
    = Implies (iff_sym Implies)*

  Implies
    = Or (implies_sym Or)*

  Or
    = And (or_sym And)*

  And
    = Not (and_sym Not)*

  Not
    = not_sym Not                   --not
    | Primary

  Primary
    = "(" Expression ")" --group
    | true_sym    --lit_true
    | false_sym   --lit_false
    | identifier  --variable

  identifier
    = letter
  
  iff_sym 
    = "iff"
    | "⇔"
  
  implies_sym 
    = "implies"
    | "⇒"
  
  or_sym
    = "or"
    | "∨"

  and_sym
    = "and"
    | "∧"
  
  not_sym
    = "not"
    | "¬"

  true_sym
    = "⊤"
    | "T"
    | "1"

  false_sym
    = "⊥"
    | "F"
    | "0"
}
`),_e=Le.createSemantics();_e.addOperation("buildTree",{Expression(e){return e.buildTree()},Iff(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.IFF,o,s)},Implies(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.IMPL,o,s)},Or(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.OR,o,s)},And(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(d.AND,o,s)},Not_not(e,t){return{nodeType:c.UNARY,operator:d.NOT,operand:t.buildTree()}},Primary_group(e,t,r){return t.buildTree()},Primary_lit_true(e){return{nodeType:c.CONST,value:!0}},Primary_lit_false(e){return{nodeType:c.CONST,value:!1}},Primary_variable(e){return{nodeType:c.IDEN,symbol:e.sourceString}},identifier(e){return this.sourceString},_iter(...e){return e.map(t=>t.buildTree())}});const de=e=>{const t=Le.match(e);return t.succeeded()?{ok:!0,tree:_e(t).buildTree()}:{ok:!1}},g=e=>({nodeType:c.UNARY,operator:d.NOT,operand:e}),D=(e,t,r)=>({nodeType:c.BINARY,operator:e,left:t,right:r}),S=(e,t)=>D(d.AND,e,t),R=(e,t)=>D(d.OR,e,t),P=(e,t)=>D(d.IMPL,e,t),Kt=(e,t)=>D(d.IFF,e,t),k=e=>({nodeType:c.CONST,value:e}),E=e=>{switch(e.nodeType){case c.CONST:return String(e.value);case c.IDEN:return e.symbol;case c.UNARY:{let t=E(e.operand);return e.operand.nodeType===c.BINARY&&(t=`( ${t} )`),`${e.operator} ${t}`}case c.BINARY:{let t=E(e.left);e.left.nodeType===c.BINARY&&(t=`( ${t} )`);let r=E(e.right);return e.right.nodeType===c.BINARY&&(r=`( ${r} )`),`${t} ${e.operator} ${r}`}}},ee=e=>{switch(e.nodeType){case c.CONST:case c.IDEN:return e;case c.UNARY:{const t=ee(e.operand);return g(t)}case c.BINARY:{const t=ee(e.left),r=ee(e.right);switch(e.operator){case d.IFF:return S(R(g(t),r),R(g(r),t));case d.IMPL:return R(g(t),r);case d.AND:return S(t,r);case d.OR:return R(t,r)}}}},O=e=>{switch(e.nodeType){case c.CONST:case c.IDEN:return e;case c.UNARY:{const{operand:t}=e;switch(t.nodeType){case c.CONST:return k(!t.value);case c.IDEN:return e;case c.UNARY:return O(t.operand);case c.BINARY:{const r=t.operator===d.AND?d.OR:d.AND;return O(D(r,g(t.left),g(t.right)))}}break}case c.BINARY:{const t=O(e.left),r=O(e.right);if(e.operator===d.AND)return S(t,r);if(r.nodeType===c.BINARY&&r.operator===d.AND){const o=O(R(t,r.left)),s=O(R(t,r.right));return S(o,s)}if(t.nodeType===c.BINARY&&t.operator===d.AND){const o=O(R(t.left,r)),s=O(R(t.right,r));return S(o,s)}return R(t,r)}}},Zt=e=>{const t=[...e];if(t.every(s=>s.nodeType===c.CONST&&!s.value))return new Set([k(!1)]);if(t.some(s=>s.nodeType===c.CONST&&s.value))return new Set([k(!0)]);const r=new Set,o=new Set;for(const s of t)switch(s.nodeType){case c.IDEN:{if(o.has(E(g(s))))return new Set([k(!0)]);const a=E(s);o.has(a)||(o.add(a),r.add(s));break}case c.UNARY:{if(o.has(E(s.operand)))return new Set([k(!0)]);const a=E(s);o.has(a)||(o.add(a),r.add(s))}}return r},Y=(e,t)=>{switch(e.nodeType){case c.CONST:case c.IDEN:case c.UNARY:t.add(new Set([e]));break;case c.BINARY:{if(e.operator===d.AND){Y(e.left,t),Y(e.right,t);return}const r=new Set;Y(e.left,r),Y(e.right,r);const o=new Set;r.forEach(s=>{s.forEach(a=>{o.add(a)})}),t.add(Zt(o));break}}},Re=e=>{if(e.size===0)return k(!1);const t=[...e];let r=t[0];for(const o of t.slice(1))r=R(r,o);return r},De=e=>{const t=new Set;Y(O(ee(e)),t);const r=[...t].map(i=>Re(i));if(r.length===0||r.some(i=>i.nodeType===c.CONST&&!i.value))return k(!1);if(r.every(i=>i.nodeType===c.CONST&&i.value))return k(!0);const o=new Set;for(const i of r){if(i.nodeType===c.IDEN){if(o.has(E(g(i))))return k(!1);o.add(i.symbol)}if(i.nodeType===c.UNARY){if(o.has(i.operand.symbol))return k(!1);o.add(E(i))}}const s=[...t];let a=!1;do{a&&(a=!1);for(let i=0;i<s.length;i++){for(let u=0;u<s.length;u++){if(i===u)continue;const p=s[i],m=s[u];if(p.size===m.size){const f=we(p,m);if(f.size===1){const v=we(p,f);s.splice(i,1,v);const x=s.indexOf(m);x!==-1&&s.splice(x,1),a=!0;break}}}if(a)break}}while(a);let l;for(const i of s){const u=Re(i);l===void 0?l=u:l=S(l,u)}return l===void 0?k(!1):l},we=(e,t)=>{const r=new Set;t.forEach(s=>r.add(E(s)));const o=new Set;return e.forEach(s=>{const a=E(s);r.has(a)||o.add(s)}),o},Jt=new Map([[d.NOT,"\\lnot"],[d.AND,"\\land"],[d.OR,"\\lor"],[d.IMPL,"\\implies"],[d.IFF,"\\iff"]]),q=e=>Jt.get(e)??"",L=e=>{switch(e.nodeType){case c.CONST:return`\\textbf{${e.value}}`;case c.IDEN:return e.symbol;case c.UNARY:{let t=L(e.operand);return e.operand.nodeType===c.BINARY&&(t=`( ${t} )`),`${q(e.operator)} ${t}`}case c.BINARY:{let t=L(e.left);e.left.nodeType===c.BINARY&&(t=`( ${t} )`);let r=L(e.right);e.right.nodeType===c.BINARY&&(r=`( ${r} )`);const o=q(e.operator);return`${t} ${o} ${r}`}}},Qt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,normalizedTree:De(l.tree),originalTree:l.tree,inputInterpretationLatex:L(l.tree),inputRaw:a.trim()}:{ok:!1,inputRaw:a.trim()})}return{userInput:r,items:o}},er=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,inputRaw:a.trim(),tree:l.tree,inputInterpretationLatex:L(l.tree)}:{ok:!1,inputRaw:a.trim()})}return{userInput:r.trim(),items:o}},Me=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case c.IDEN:t.add(o.symbol);break;case c.UNARY:r.push(o.operand);break;case c.BINARY:r.push(o.left),r.push(o.right);break}}return[...t].toSorted((o,s)=>o.localeCompare(s))},tr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",symbols:[],items:[]};const o=new Set,s=[];for(const l of r.split(",")){const i=de(l);if(!i.ok){s.push({inputRaw:l.trim(),ok:!1});continue}const{tree:u}=i;Me(u).forEach(p=>o.add(p)),s.push({ok:!0,inputRaw:l.trim(),inputInterpretationLatex:L(u),tree:u})}return{userInput:r,items:s,symbols:[...o].toSorted((l,i)=>l.localeCompare(i))}},rr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);if(!l.ok){o.push({ok:!1,inputRaw:a});continue}o.push({ok:!0,inputRaw:a,originalTree:l.tree,inputInterpretationLatex:L(l.tree)})}return{userInput:r,items:o}},nr=X({primary:{main:Ve[300]},contrastThreshold:9,tonalOffset:.5}),Fe=X({primary:{main:qe[200]},tonalOffset:.47,contrastThreshold:9}),Be=X({primary:{main:He[200]},tonalOffset:.47,contrastThreshold:9}),Ye=X({primary:{main:Ge[200]},tonalOffset:.5,contrastThreshold:9}),Ue=X({primary:{main:Xe[200]},tonalOffset:.47,contrastThreshold:9});let ve=K({palette:nr});ve=Z(ve);const or=ve,sr=Z(K({palette:Ye})),ar=Z(K({palette:Fe})),ir=Z(K({palette:Be})),lr=Z(K({palette:Ue})),cr=["evaluator","comparator","checker","rewriter"],he=()=>{const{t:e}=b("nav"),{palette:t}=$(),{pathname:r}=_t();return n.jsxs(h.Fragment,{children:[n.jsx(y,{component:le,to:"/",sx:{color:t.primary.dark,textTransform:"capitalize",textDecorationLine:"none"},children:e("home")}),cr.map((o,s)=>{const a=`/${o}`,l=a.localeCompare(r)===0?900:void 0;return n.jsx(y,{component:le,to:a,sx:{color:t.primary.dark,textTransform:"capitalize",fontWeight:l,textDecorationLine:"none"},children:e(o)},"item"+s)})]})},j=e=>{const{sx:t,children:r,options:o}=e,s=h.useRef(null);return h.useEffect(()=>{s.current!==null&&window.renderMathInElement(s.current,{strict:!1,output:"html",delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],...o})},[r,s,o]),n.jsx(y,{ref:s,sx:{...t,"& .katex-display > .katex":{whiteSpace:"normal"}},children:r})},ur=e=>{const{options:t,onClick:r}=e,{palette:o}=$(),[s,a]=h.useState(!1),[l,i]=h.useState(t[0]),u=h.useRef(null);return n.jsxs(h.Fragment,{children:[n.jsxs(Ke,{ref:u,variant:"contained",disableElevation:!0,disableRipple:!0,color:"primary",children:[n.jsx(V,{onClick:()=>r(l.value),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(j,{sx:{textTransform:"none",fontFamily:"monospace"},children:`${l.label}`})}),n.jsx(V,{onClick:()=>a(!0),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(Ze,{sx:{transition:"transform 0.2s ease",transform:s?"rotate(180deg)":"rotate(0deg)"}})})]}),n.jsx(Je,{open:s,anchorEl:u.current,onClose:()=>a(!1),onClick:()=>a(!1),children:t.map((p,m)=>{const f=p.label===l.label;return n.jsxs(Qe,{disableRipple:!0,selected:f,onClick:()=>i(p),sx:{padding:2},children:[n.jsx(Se,{children:f&&n.jsx(Ne,{})}),n.jsx(ke,{disableTypography:!0,children:n.jsx(j,{sx:{fontFamily:"monospace"},children:`${p.label}`})})]},"option"+m)})})]})},pr=[{label:"$\\texttt{not}$",value:"not"},{label:"$\\texttt{and}$",value:"and"},{label:"$\\texttt{or}$",value:"or"},{label:"$\\texttt{implies}$",value:"implies"},{label:"$\\texttt{iff}$",value:"iff"}],dr=[{label:"$\\mathbf{\\lnot}$",value:"¬"},{label:"$\\mathbf{\\land}$",value:"∧"},{label:"$\\mathbf{\\lor}$",value:"∨"},{label:"$\\mathbf{\\implies}$",value:"⇒"},{label:"$\\mathbf{\\iff}$",value:"⇔"}],hr=e=>{const{onClick:t}=e;return n.jsx(T,{flexDirection:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,children:pr.map((r,o)=>n.jsx(ur,{onClick:s=>t(s),options:[dr[o],r]},"insert-btn-text"+o))})},fr=e=>{const{placeholder:t,value:r,onChange:o,onSubmit:s}=e,{palette:a}=$(),{t:l}=b("components",{keyPrefix:"editor"}),i=h.useRef(null),[u,p]=h.useState(!1),[m,f]=h.useState(0),[v,x]=h.useState(0),w=I=>{if(i.current===null)return;const M=r.slice(0,m),ze=r.slice(v);o(`${M}${I}${ze}`),f(`${M}${I}`.length),x(`${M}${I}`.length)},A=I=>{const M=I.target;f(M.selectionStart??0),x(M.selectionEnd??0)};return n.jsxs(T,{spacing:1,children:[n.jsx(hr,{onClick:w}),n.jsx(et,{inputRef:i,fullWidth:!0,multiline:!0,rows:5,value:r,placeholder:t,onChange:I=>o(I.target.value),slotProps:{input:{sx:{fontFamily:"monospace"}},htmlInput:{autoCapitalize:"off",spellCheck:"false",onSelect:A}}}),n.jsxs(T,{spacing:1,useFlexGap:!0,flexWrap:"wrap",direction:"row",children:[n.jsx(V,{disableElevation:!0,disableRipple:!0,disabled:r.trim().length===0,variant:"contained",startIcon:n.jsx(Ce,{}),onClick:s,sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l("run")}),n.jsx(V,{disableElevation:!0,disableRipple:!0,startIcon:u?n.jsx(Ne,{}):n.jsx(tt,{}),variant:"contained",onClick:()=>{navigator.clipboard.writeText(r),p(!0),setTimeout(()=>{p(!1)},1e3)},sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l(u?"copied":"copy")})]})]})},fe=h.memo(fr,(e,t)=>e.value===t.value&&e.onSubmit===t.onSubmit),J=e=>{const{appHeader:t,title:r,children:o}=e,{palette:s}=$();return n.jsxs(h.Fragment,{children:[n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:4,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:2},children:t}),n.jsx(z,{paddingX:{xs:2,md:0},paddingY:4,sx:{backgroundColor:s.primary.light,color:s.primary.dark,alignItems:"center"},children:n.jsx(y,{variant:"h1",fontWeight:900,fontFamily:"monospace",textTransform:"capitalize",maxWidth:"lg",marginX:{xs:0,md:"auto"},sx:{textWrap:"balance",whiteSpace:"normal",overflowWrap:"break-word",hyphens:"auto"},children:r})}),n.jsx(z,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:8,children:o})]})},_=e=>{const{children:t,severity:r}=e,{t:o}=b("components",{keyPrefix:"alert"});return n.jsxs(rt,{severity:r,children:[n.jsx(nt,{sx:{fontWeight:900},children:o("notice")}),t]})},me=e=>{const{items:t}=e,{t:r}=b("components",{keyPrefix:"input-display"});return n.jsxs(T,{spacing:1,children:[t.map((o,s)=>{const a=s+1;return o.ok?n.jsx(j,{children:`$$${o.inputInterpretationLatex} \\tag{${a}}$$`},"expr"+s):n.jsx(j,{sx:{color:({palette:l})=>l.error.main},children:`$$\\varnothing \\tag{${a}}$$`},"expr"+s)}),t.some(o=>!o.ok)&&n.jsxs(_,{severity:"warning",children:[n.jsx(y,{children:r("warnings.the-following-input-are-invalid")}),n.jsx(ot,{children:t.map((o,s)=>{if(o.ok)return null;const a=s+1;return n.jsxs(st,{children:[n.jsx(Se,{children:n.jsx(y,{children:`(${a})`})}),n.jsx(ke,{disableTypography:!0,children:o.inputRaw.length===0?n.jsx(y,{fontStyle:"italic",children:r("empty-string")}):n.jsx(y,{fontFamily:"monospace",children:o.inputRaw})})]},"invalid-input"+s)})})]})]})},mr=e=>{const{itemNum:t,result:r,originalLatex:o}=e,{t:s}=b("views",{keyPrefix:"checker-view.cards.output.text"});let a=s("contingent",{variables:"$"+Me(r).toSorted().join(",")+"$"});return r.nodeType===c.CONST&&(a=r.value?s("tautology"):s("contradiction")),n.jsx(j,{children:s("formula-is-value",{formula:`$$${o}\\tag{${t}}$$`,value:`$$\\boxed{\\textbf{${a}}}$$`})})},H=e=>{const{primary:t,secondary:r}=e,[o,s]=h.useState(!1),a=()=>{s(l=>!l)};return n.jsxs(be,{variant:"outlined",children:[n.jsx(Ee,{disableRipple:!0,disableTouchRipple:!0,onClick:a,children:n.jsx(se,{children:t})}),n.jsx(at,{in:o,children:r})]})},xr=(e,t)=>{const r=[],o=1<<e;for(let s=0;s<o;s++){const a=s.toString(2).padStart(e,"0"),l=new Map;for(let i=0;i<e;i++)l.set(t[i],a[i]==="0");r.push(l)}return r},Te=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case c.CONST:break;case c.IDEN:t.add(o.repr);break;case c.UNARY:r.push(o.child);break;case c.BINARY:r.push(o.left),r.push(o.right);break}}return t},W=(e,t=null)=>{switch(e.nodeType){case c.CONST:return`\\textbf{${e.repr}}`;case c.IDEN:return t!==null&&t.has(e.repr)?t.get(e.repr):e.repr;case c.UNARY:{const r=W(e.child,t);return e.child.nodeType===c.BINARY?`${e.repr} ( ${r} )`:`${e.repr} ${r}`}case c.BINARY:{let r=W(e.left,t);e.left.nodeType===c.BINARY&&(r=`( ${r} )`);let o=W(e.right,t);return e.right.nodeType===c.BINARY&&(o=`( ${o} )`),`${r} ${e.repr} ${o}`}}},C=e=>W(e),$e=(e,t)=>W(e,t),te=(e,t,r,o)=>{switch(e.nodeType){case c.CONST:return;case c.IDEN:return;case c.UNARY:{const s=$e(e,o);if(r.has(s))return;r.add(s),te(e.child,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}case c.BINARY:{const s=$e(e,o);if(r.has(s))return;r.add(s),te(e.left,t,r,o),te(e.right,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}}},gr=e=>{const t=[],r=new Set,o=new Map;for(const s of Te(e))o.set(s,s.length>=5?`${s.slice(0,5)}\\ldots`:s);return te(e,t,r,o),t},yr=e=>{const{value:t}=e,{t:r}=b("components",{keyPrefix:"truth-table.text"}),{palette:o}=$(),s=t?o.primary.light:it(o.primary.light,.6);return n.jsx(ge,{align:"center",sx:{backgroundColor:s,color:o.primary.dark},children:n.jsx(y,{children:r(t?"true":"false")})})},Ie=h.memo(yr,(e,t)=>e.value===t.value),vr=e=>{const{exprTree:t,slotProps:r}=e,{t:o}=b("components",{keyPrefix:"truth-table"}),{palette:s}=$(),[a,l]=h.useState(!1),i=gr(t),u=[...Te(t)];u.sort();const p=u.length>3&&!a?[]:xr(u.length,u);return u.length>3&&!a?n.jsxs(T,{spacing:1,padding:1,children:[n.jsx(_,{severity:"warning",children:o("warnings.large-truth-table-can-slow-application-down")}),n.jsx(V,{disableElevation:!0,disableRipple:!0,onClick:()=>l(!0),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light,width:"fit-content"},children:o("warnings.confirm")})]}):n.jsx(lt,{sx:r.container,children:n.jsxs(ct,{stickyHeader:!0,children:[n.jsx(ut,{children:n.jsxs(je,{children:[u.map((m,f)=>n.jsx(ge,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(j,{children:`$${m}$`})},"sym"+f)),i.map((m,f)=>n.jsx(ge,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(j,{children:`$${m.label}$`})},"subexpr"+f))]})}),n.jsx(pt,{children:p.map((m,f)=>n.jsxs(je,{children:[u.map((v,x)=>n.jsx(Ie,{value:m.get(v)||!1},"sym"+x)),i.map((v,x)=>n.jsx(Ie,{value:v.eval(m)},"col"+x))]},"perm"+f))})]})})},xe=h.memo(vr,(e,t)=>C(e.exprTree)===C(t.exprTree)),br={[d.AND]:(e,t)=>r=>e(r)&&t(r),[d.OR]:(e,t)=>r=>e(r)||t(r),[d.IMPL]:(e,t)=>r=>!e(r)||t(r),[d.IFF]:(e,t)=>r=>e(r)===t(r)},re=(e,t)=>{const{nodeType:r}=e;switch(r){case c.CONST:return{eval:()=>e.value,nodeType:r,order:t+1,repr:String(e.value)};case c.IDEN:return{eval:s=>s.get(e.symbol)??!1,nodeType:r,order:t+1,repr:e.symbol};case c.UNARY:{const o=re(e.operand,t);return{repr:q(e.operator),child:o,nodeType:r,eval:a=>!o.eval(a),order:o.order+1}}case c.BINARY:{const o=re(e.left,t),s=re(e.right,o.order);return{nodeType:r,eval:br[e.operator](o.eval,s.eval),left:o,right:s,order:s.order+1,repr:q(e.operator)}}}},G=e=>re(e,0),Tr=e=>{const{items:t}=e,{t:r}=b("views",{keyPrefix:"checker-view.cards.output.infos"});return t.filter(o=>o.ok).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:r("no-formula-to-display")})}):n.jsx(h.Fragment,{children:t.map((o,s)=>{if(!o.ok)return null;const a=G(o.originalTree),l=s+1;return n.jsx(H,{primary:n.jsx(mr,{itemNum:l,result:o.normalizedTree,originalLatex:o.inputInterpretationLatex}),secondary:n.jsx(xe,{exprTree:a,slotProps:{container:{maxHeight:"40vh"}}})},"verdict"+s)})})},jr=e=>{const{items:t}=e,{typography:r}=$(),{t:o}=b("views",{keyPrefix:"checker-view.cards"});return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("output.title")}),n.jsx(Tr,{items:t})]})},Rr=()=>{const{items:e,userInput:t}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(t);h.useEffect(()=>{a(t)},[t]);const l=()=>{r({input:s},{method:"GET",action:"/checker"})};return n.jsx(J,{appHeader:n.jsx(he,{}),title:o("checker"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p or not p, not q and q, p implies q",onSubmit:l}),e.length>0&&n.jsx(jr,{items:e})]})})};function*wr(e){let t=0;const r=1<<e.length;for(;t<r;){const o=new Map,s=t.toString(2).padStart(e.length,"0");for(let a=0;a<r;a++)o.set(e[a],s[a]==="1");yield o,t++}}const $r=e=>{const t=Te(e),r=wr([...t]);for(const o of r)if(!e.eval(o))return!1;return!0},Ir=e=>{const{items:t,onMainItemIndexChange:r,mainItemIndex:o}=e,{t:s}=b("views",{keyPrefix:"comparator-view.cards"}),{typography:a}=$(),l=h.useMemo(()=>t.filter(u=>u.ok),[t]),i=h.useMemo(()=>{if(o===null)return null;const u=t.at(o);return u===void 0||!u.ok?null:u},[o,t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length<=1&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.not-enough-formula-for-comparison")})}),o!==null&&l.length>1&&n.jsx(Ae,{value:o,onChange:(u,p)=>r(Number.parseInt(p)),children:t.map((u,p)=>{if(!u.ok)return null;const m=u.inputInterpretationLatex;return n.jsx(ae,{control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:p,label:n.jsx(j,{children:`$$${m}$$`}),slotProps:{typography:{width:"100%"}}},"main-expr-option"+p)})}),i!==null&&o!==null&&l.length>1&&t.map((u,p)=>{if(!u.ok||p===o)return null;const m=G(Kt(i.tree,u.tree)),f=$r(m),v=o+1,x=p+1,w=i.inputInterpretationLatex,A=u.inputInterpretationLatex,I=s(f?"output.text.equivalent":"output.text.not-equivalent");return n.jsx(H,{primary:n.jsx(j,{children:s("output.text.formulas-are-value",{first:`$$${w} \\tag{${v}}$$`,second:`$$${A} \\tag{${x}}$$`,value:`$$\\boxed{\\textbf{${I}}}$$`})}),secondary:n.jsx(xe,{exprTree:m,slotProps:{container:{maxHeight:"40vh"}}})},"comparison-pair"+p)})]})},Sr=()=>{const{items:e,userInput:t}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(t),[l,i]=h.useState(()=>{for(const[p,m]of e.entries())if(m.ok)return p;return null});h.useEffect(()=>{a(t)},[t]),h.useEffect(()=>{for(const[p,m]of e.entries())if(m.ok){i(p);return}i(null)},[e]);const u=h.useCallback(()=>{r({input:s},{method:"GET",action:"/comparator"})},[r,s]);return n.jsx(J,{appHeader:n.jsx(he,{}),title:o("comparator"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:u}),e.length>0&&n.jsx(Ir,{mainItemIndex:l,onMainItemIndexChange:i,items:e})]})})},Nr=()=>{const e=Dt(),{t}=b("views",{keyPrefix:"error-view"});return n.jsx(z,{maxWidth:"md",marginX:{xs:2,md:"auto"},paddingY:2,children:n.jsxs(be,{variant:"outlined",children:[n.jsx(Oe,{title:t("title"),slotProps:{title:{fontWeight:900}}}),n.jsx(dt,{disableSpacing:!0,children:n.jsx(y,{component:le,to:"/",color:"primary",sx:{textDecorationLine:"none","&:hover":{textDecorationLine:"underline"}},children:t("return-home")})}),n.jsx(se,{children:n.jsx(y,{fontFamily:"monospace",color:"error",component:"pre",children:JSON.stringify(e,null,4)})})]})})},F=e=>{const{children:t,onKeyPress:r,onClick:o,title:s,disabled:a}=e;return n.jsx(Pe,{title:n.jsx(y,{children:s}),children:n.jsx("span",{children:n.jsx(ht,{disableRipple:!0,disabled:a,onClick:o,onKeyDown:r,children:t})})})},kr=e=>{const{value:t,maxValue:r,minValue:o,onChange:s,isAnimationPlaying:a,onAnimationPause:l,onAnimationPlay:i,onAnimationReplay:u}=e,{t:p}=b("components",{keyPrefix:"graph.playback"}),m=()=>{t>=r||s(t+1)},f=()=>{t<=o||s(t-1)};return n.jsxs(T,{children:[n.jsx(ft,{valueLabelDisplay:"auto",onChange:(v,x)=>s(x),value:t,max:r,min:o,step:1}),n.jsxs(T,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(F,{disabled:t<=o,title:p("previous"),onClick:f,children:n.jsx(mt,{})}),t===r&&n.jsx(F,{title:p("replay"),onClick:u,children:n.jsx(xt,{})}),t!==r&&a&&n.jsx(F,{title:p("pause"),onClick:l,children:n.jsx(gt,{})}),t!==r&&!a&&n.jsx(F,{title:p("play"),onClick:i,children:n.jsx(Ce,{})}),n.jsx(F,{disabled:t>=r,title:p("forward"),onClick:m,children:n.jsx(yt,{})}),n.jsx(y,{children:`${t}/${r}`})]})]})},Cr=h.memo(kr,(e,t)=>["value","maxValue","minValue","isAnimationPlaying"].every(o=>e[o]===t[o])),Er=e=>{const{link:t,order:r}=e,{palette:o}=$(),{source:s,target:a}=t,l=s.data.order<=r,i=a.data.order<=r,u=a.data.order<=r+1,p=i||u,m=l&&p;return n.jsx(Yt,{data:t,stroke:o.primary.light,visibility:m?"visible":"hidden",strokeOpacity:p?"0.6":"0.3",strokeWidth:"5",fill:"none"})},Ar=e=>{const{r:t,order:r,node:o,symbolTable:s}=e,{t:a}=b("components",{keyPrefix:"graph"}),{x:l,y:i,data:u}=o,{palette:p,typography:m}=$(),f=h.useRef(null);h.useEffect(()=>{f.current!==null&&(f.current.innerHTML=Wt.renderToString(u.repr).replaceAll("span","tspan"))},[f,u.repr]);const v=u.order===r,x=u.order<=r,w=u.order<=r+1,A=x||w;return n.jsxs(ce,{top:i,left:l,opacity:x?1:.5,visibility:A?"visible":"hidden",children:[n.jsx("circle",{strokeWidth:v?5:0,stroke:p.primary.dark,strokeOpacity:.8,r:t,fill:p.primary.light}),n.jsx("text",{ref:f,fontSize:m.body1.fontSize,fill:p.primary.contrastText,dy:"0.33rem",textAnchor:"middle",pointerEvents:"none",style:{userSelect:"none"}}),n.jsxs(ce,{transform:`translate(${t/3}, ${t/3})`,visibility:u.order<r?"visible":"hidden",children:[n.jsx("rect",{width:60,height:30,rx:5,ry:5,fill:p.primary.light}),n.jsx("text",{x:"30",y:"22",textAnchor:"middle",pointerEvents:"none",fill:p.primary.contrastText,style:{userSelect:"none"},children:u.eval(s)?a("true"):a("false")})]})]})},Or=e=>{const{tree:t,order:r,symbolTable:o}=e,{palette:s}=$(),{t:a}=b("components",{keyPrefix:"graph"}),l=h.useRef(null),i=Vt(t,x=>{switch(x.nodeType){case c.CONST:return null;case c.IDEN:return null;case c.UNARY:return[x.child];case c.BINARY:return[x.left,x.right]}}),u=l.current===null?0:l.current.getBoundingClientRect().width,p=l.current===null?0:l.current.getBoundingClientRect().height,m=(i.leaves().length+1)*150,f=(i.height+1)*100,v=30;return n.jsx(z,{ref:l,width:"100%",height:"100%",position:"relative",children:n.jsx(Ut,{width:u,height:p,scaleXMin:1/10,scaleXMax:1,scaleYMin:1/10,scaleYMax:1,children:x=>n.jsxs(h.Fragment,{children:[n.jsx("svg",{width:u,height:p,ref:x.containerRef,style:{touchAction:"none",cursor:x.isDragging?"grabbing":"grab"},onMouseDown:x.dragStart,onMouseMove:x.dragMove,onMouseUp:x.dragEnd,onMouseLeave:x.dragEnd,children:n.jsx(ce,{transform:x.toString(),children:n.jsx(zt,{root:i,size:[m,-f],children:w=>n.jsxs(ce,{top:f+v*1.5,children:[w.links().map((A,I)=>n.jsx(Er,{order:r,link:A},`link-${I}`)),w.descendants().map((A,I)=>n.jsx(Ar,{order:r,node:A,symbolTable:o,r:v},`node-${I}`))]})})})}),n.jsx(Pe,{placement:"right",title:n.jsx(y,{children:a("center")}),children:n.jsx(vt,{onClick:x.center,sx:{position:"absolute",left:16,bottom:16,"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light},children:n.jsx(bt,{})})})]})})})},Pr=h.memo(Or,(e,t)=>{if(e.order!==t.order||C(e.tree).localeCompare(C(t.tree))!==0)return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Lr=e=>{const{exprTree:t,symbolTable:r,slotProps:o}=e,[s,a]=h.useState(1),[l,i]=h.useState(1),[u,p]=h.useState(!1),m=h.useRef(null),f=h.useRef(u),v=h.useRef(s);return h.useEffect(()=>{f.current=u},[u]),h.useEffect(()=>{v.current=s},[s]),h.useEffect(()=>(u&&(m.current=setInterval(()=>{f.current&&a(x=>x<l?x+1:(p(!1),f.current=!1,x))},750)),()=>clearInterval(m.current??void 0)),[u,l,s]),h.useEffect(()=>{a(1),i(t.order+1)},[t]),n.jsxs(T,{spacing:1,children:[n.jsx(Tt,{variant:"outlined",sx:o.container,children:n.jsx(Pr,{order:s,tree:t,symbolTable:r})}),n.jsx(Cr,{maxValue:l,minValue:1,value:s,onChange:a,isAnimationPlaying:u,onAnimationPause:()=>{p(!1)},onAnimationPlay:()=>{p(!0)},onAnimationReplay:()=>{a(1),p(!0)}})]})},ne=(e,t,r)=>{switch(e.nodeType){case c.CONST:return;case c.IDEN:{const o=e.eval(t),s=e.repr;r.push({repr:s,evaluated:o,substitutions:[{repr:s,evaluated:o,stepRef:!1,substituted:`\\text{${o}}`}],connective:null})}break;case c.UNARY:{const{child:o}=e,s=o.eval(t);let a=!1;o.nodeType!==c.CONST&&o.nodeType!==c.IDEN&&(ne(o,t,r),a=r.length);const l=[];o.nodeType!==c.CONST&&l.push({repr:C(o),evaluated:s,stepRef:a,substituted:`\\lnot ${s?"\\top":"\\bot"}
            }`}),r.push({repr:C(e),substitutions:l,evaluated:e.eval(t),connective:e.repr})}break;case c.BINARY:{const{right:o,left:s}=e,a=s.eval(t),l=a?"\\top":"\\bot";let i=!1;s.nodeType!==c.CONST&&s.nodeType!==c.IDEN&&(ne(s,t,r),i=r.length);const u=o.eval(t),p=C(o),m=o.nodeType===c.BINARY?`( ${p} )`:p,f=u?"\\top":"\\bot";let v=!1;o.nodeType!==c.CONST&&o.nodeType!==c.IDEN&&(ne(o,t,r),v=r.length);const x=[];s.nodeType!==c.CONST&&x.push({repr:C(s),evaluated:a,stepRef:i,substituted:`${l} ${e.repr} ${m}`}),o.nodeType!==c.CONST&&x.push({repr:p,evaluated:u,stepRef:v,substituted:`${l} ${e.repr} ${f}`}),r.push({repr:C(e),evaluated:e.eval(t),substitutions:x,connective:e.repr})}break}},_r=(e,t)=>{const r=[];return ne(e,t,r),r},Dr=e=>{const{subStep:t,references:r,subStepIndex:o,stepIndex:s}=e,a=String.fromCharCode(o+97),l=String.fromCharCode(o+97+1),{t:i}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),{substituted:u,evaluated:p,repr:m,stepRef:f}=t;if(f===!1)return n.jsx(j,{children:i("given-variable-is-value",{variable:`$${m}$`,formula:`$$${u}.\\tag{${s}.${l}}$$`,value:i(p?"true":"false")})});const v=r[f-1].repr;return n.jsx(j,{children:i("from-previous-step-substitute-into-formula",{step:`$\\text{(${f}.a)}$`,formula:`$$${v}$$`,value:i(p?"true":"false"),current:`$\\text{(${s}.${a})}$`,result:`$$${u}.\\tag{${s}.${l}}$$`})})},Mr=e=>{const{step:t,stepIndex:r,references:o}=e,{evaluated:s,repr:a,substitutions:l,connective:i}=t,{t:u}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),p=`${r}.a`;return n.jsxs(T,{spacing:1,children:[n.jsx(y,{fontWeight:900,children:u("step-x-of-y",{current:r,total:o.length})}),n.jsx(j,{children:u("consider-the-formula",{formula:`$$${a}.\\tag{${p}}$$`})}),l.map((m,f)=>n.jsx(Dr,{stepIndex:r,subStepIndex:f,subStep:m,references:o},"sub-step"+r+f)),n.jsx(j,{children:u("by-truth-table-formula-is-value",{operator:`$${i}$`,formula:`$(${p})$`,value:u(s?"true":"false")})})]})},Fr=e=>{const{exprTree:t,symbolTable:r}=e,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),s=h.useMemo(()=>_r(t,r),[t,r]);if(s.length===0)return n.jsx(y,{fontStyle:"italic",children:o("no-evaluation-step-to-display")});const{evaluated:a,repr:l}=s.at(-1);return n.jsxs(T,{spacing:2,children:[n.jsx(Lr,{exprTree:t,symbolTable:r,slotProps:{container:{height:{xs:"50vh",md:"66vh"}}}}),s.map((i,u)=>n.jsx(Mr,{step:i,stepIndex:u+1,references:s},"step"+u)),n.jsx(j,{children:o("therefore-formula-is-value",{formula:`$$${l}$$`,value:o(a?"true":"false")})})]})},Br=h.memo(Fr,(e,t)=>{if(C(e.exprTree)!==C(t.exprTree))return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Yr=e=>{const{items:t,symbolTable:r}=e,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),[s,a]=h.useState(()=>t.findIndex(i=>i.ok));return h.useEffect(()=>{a(t.findIndex(i=>i.ok))},[t]),h.useMemo(()=>t.filter(i=>i.ok),[t]).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:o("infos.no-valid-formula-to-display")})}):n.jsxs(jt,{value:s,children:[n.jsx(Rt,{onChange:(i,u)=>a(Number.parseInt(u)),variant:"scrollable",scrollButtons:"auto",textColor:"inherit",sx:{paddingX:0},children:t.map((i,u)=>i.ok?n.jsx(wt,{value:u,disableRipple:!0,label:o("tab-item",{num:u+1})},"tab"+u):null)}),t.map((i,u)=>i.ok?n.jsx($t,{value:u,sx:{padding:0},children:n.jsx(Br,{exprTree:i.tree,symbolTable:r})},"tab-panel"+u):null)]})},Ur=e=>{const{value:t,onChange:r}=e,{t:o}=b("components",{keyPrefix:"symbol-config"}),s=h.useMemo(()=>[...t.keys()].toSorted((a,l)=>a.localeCompare(l)),[t]);return s.length===0?null:n.jsx(ie,{container:!0,width:"100%",sx:{maxHeight:400,overflowY:"auto"},children:s.map(a=>n.jsx(ie,{size:{xs:12,md:4},children:n.jsxs(It,{fullWidth:!0,children:[n.jsx(St,{children:n.jsx(j,{children:`$${a}$`})}),n.jsxs(Ae,{row:!0,value:t.get(a)?"1":"0",onChange:(l,i)=>r(a,i==="1"),children:[n.jsx(ae,{disableTypography:!0,control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"1",label:n.jsx(y,{children:o("true")})}),n.jsx(ae,{control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"0",disableTypography:!0,label:n.jsx(y,{children:o("false")})})]})]})},"symbol-"+a))})},zr=e=>{const{items:t,symbolTable:r,onSymbolChange:o}=e,{typography:s}=$(),{t:a}=b("views",{keyPrefix:"evaluator-view.cards"}),l=h.useMemo(()=>t.filter(i=>i.ok),[t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("output.title")}),n.jsx(Ur,{value:r,onChange:o}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:a("output.infos.no-valid-formula-to-display")})}),l.length>0&&t.map((i,u)=>{if(!i.ok)return null;const p=G(i.tree),m=i.inputInterpretationLatex,f=p.eval(r),v=a(f?"output.true":"output.false");return n.jsx(H,{primary:n.jsx(j,{children:a("output.formula-evaluates-to-value",{formula:`$$${m}$$`,value:`$$\\boxed{\\textbf{${v}}}$$`})}),secondary:n.jsx(xe,{exprTree:p,slotProps:{container:{maxHeight:"40vh"}}})},"output-item"+u)}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("step-by-step.title")}),n.jsx(Yr,{symbolTable:r,items:t.map(i=>i.ok?{ok:!0,tree:G(i.tree)}:{ok:!1})})]})},Wr=()=>{const{items:e,userInput:t,symbols:r}=ue(),o=pe(),{t:s}=b("nav"),[a,l]=h.useState(t),[i,u]=h.useState(()=>{const f=new Map;for(const v of r)f.set(v,!0);return f});h.useEffect(()=>{l(t)},[t]),h.useEffect(()=>{const f=new Map;for(const v of r)f.set(v,!0);u(f)},[r]);const p=h.useCallback(()=>{o({input:a},{method:"GET",action:"/evaluator"})},[o,a]),m=h.useCallback((f,v)=>{u(x=>{const w=new Map(x);return w.set(f,v),w})},[]);return n.jsx(J,{appHeader:n.jsx(he,{}),title:s("evaluator"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:a,onChange:l,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:p}),e.length>0&&n.jsx(zr,{symbolTable:i,items:e,onSymbolChange:m})]})})},Vr=[{id:"evaluator",icon:n.jsx(Nt,{fontSize:"inherit"}),palette:Ye},{id:"comparator",icon:n.jsx(kt,{fontSize:"inherit"}),palette:Be},{id:"checker",icon:n.jsx(Ct,{fontSize:"inherit"}),palette:Fe},{id:"rewriter",icon:n.jsx(Et,{fontSize:"inherit"}),palette:Ue}],qr=["en","th"],Hr=()=>{const{t:e,i18n:t}=b(["views","nav"]),r=$();return n.jsx(J,{title:e("home-view.boolean-algebra-interpreter",{ns:"views"}),appHeader:n.jsx(T,{useFlexGap:!0,flexDirection:"row",flexWrap:"wrap",spacing:2,justifyContent:"flex-end",width:"100%",children:qr.map((o,s)=>{const a=o.localeCompare(t.language)===0?900:void 0;return n.jsx(y,{fontWeight:a,onClick:()=>t.changeLanguage(o),sx:{cursor:"pointer",textTransform:"capitalize"},children:e(`home-view.lang.${o}`,{ns:"views"})},"lang"+s)})}),children:n.jsx(ie,{container:!0,columns:{xs:1,md:2},spacing:4,children:Vr.map(({id:o,icon:s,palette:a},l)=>{const i=`/${o}`,{light:u,dark:p}=a.primary;return n.jsx(ie,{size:1,children:n.jsx(be,{elevation:0,sx:{height:"100%",backgroundColor:u,color:p,transition:"all 0.2s ease-out","&:hover":{boxShadow:20}},children:n.jsxs(Ee,{disableRipple:!0,component:le,to:i,sx:{padding:2,height:"100%"},children:[n.jsx(se,{sx:{padding:{xs:2,md:4},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(y,{sx:{fontSize:r.typography.h1.fontSize},children:s})}),n.jsx(Oe,{title:e(o,{ns:"nav"}),slotProps:{title:{sx:{fontWeight:900,textTransform:"capitalize"}}}}),n.jsx(se,{children:n.jsx(y,{children:e(`home-view.cards.${o}.desc`,{ns:"views"})})})]})})},"card"+l)})})})},oe=new Map,N=(e,t,r)=>{oe.has(e)||oe.set(e,[]),oe.get(e).push({isApplicable:t,rewrite:r})};N(d.IFF,(e,t)=>[d.NOT,d.AND,d.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(S(t,r),S(g(t),g(r)))});N(d.IFF,(e,t)=>[d.NOT,d.OR,d.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(R(g(P(t,r)),g(P(r,t))))});N(d.IFF,(e,t)=>[d.AND,d.NOT].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(S(g(S(t,r)),g(S(g(t),g(r)))))});N(d.IFF,(e,t)=>[d.NOT,d.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(g(R(g(t),g(r))),g(R(t,r)))});N(d.IFF,(e,t)=>[d.NOT,d.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(P(P(t,r),g(P(t,r))))});N(d.IMPL,(e,t)=>[d.NOT,d.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(S(t,g(r)))});N(d.IMPL,(e,t)=>[d.NOT,d.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(g(t),r)});N(d.AND,(e,t)=>[d.NOT,d.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(R(g(t),g(r)))});N(d.AND,(e,t)=>[d.NOT,d.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(P(t,g(r)))});N(d.OR,(e,t)=>[d.NOT,d.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(S(g(t),g(r)))});N(d.OR,(e,t)=>[d.NOT,d.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return P(g(t),r)});N(d.OR,(e,t)=>!t.has(d.IMPL)||e.nodeType!==c.BINARY?!1:e.left.nodeType===c.UNARY,e=>{const{left:t,right:r}=e;return P(t.operand,r)});N(d.OR,(e,t)=>!t.has(d.IMPL)||e.nodeType!==c.BINARY?!1:e.right.nodeType===c.UNARY,e=>{const{left:t,right:r}=e;return P(r.operand,t)});const Gr=e=>oe.get(e)??[],U=(e,t)=>{switch(e.nodeType){case c.CONST:case c.IDEN:return e;case c.UNARY:{const r=U(e.operand,t);return r===null?null:r.nodeType===c.UNARY&&r.operator===d.NOT?r.operand:g(r)}case c.BINARY:{const r=U(e.left,t);if(r===null)return null;const o=U(e.right,t);if(o===null)return null;if(t.has(e.operator))return D(e.operator,r,o);const s=Gr(e.operator);for(const a of s)if(a.isApplicable(e,t))return U(a.rewrite(D(e.operator,r,o)),t);return null}}},Xr=(e,t)=>{const r=De(e);if(r.nodeType===c.CONST||r.nodeType===c.IDEN)return{ok:!0,tree:r};const o=U(e,t);return o===null?{ok:!1}:{ok:!0,tree:o}},Kr=e=>{const{result:t,originalLatex:r,itemNum:o}=e,{t:s}=b("views",{keyPrefix:"rewriter-view.cards.output"});return t.ok?n.jsx(H,{primary:n.jsx(j,{children:s("text.formula-is-expressed-as-in-the-desired-basis",{formula:`$$${r}\\tag{${o}}$$`,result:`$$\\boxed{${t.latex}}$$`})}),secondary:n.jsx(xe,{exprTree:t.tree,slotProps:{container:{maxHeight:"40vh"}}})}):n.jsx(H,{primary:n.jsx(j,{children:s("text.formula-cannot-be-expressed-in-the-desired-basis",{formula:`$$${r} \\tag{${o}}$$`})}),secondary:n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("infos.truth-table-is-not-available")})})})},Zr=e=>{const{items:t,basis:r,onBasisChange:o}=e,{t:s}=b("views",{keyPrefix:"rewriter-view.cards"}),{typography:a}=$(),l=h.useMemo(()=>t.filter(i=>i.ok),[t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.no-valid-formula-to-display")})}),l.length>0&&n.jsxs(h.Fragment,{children:[n.jsx(At,{row:!0,children:Object.values(d).map((i,u)=>n.jsx(ae,{checked:r.has(i),onChange:(p,m)=>o(i,m),control:n.jsx(Ot,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0}),label:n.jsx(j,{children:`$${q(i)}$`})},"operator"+u))}),t.map((i,u)=>{if(!i.ok)return null;const p=Xr(i.originalTree,r),m=u+1;return n.jsx(Kr,{itemNum:m,originalLatex:i.inputInterpretationLatex,result:p.ok?{ok:!0,tree:G(p.tree),latex:L(p.tree)}:{ok:!1}},"result"+u)})]})]})},Jr=()=>{const{userInput:e,items:t}=ue(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(e),[l,i]=h.useState(()=>{const f=new Map;for(const v of Object.values(d))f.set(v,!0);return f}),u=h.useMemo(()=>new Set([...l.entries()].filter(([,f])=>f).map(([f])=>f)),[l]);h.useEffect(()=>{a(e)},[e]);const p=h.useCallback(()=>{r({input:s},{method:"GET",action:"/rewriter"})},[r,s]),m=h.useCallback((f,v)=>{i(x=>{const w=new Map(x);return w.set(f,v),w})},[]);return n.jsx(J,{title:o("rewriter"),appHeader:n.jsx(he,{}),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"not (p and q) iff (not p or not q)",onSubmit:p}),t.length>0&&n.jsx(Zr,{basis:u,items:t,onBasisChange:m})]})})},Qr=n.jsx(Lt,{styles:{tableLayout:"auto",borderCollapse:"collapse",html:{scrollBehavior:"smooth"}}}),en=Mt([{index:!0,element:n.jsx(Hr,{})},{path:"/",errorElement:n.jsx(Nr,{}),children:[{path:"/evaluator",element:n.jsx(B,{theme:sr,children:n.jsx(Wr,{})}),loader:tr},{path:"/comparator",element:n.jsx(B,{theme:ir,children:n.jsx(Sr,{})}),loader:er},{path:"/checker",element:n.jsx(B,{theme:ar,children:n.jsx(Rr,{})}),loader:Qt},{path:"/rewriter",element:n.jsx(B,{theme:lr,children:n.jsx(Jr,{})}),loader:rr}]}],{basename:"/"}),tn=()=>n.jsxs(B,{theme:or,children:[n.jsx(Pt,{}),Qr,n.jsx(Ft,{router:en})]}),rn={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.",confirm:"I understand"}},editor:{run:"Run",copy:"Copy",copied:"Copied"},alert:{notice:"Notice"},"input-display":{"empty-string":"Empty",warnings:{"the-following-input-are-invalid":"The following expressions appear to be invalid or incorrect."}},"symbol-config":{true:"True",false:"False"},graph:{center:"Center",true:"True",false:"False",playback:{forward:"Forward",previous:"Previous",play:"Play",pause:"Pause",replay:"Replay"}}},nn={home:"Home",evaluator:"Evaluator",rewriter:"Rewriter",checker:"Tautology checker",comparator:"Comparator"},on={"error-view":{title:"Uh oh, that's not good...","return-home":"Return to home page"},"evaluator-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{true:"true",false:"false",title:"Result","formula-evaluates-to-value":"{{formula}} {{value}}.",infos:{"no-valid-formula-to-display":"There is no valid formula to display."}},"step-by-step":{true:"true",false:"false",title:"Step-by-step Evaluation","tab-item":"Expression ({{num}})","no-evaluation-step-to-display":"No evaluation step to display.","therefore-formula-is-value":"Therefore, the formula {{formula}} {{value}}","step-x-of-y":"Step {{current}} of {{total}}","by-truth-table-formula-is-value":"By the truth table of {{operator}}, {{formula}} is {{value}} as answer for this step.","consider-the-formula":"Consider the formula {{formula}} in this step.","given-variable-is-value":"Given {{variable}} is true, substitute {{variable}} with true in {{formula}} as simplified formula.","from-previous-step-substitute-into-formula":"From {{step}}, {{formula}} is {{value}}. Substitute into {{current}} to obtain {{result}} as simplified formula.",infos:{"no-valid-formula-to-display":"There is no valid formula to display step-by-step evaluation."}}}},"rewriter-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{title:"Result",text:{"formula-cannot-be-expressed-in-the-desired-basis":"{{formula}} cannot be expressed in the desired basis.","formula-is-expressed-as-in-the-desired-basis":"{{formula}} {{result}}"},infos:{"no-valid-formula-to-display":"There is no valid formula to display.","truth-table-is-not-available":"The truth table for this formula is not available."}}}},"checker-view":{cards:{"input-interpretation":{title:"Input Interpretation"},output:{title:"Result",text:{"formula-is-value":"{{formula}} {{value}}",tautology:"tautology",contradiction:"contradiction",contingent:"contingent on {{variables}}"},warnings:{"no-formula-to-display":"There is no valid formula to display."}}}},"home-view":{lang:{en:"ENGLISH",th:"THAI"},cards:{comparator:{desc:"Compare expressions to see which one of them are equivalent."},evaluator:{desc:"Evaluate expressions according to given truth values."},rewriter:{desc:"Transform an expression into a different basis."},checker:{desc:"Check if an expression is always true, always false, or in-between."}},"boolean-algebra-interpreter":"Boolean algebra interpreter"},"comparator-view":{cards:{output:{title:"Result",text:{equivalent:"Equivalent","not-equivalent":"Not equivalent","formulas-are-value":"{{first}} {{second}} {{value}}"},warnings:{"not-enough-formula-for-comparison":"There is not enough valid formula to perform comparisons."}},"input-interpretation":{title:"Input Interpretation"}}}},sn={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"ตารางค่าความจริงของประพจน์นี้ถูกซ่อนอยู่เพราะตารางมีขนาดใหญ่ กดปุ่มด้านล่างเพื่อแสดงตารางค่าความจริง แต่อาจใช้เวลานานในการแสดงตารางและโปรแกรมอาจะตอบสนองช้าลง",confirm:"แสดงตารางความจริง"}},editor:{run:"คำนวณ",copy:"คำลอก",copied:"คัดลองสำเร็จ"},alert:{notice:"แจ้งเตือน"},"input-display":{"empty-string":"ประโยคนี้ว่าง",warnings:{"the-following-input-are-invalid":"ประโยคต่อไปนี้มีข้อผิดพลาด โปรดตรวจสอบประโยคเหล่านี้อีกครั้งแล้วลองใหม่"}},"symbol-config":{true:"จริง",false:"เท็จ"},graph:{center:"ศูนย์กลาง",true:"จริง",false:"เท็จ",playback:{forward:"เดินหน้า",previous:"ถอยหลัง",play:"เล่น",pause:"หยุด",replay:"เล่นใหม่"}}},an={home:"หน้าหลัก",evaluator:"คำนวณค่าความจริง",rewriter:"เปลี่ยนฐานประพจน์",checker:"ตรวจสอบสัจนิรันด์",comparator:"เปรียบเทียบสมมูล"},ln={"error-view":{title:"เกิดข้อผิดพลาดขึ้น","return-home":"กลับหน้าหลัก"},"evaluator-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{true:"เป็นจริง",false:"เป็นเท็จ",title:"ผลลัพท์","formula-evaluates-to-value":"{{formula}} {{value}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}},"step-by-step":{true:"จริง",false:"เท็จ",title:"ลำดับขั้นตอนในการคำนวณ","tab-item":"ประพจน์ ({{num}})","no-evaluation-step-to-display":"ไม่มีลำดับการคำนวณให้แสดง","therefore-formula-is-value":"ดังนั้น ประพจน์ {{formula}} เป็น{{value}}","step-x-of-y":"ลำดับการคำนวณขั้นที่ {{current}} จาก {{total}}","by-truth-table-formula-is-value":"อ้างจากตารางค่าความจริงของตัวเชื่อม {{operator}} สรุปได้ว่า {{formula}} เป็น{{value}}","consider-the-formula":"คำนวณประพจน์ {{formula}}","given-variable-is-value":"จากที่กำหนดไว้ว่า {{variable}} เป็น{{value}} แทนที่ {{variable}} ด้วย{{value}}ลงในประพจน์ {{formula}}","from-previous-step-substitute-into-formula":"จากลำดับการคำนวณขั้นที่ {{step}} ประพจน์ {{formula}} เป็น{{value}} แทนที่ {{current}} ลงในประพจน์จึงได้ {{result}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}}}},"rewriter-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลลัพท์การเปลี่ยนฐาน",text:{"formula-cannot-be-expressed-in-the-desired-basis":"ไม่สามารถเปลี่ยนประพจน์ {{formula}} ไปสู่ฐานที่ต้องการได้","formula-is-expressed-as-in-the-desired-basis":"{{formula}} {{result}} "},infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง","truth-table-is-not-available":"ตารางค่าความจริงของประพจน์ที่ไม่พร้อมที่จะแสดง"}}}},"checker-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลการตรวจสอบ",text:{"formula-is-value":"{{formula}} {{value}}",contingent:"ค่าความจริงขึ้นอยู่กับ {{variables}}",tautology:"เป็นสัจนิรันด์",contradiction:"เป็นเท็จเสมอ"},infos:{"no-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง"}}}},"home-view":{lang:{en:"อังกฤษ",th:"ไทย"},cards:{comparator:{desc:"เปรียบเทียบประพจน์เพื่อให้ว่าประพจน์ไหนบ้างที่สมมูลกัน"},evaluator:{desc:"คำนวณหาค่าความจริงของประพจน์ด้วยการแทนที่ค่าความจริงของนิพจน์ลงไปในประพจน์"},rewriter:{desc:"เปลี่ยนฐานประพจน์ไปสู่อีกฐานแต่รักษาค่าความจริงไว้"},checker:{desc:"ตรวจสอบว่าประพจน์เป็นสัจนิรันด์ เป็นเท็จเสมอ หรือไม่ใช่ทั้งสัจนิรันด์และไม่ใช่ทั้งเท็จเสมอ"}},"boolean-algebra-interpreter":"ตัวช่วยคำนวณตรรกศาสตร์"},"comparator-view":{cards:{output:{title:"ผลลัพท์การเปรียบเทียบ",text:{equivalent:"สมมูลกัน","not-equivalent":"ไม่สมมูลกัน","formulas-are-value":"{{first}} {{second}} {{value}}"},infos:{"not-enough-formula-for-comparison":"จำนวณประพจน์ไม่เพียงพอที่จะเปรียบเทียบ ต้องการอย่างน้อยสองประพจน์ที่ถูกต้องก่อนที่จะเริ่มเปรียบเทียบได้"}},"input-interpretation":{title:"ผลการอ่านประโยค"}}}};qt.use(Gt).use(Ht).use(Bt).init({detection:{lookupLocalStorage:"language"},resources:{en:{components:rn,nav:nn,views:on},th:{views:ln,nav:an,components:sn}},debug:!0});Xt.createRoot(document.getElementById("root")).render(n.jsx(h.StrictMode,{children:n.jsx(tn,{})}));
//# sourceMappingURL=index-BlyqKzNp.js.map
