{"version":3,"file":"index-DIjcDB8q.js","sources":["../../src/types/ast.ts","../../src/assets/ohm.ts","../../src/core/interpreter/parser.ts","../../src/components/StyledLatex.tsx","../../src/components/StyledTooltipButton.tsx","../../src/components/EditorRibbonInsert.tsx","../../src/components/EditorRibbon.tsx","../../src/components/EditorTextField.tsx","../../src/components/Editor.tsx","../../src/core/tree/conversion.ts","../../src/components/LatexDisplay.tsx","../../src/core/tree/expr/evaluate.ts","../../src/core/tree/expr/latex.ts","../../src/components/PlaygroundDialogConfig.tsx","../../src/components/PlaygroundDialog.tsx","../../src/components/StyledIconButton.tsx","../../src/components/PlaygroundPlaybackControl.tsx","../../src/components/StyledAlert.tsx","../../src/components/StyledFAB.tsx","../../src/components/TreeGraphLink.tsx","../../src/components/TreeGraphNode.tsx","../../src/components/TreeGraph.tsx","../../src/components/Playground.tsx","../../src/locales/en/translation.ts","../../src/locales/th/translation.ts","../../src/locales/config.ts","../../src/views/EditorView.tsx","../../src/assets/blogs/UserManual/en.txt","../../src/assets/blogs/UserManual/th.txt","../../src/components/StyledMarkdown.tsx","../../src/views/TheoremBlogView.tsx","../../src/App/theme.ts","../../src/App/App.tsx","../../src/main.tsx"],"sourcesContent":["export enum SyntaxTreeNodeKind {\r\n  CONST = \"CONSTANT\",\r\n  IDEN = \"IDEN\",\r\n  UNARY = \"UNARY\",\r\n  BINARY = \"BINARY\",\r\n}\r\n\r\nexport enum Operator {\r\n  IFF = \"IFF\",\r\n  IMPL = \"IMPL\",\r\n  AND = \"AND\",\r\n  OR = \"OR\",\r\n  NOT = \"NOT\",\r\n}\r\n\r\nexport type SyntaxTreeNodeConst = {\r\n  nodeType: SyntaxTreeNodeKind.CONST;\r\n  value: boolean;\r\n};\r\nexport type SyntaxTreeNodeIden = {\r\n  nodeType: SyntaxTreeNodeKind.IDEN;\r\n  symbol: string;\r\n};\r\nexport type SyntaxTreeNodeBinary = {\r\n  nodeType: SyntaxTreeNodeKind.BINARY;\r\n  operator: Exclude<Operator, Operator.NOT>;\r\n  left: SyntaxTree;\r\n  right: SyntaxTree;\r\n};\r\nexport type SyntaxTreeNodeUnary = {\r\n  nodeType: SyntaxTreeNodeKind.UNARY;\r\n  operator: Operator.NOT;\r\n  operand: SyntaxTree;\r\n};\r\n\r\nexport type SyntaxTree =\r\n  | SyntaxTreeNodeBinary\r\n  | SyntaxTreeNodeUnary\r\n  | SyntaxTreeNodeIden\r\n  | SyntaxTreeNodeConst;\r\n\r\nexport type SymbolTable = Map<string, boolean>;\r\n","import {\r\n  Operator,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/ast\";\r\nimport * as ohm from \"ohm-js\";\r\n\r\nconst collectBinaryNodes = (\r\n  operator: Exclude<Operator, Operator.NOT>,\r\n  left: SyntaxTree,\r\n  right: SyntaxTree[]\r\n) => {\r\n  let node: SyntaxTree = {\r\n    nodeType: SyntaxTreeNodeKind.BINARY,\r\n    operator,\r\n    left,\r\n    right: right[0],\r\n  };\r\n  for (let i = 1; i < right.length; i++) {\r\n    node = {\r\n      nodeType: SyntaxTreeNodeKind.BINARY,\r\n      operator,\r\n      left: node,\r\n      right: right[i],\r\n    };\r\n  }\r\n  return node;\r\n};\r\n\r\nexport const grammar = ohm.grammar(String.raw`\r\nBooleanExpressions {\r\n  Expression\r\n    = Iff \r\n\r\n  Iff\r\n    = Implies (iff_sym Implies)*\r\n\r\n  Implies\r\n    = Or (implies_sym Or)*\r\n\r\n  Or\r\n    = And (or_sym And)*\r\n\r\n  And\r\n    = Not (and_sym Not)*\r\n\r\n  Not\r\n    = not_sym Not                   --not\r\n    | Primary\r\n\r\n  Primary\r\n    = \"(\" Expression \")\" --group\r\n    | true_sym    --lit_true\r\n    | false_sym   --lit_false\r\n    | identifier  --variable\r\n\r\n  identifier\r\n    = letter+\r\n  \r\n  iff_sym \r\n    = \"iff\"\r\n    | \"⇔\"\r\n  \r\n  implies_sym \r\n    = \"implies\"\r\n    | \"⇒\"\r\n  \r\n  or_sym\r\n    = \"or\"\r\n    | \"∨\"\r\n\r\n  and_sym\r\n    = \"and\"\r\n    | \"∧\"\r\n  \r\n  not_sym\r\n    = \"not\"\r\n    | \"¬\"\r\n\r\n  true_sym\r\n    = \"⊤\"\r\n    | \"T\"\r\n    | \"1\"\r\n\r\n  false_sym\r\n    = \"⊥\"\r\n    | \"F\"\r\n    | \"0\"\r\n}\r\n`);\r\n\r\nexport const semantics = grammar.createSemantics();\r\nsemantics.addOperation(\"buildTree\", {\r\n  Expression(e) {\r\n    return e.buildTree();\r\n  },\r\n\r\n  Iff(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IFF,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Implies(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IMPL,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Or(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.OR,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  And(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.AND,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Not_not(_, expr) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.UNARY,\r\n      operator: Operator.NOT,\r\n      operand: expr.buildTree(),\r\n    };\r\n  },\r\n\r\n  Primary_group(_open, expr, _close) {\r\n    return expr.buildTree();\r\n  },\r\n\r\n  Primary_lit_true(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: true,\r\n    };\r\n  },\r\n\r\n  Primary_lit_false(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.CONST,\r\n      value: false,\r\n    };\r\n  },\r\n\r\n  Primary_variable(id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeKind.IDEN,\r\n      symbol: id.sourceString,\r\n    };\r\n  },\r\n\r\n  identifier(_) {\r\n    return this.sourceString;\r\n  },\r\n\r\n  _iter(...children) {\r\n    return children.map((n) => n.buildTree());\r\n  },\r\n});\r\n","import { grammar, semantics } from \"$assets/ohm\";\r\nimport { SyntaxTree } from \"$types/ast\";\r\nimport { Maybe } from \"$types/common\";\r\n\r\nexport const parse = (\r\n  content: string\r\n): Maybe<SyntaxTree, string> => {\r\n  const m = grammar.match(content);\r\n  if (m.succeeded()) {\r\n    const tree = semantics(m).buildTree();\r\n    return { ok: true, data: tree };\r\n  } else {\r\n    return {\r\n      ok: false,\r\n      other: m.shortMessage ?? \"\",\r\n    };\r\n  }\r\n};\r\n","import { Typography } from \"@mui/material\";\r\nimport katex, { KatexOptions } from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\n\r\ntype StyledLatexProps = {\r\n  tex: string;\r\n  options?: KatexOptions;\r\n};\r\nexport const StyledLatex: FC<StyledLatexProps> = (\r\n  props\r\n) => {\r\n  const { tex, options } = props;\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      katex.render(tex, ref.current, options);\r\n    }\r\n  }, [ref, tex, options]);\r\n\r\n  return (\r\n    <Typography\r\n      ref={ref}\r\n      sx={{\r\n        textWrap: \"nowrap\",\r\n      }}\r\n      component=\"span\"\r\n      overflow=\"auto\"\r\n    />\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  ButtonProps,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, ReactNode } from \"react\";\r\n\r\ntype StyledTooltipButtonProps = {\r\n  onClick: () => void;\r\n  title: string;\r\n  variant: ButtonProps[\"variant\"];\r\n  children: ReactNode;\r\n  startIcon?: ReactNode;\r\n};\r\nexport const StyledTooltipButton: FC<\r\n  StyledTooltipButtonProps\r\n> = (props) => {\r\n  const { children, variant, startIcon, onClick, title } =\r\n    props;\r\n\r\n  return (\r\n    <Tooltip title={<Typography>{title}</Typography>}>\r\n      <Button\r\n        disableElevation\r\n        variant={variant}\r\n        startIcon={startIcon}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </Button>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import { ButtonGroup } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledLatex } from \"./StyledLatex\";\r\nimport { StyledTooltipButton } from \"./StyledTooltipButton\";\r\n\r\nconst OPERATOR = [\r\n  {\r\n    name: \"negation\",\r\n    label: \"\\\\lnot\",\r\n    insertChar: \"\\u{00AC}\",\r\n  },\r\n  {\r\n    name: \"conjunction\",\r\n    label: \"\\\\land\",\r\n    insertChar: \"\\u{2227}\",\r\n  },\r\n  {\r\n    name: \"disjunction\",\r\n    label: \"\\\\lor\",\r\n    insertChar: \"\\u{2228}\",\r\n  },\r\n  {\r\n    name: \"implication\",\r\n    label: \"\\\\implies\",\r\n    insertChar: \"\\u{21D2}\",\r\n  },\r\n  {\r\n    name: \"equivalence\",\r\n    label: \"\\\\iff\",\r\n    insertChar: \"\\u{21D4}\",\r\n  },\r\n];\r\n\r\ntype EditorRibbonInsertProps = {\r\n  onInsertChar: (char: string) => void;\r\n};\r\nexport const EditorRibbonInsert: FC<\r\n  EditorRibbonInsertProps\r\n> = (props) => {\r\n  const { onInsertChar } = props;\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"common.connectives\",\r\n  });\r\n\r\n  return (\r\n    <ButtonGroup\r\n      disableElevation\r\n      variant=\"outlined\"\r\n    >\r\n      {OPERATOR.map((btn, index) => (\r\n        <StyledTooltipButton\r\n          variant=\"outlined\"\r\n          key={\"insert-btn-\" + index}\r\n          title={t(btn.name)}\r\n          onClick={() => onInsertChar(btn.insertChar)}\r\n        >\r\n          <StyledLatex tex={btn.label} />\r\n        </StyledTooltipButton>\r\n      ))}\r\n    </ButtonGroup>\r\n  );\r\n};\r\n","import { Toolbar } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { EditorRibbonInsert } from \"./EditorRibbonInsert\";\r\n\r\ntype EditorRibbonProps = {\r\n  onInsertChar: (value: string) => void;\r\n};\r\nexport const EditorRibbon: FC<EditorRibbonProps> = (\r\n  props\r\n) => {\r\n  const { onInsertChar } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      variant=\"dense\"\r\n      disableGutters\r\n      sx={{\r\n        gap: 1,\r\n        display: \"flex\",\r\n        alignItems: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <EditorRibbonInsert onInsertChar={onInsertChar} />\r\n    </Toolbar>\r\n  );\r\n};\r\n","import { TextField } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\ntype EditorTextFieldProps = {\r\n  value: string;\r\n  rows: number;\r\n  onChange: (value: string) => void;\r\n  onKeyDown: (e: React.KeyboardEvent) => void;\r\n  placeholder?: string;\r\n};\r\nexport const EditorTextField: FC<EditorTextFieldProps> = (\r\n  props\r\n) => {\r\n  const { placeholder, rows, value, onChange, onKeyDown } =\r\n    props;\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      multiline\r\n      rows={rows}\r\n      value={value}\r\n      placeholder={placeholder}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      onKeyDown={onKeyDown}\r\n      slotProps={{\r\n        input: {\r\n          autoComplete: \"off\",\r\n          autoCorrect: \"off\",\r\n          autoCapitalize: \"none\",\r\n          spellCheck: false,\r\n          sx: {\r\n            fontFamily: \"monospace\",\r\n          },\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { PlayArrowRounded } from \"@mui/icons-material\";\r\nimport { Stack, Toolbar, Typography } from \"@mui/material\";\r\nimport { FC, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { EditorRibbon } from \"./EditorRibbon\";\r\nimport { EditorTextField } from \"./EditorTextField\";\r\nimport { StyledTooltipButton } from \"./StyledTooltipButton\";\r\n\r\ntype EditorProps = {\r\n  // operators: Map<Operator, boolean>;\r\n  onExecute: (value: string) => void;\r\n  // onOperatorChange: (k: Operator, v: boolean) => void;\r\n};\r\nexport const Editor: FC<EditorProps> = (props) => {\r\n  const {\r\n    onExecute,\r\n    // onOperatorChange,\r\n    // operators,\r\n  } = props;\r\n  const { t } = useTranslation();\r\n\r\n  const [value, setValue] = useState(\r\n    \"not (p and q) iff (not p) or (not q)\"\r\n  );\r\n\r\n  const handleExecute = () => {\r\n    onExecute(value);\r\n  };\r\n\r\n  const handleInsertChar = (char: string) => {\r\n    setValue((prev) => `${prev} ${char}`);\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\" && e.ctrlKey) {\r\n      handleExecute();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <EditorRibbon\r\n        // onExecute={handleExecute}\r\n        onInsertChar={handleInsertChar}\r\n      />\r\n      <EditorTextField\r\n        placeholder=\"ex. not (p and q) iff (not p) or (not q)\"\r\n        value={value}\r\n        onChange={setValue}\r\n        onKeyDown={handleKeyDown}\r\n        rows={5}\r\n      />\r\n      <Toolbar\r\n        variant=\"dense\"\r\n        disableGutters\r\n        sx={{\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          direction: \"row\",\r\n          gap: 4,\r\n        }}\r\n      >\r\n        <StyledTooltipButton\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          onClick={handleExecute}\r\n          title={\"CTRL + ENTER\"}\r\n        >\r\n          {t(\"editor.run\")}\r\n        </StyledTooltipButton>\r\n        <Typography\r\n          color=\"primary\"\r\n          component=\"a\"\r\n          href=\"#user-manual\"\r\n          sx={{\r\n            textDecorationLine: \"underline\",\r\n          }}\r\n        >\r\n          {t(\"editor.howToUse\")}\r\n        </Typography>\r\n      </Toolbar>\r\n      {/* <EditorSimplConfigGroup\r\n        values={operators}\r\n        onChange={onOperatorChange}\r\n      /> */}\r\n    </Stack>\r\n  );\r\n};\r\n","import {\r\n  Operator,\r\n  SymbolTable,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/ast\";\r\nimport {\r\n  ExprTreeBinary,\r\n  ExprTreeConst,\r\n  ExprTreeIden,\r\n  ExprTreeUnary,\r\n} from \"$types/graph\";\r\n\r\nconst OPERATOR_REPR: Record<Operator, string> = {\r\n  [Operator.AND]: `\\\\land`,\r\n  [Operator.OR]: `\\\\lor`,\r\n  [Operator.IFF]: `\\\\iff`,\r\n  [Operator.IMPL]: `\\\\implies`,\r\n  [Operator.NOT]: `\\\\lnot`,\r\n};\r\ntype EvalFn = (t: SymbolTable) => boolean;\r\nconst OPERATOR_EVAL_FN: Record<\r\n  Exclude<Operator, Operator.NOT>,\r\n  (l: EvalFn, r: EvalFn) => (t: SymbolTable) => boolean\r\n> = {\r\n  [Operator.AND]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) && r(t),\r\n  [Operator.OR]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) || r(t),\r\n  [Operator.IMPL]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      !l(t) || r(t),\r\n  [Operator.IFF]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) === r(t),\r\n};\r\n\r\nconst _syntaxTreeToLatex = (tree: SyntaxTree): string => {\r\n  const { nodeType } = tree;\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.IDEN) {\r\n    return tree.symbol;\r\n  }\r\n  if (nodeType === SyntaxTreeNodeKind.CONST) {\r\n    return tree.value ? `\\\\top` : `\\\\bot`;\r\n  }\r\n\r\n  if (nodeType === SyntaxTreeNodeKind.UNARY) {\r\n    const { operand } = tree;\r\n    const value = _syntaxTreeToLatex(operand);\r\n    if (\r\n      operand.nodeType === SyntaxTreeNodeKind.IDEN ||\r\n      operand.nodeType === SyntaxTreeNodeKind.CONST\r\n    ) {\r\n      return `\\\\lnot ${value}`;\r\n    }\r\n    return `\\\\lnot (${value})`;\r\n  }\r\n\r\n  const { left, right } = tree;\r\n\r\n  let labelLeft = _syntaxTreeToLatex(left);\r\n  if (left.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelLeft = `( ${labelLeft} )`;\r\n  }\r\n\r\n  let labelRight = _syntaxTreeToLatex(right);\r\n  if (right.nodeType === SyntaxTreeNodeKind.BINARY) {\r\n    labelRight = `( ${labelRight} )`;\r\n  }\r\n\r\n  const repr = OPERATOR_REPR[tree.operator];\r\n  return `${labelLeft} ${repr} ${labelRight}`;\r\n};\r\n\r\nexport const syntaxTreeToLatex = (tree: SyntaxTree) => {\r\n  return _syntaxTreeToLatex(tree);\r\n};\r\n\r\nconst _syntaxTreetoExprTree = (\r\n  tree: SyntaxTree,\r\n  orderStart: number\r\n) => {\r\n  const { nodeType } = tree;\r\n\r\n  switch (nodeType) {\r\n    case SyntaxTreeNodeKind.CONST: {\r\n      const node: ExprTreeConst = {\r\n        eval: (_) => tree.value,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.value ? \"\\\\top\" : `\\\\bot`,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.IDEN: {\r\n      const node: ExprTreeIden = {\r\n        eval: (t) => t.get(tree.symbol) ?? false,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.symbol,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _syntaxTreetoExprTree(\r\n        tree.operand,\r\n        orderStart\r\n      );\r\n      const node: ExprTreeUnary = {\r\n        repr: OPERATOR_REPR[tree.operator],\r\n        child,\r\n        nodeType,\r\n        eval: (t) => !child.eval(t),\r\n        order: child.order + 1,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      const left = _syntaxTreetoExprTree(\r\n        tree.left,\r\n        orderStart\r\n      );\r\n      const right = _syntaxTreetoExprTree(\r\n        tree.right,\r\n        left.order\r\n      );\r\n      const node: ExprTreeBinary = {\r\n        nodeType,\r\n        eval: OPERATOR_EVAL_FN[tree.operator](\r\n          left.eval,\r\n          right.eval\r\n        ),\r\n        left,\r\n        right,\r\n        order: right.order + 1,\r\n        repr: OPERATOR_REPR[tree.operator],\r\n      };\r\n      return node;\r\n    }\r\n  }\r\n};\r\n\r\nexport const syntaxTreetoExprTree = (tree: SyntaxTree) => {\r\n  return _syntaxTreetoExprTree(tree, 1);\r\n};\r\n","import {\r\n  alpha,\r\n  Box,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { StyledLatex } from \"./StyledLatex\";\r\n\r\ntype LatexDisplayProps = {\r\n  text: string | null;\r\n  emptyText: string;\r\n  error?: boolean;\r\n};\r\nexport const LatexDisplay: FC<LatexDisplayProps> = (\r\n  props\r\n) => {\r\n  const { text, emptyText, error } = props;\r\n  const { palette, shape } = useTheme();\r\n\r\n  const bgColor = error\r\n    ? alpha(palette.error.light, 0.3)\r\n    : alpha(palette.secondary.light, 0.4);\r\n  return (\r\n    <Box\r\n      paddingX={2}\r\n      paddingY={0.5}\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      minHeight={100} // Otherwise the size of the box will be smaller in its empty state\r\n      sx={{\r\n        borderRadius: shape.borderRadius,\r\n        backgroundColor: bgColor,\r\n      }}\r\n    >\r\n      {text === null ? (\r\n        <Typography\r\n          component=\"span\"\r\n          overflow=\"auto\"\r\n        >\r\n          <pre>{emptyText}</pre>\r\n        </Typography>\r\n      ) : (\r\n        <StyledLatex tex={text} />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n","import { SyntaxTreeNodeKind } from \"$types/ast\";\r\nimport { ExprTree } from \"$types/graph\";\r\n\r\nconst _exprTreeCollectSymbols = (\r\n  tree: ExprTree,\r\n  symbols: Set<string>\r\n): void => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      symbols.add(tree.repr);\r\n      return;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      _exprTreeCollectSymbols(tree.child, symbols);\r\n      return;\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      _exprTreeCollectSymbols(tree.left, symbols);\r\n      _exprTreeCollectSymbols(tree.right, symbols);\r\n      return;\r\n  }\r\n};\r\n\r\nexport const exprTreeCollectSymbols = (\r\n  exprTree: ExprTree\r\n): Set<string> => {\r\n  const symbols = new Set<string>();\r\n  _exprTreeCollectSymbols(exprTree, symbols);\r\n  return symbols;\r\n};\r\n","import { SyntaxTreeNodeKind } from \"$types/ast\";\r\nimport { ExprTree } from \"$types/graph\";\r\n\r\nconst _exprTreeToLatex = (tree: ExprTree): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return tree.repr;\r\n    case SyntaxTreeNodeKind.UNARY: {\r\n      const child = _exprTreeToLatex(tree.child);\r\n      if (\r\n        tree.child.nodeType === SyntaxTreeNodeKind.BINARY ||\r\n        tree.child.nodeType === SyntaxTreeNodeKind.UNARY\r\n      ) {\r\n        return `${tree.repr} ( ${child} )`;\r\n      }\r\n      return `${tree.repr} ${child}`;\r\n    }\r\n    case SyntaxTreeNodeKind.BINARY: {\r\n      let left = _exprTreeToLatex(tree.left);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeKind.BINARY ||\r\n        tree.left.nodeType === SyntaxTreeNodeKind.UNARY\r\n      ) {\r\n        left = `( ${left} )`;\r\n      }\r\n\r\n      let right = _exprTreeToLatex(tree.right);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeKind.BINARY ||\r\n        tree.right.nodeType === SyntaxTreeNodeKind.UNARY\r\n      ) {\r\n        right = `( ${right} )`;\r\n      }\r\n\r\n      return `${left} ${tree.repr} ${right}`;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeToLatex = (exprTree: ExprTree) => {\r\n  return _exprTreeToLatex(exprTree);\r\n};\r\n","import {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Radio,\r\n  RadioGroup,\r\n  Stack,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledLatex } from \"./StyledLatex\";\r\n\r\ntype PlaygroundDialogConfigProps = {\r\n  active: Set<string>;\r\n  table: Map<string, boolean>;\r\n  onChange: (k: string, v: boolean) => void;\r\n};\r\nexport const PlaygroundDialogConfig: FC<\r\n  PlaygroundDialogConfigProps\r\n> = (props) => {\r\n  const { active, table, onChange } = props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"common\",\r\n  });\r\n  const propositionText = t(\"proposition\");\r\n\r\n  const selected = [...active];\r\n  selected.toSorted();\r\n  return (\r\n    <Stack\r\n      useFlexGap\r\n      spacing={1}\r\n      width=\"100%\"\r\n    >\r\n      {selected.map((sym) => (\r\n        <FormControl\r\n          key={\"symbol-\" + sym}\r\n          fullWidth\r\n        >\r\n          <FormLabel\r\n            sx={{\r\n              width: \"100%\",\r\n              overflowX: \"auto\",\r\n            }}\r\n          >\r\n            <StyledLatex\r\n              tex={`\\\\text{${propositionText}: \\`\\`$${sym}$''}`}\r\n            />\r\n          </FormLabel>\r\n          <RadioGroup\r\n            row\r\n            value={table.get(sym) ? \"1\" : \"0\"}\r\n            onChange={(e) =>\r\n              onChange(sym, e.target.value === \"1\")\r\n            }\r\n          >\r\n            <FormControlLabel\r\n              control={<Radio disableRipple />}\r\n              value=\"1\"\r\n              label={t(\"true\")}\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio disableRipple />}\r\n              value=\"0\"\r\n              label={t(\"false\")}\r\n            />\r\n          </RadioGroup>\r\n        </FormControl>\r\n      ))}\r\n    </Stack>\r\n  );\r\n};\r\n","import { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { SymbolTable } from \"$types/ast\";\r\nimport { ExprTree } from \"$types/graph\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { PlaygroundDialogConfig } from \"./PlaygroundDialogConfig\";\r\nimport { StyledLatex } from \"./StyledLatex\";\r\n\r\ntype PlaygroundDialogProps = {\r\n  tree: ExprTree;\r\n  open: boolean;\r\n  value: SymbolTable;\r\n  onChange: (k: string, v: boolean) => void;\r\n  onClose: () => void;\r\n};\r\nexport const PlaygroundDialog: FC<PlaygroundDialogProps> = (\r\n  props\r\n) => {\r\n  const { tree, open, onClose, onChange, value } = props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"common\",\r\n  });\r\n  const { palette, shape } = useTheme();\r\n\r\n  const active = exprTreeCollectSymbols(tree);\r\n\r\n  const evalValue = tree.eval(value)\r\n    ? t(\"true\")\r\n    : t(\"false\");\r\n  const evalText = t(\"truthValue\");\r\n  const text = `${evalText}: ${evalValue}`;\r\n\r\n  return (\r\n    <Dialog\r\n      maxWidth=\"md\"\r\n      fullWidth\r\n      open={open}\r\n      scroll=\"body\"\r\n      onClose={onClose}\r\n      PaperProps={{\r\n        elevation: 0,\r\n        sx: {\r\n          borderRadius: shape.borderRadius,\r\n          borderStyle: \"solid\",\r\n          borderWidth: 4,\r\n          borderColor: palette.primary.main,\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle>\r\n        <StyledLatex\r\n          tex={exprTreeToLatex(tree)}\r\n          options={{\r\n            displayMode: true,\r\n            output: \"htmlAndMathml\",\r\n          }}\r\n        />\r\n        <Typography fontStyle=\"italic\">{text}</Typography>\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <PlaygroundDialogConfig\r\n          active={active}\r\n          table={value}\r\n          onChange={onChange}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"text\"\r\n          onClick={onClose}\r\n        >\r\n          {t(\"close\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n","import {\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, KeyboardEvent, ReactNode } from \"react\";\r\n\r\ntype StyledIconButtonProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n  disabled?: boolean;\r\n  onClick: () => void;\r\n  onKeyPress: (e: KeyboardEvent<HTMLButtonElement>) => void;\r\n};\r\nexport const StyledIconButton: FC<StyledIconButtonProps> = (\r\n  props\r\n) => {\r\n  const { children, onKeyPress, onClick, title, disabled } =\r\n    props;\r\n  return (\r\n    <Tooltip\r\n      placement=\"top\"\r\n      title={<Typography>{title}</Typography>}\r\n    >\r\n      <span>\r\n        <IconButton\r\n          disableRipple={disabled}\r\n          color=\"primary\"\r\n          onClick={onClick}\r\n          onKeyDown={onKeyPress}\r\n        >\r\n          {children}\r\n        </IconButton>\r\n      </span>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import {\r\n  KeyboardArrowLeftRounded,\r\n  KeyboardArrowRightRounded,\r\n} from \"@mui/icons-material\";\r\nimport { Slider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, KeyboardEvent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledIconButton } from \"./StyledIconButton\";\r\n\r\ntype PlaygroundPlaybackControlProps = {\r\n  maxValue: number;\r\n  minValue: number;\r\n  disabled: boolean;\r\n  value: number;\r\n  onChange: (v: number) => void;\r\n};\r\nexport const PlaygroundPlaybackControl: FC<\r\n  PlaygroundPlaybackControlProps\r\n> = (props) => {\r\n  const { disabled, maxValue, minValue, onChange, value } =\r\n    props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"playground.playback\",\r\n  });\r\n\r\n  const handleForward = () => {\r\n    if (value >= maxValue) {\r\n      return;\r\n    }\r\n    onChange(value + 1);\r\n  };\r\n\r\n  const handleRewind = () => {\r\n    if (value <= minValue) {\r\n      return;\r\n    }\r\n    onChange(value - 1);\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: KeyboardEvent<HTMLButtonElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      handleForward();\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      handleRewind();\r\n    }\r\n  };\r\n\r\n  // There is a possibility for the ui to fall apart due to overflow\r\n  // **IF** the order is large enough eg 20 digits long\r\n  // in such a case, the label would over and pushes the forward arrow\r\n  // and the slider out of view\r\n  // but let's be real, we run into other problem any way\r\n  // if the evaluation of a tree that large\r\n  const maxLabel = disabled ? \"0\" : maxValue.toString();\r\n  const valueLabel = disabled\r\n    ? \"0\"\r\n    : value.toString().padStart(maxLabel.length, \"0\");\r\n  const label = `${valueLabel}/${maxLabel}`;\r\n\r\n  return (\r\n    <Stack\r\n      spacing={1}\r\n      useFlexGap\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      paddingX={2}\r\n      paddingY={1}\r\n    >\r\n      <StyledIconButton\r\n        disabled={value <= minValue}\r\n        title={t(\"rewind\")}\r\n        onClick={handleRewind}\r\n        onKeyPress={handleKeyPress}\r\n      >\r\n        <KeyboardArrowLeftRounded />\r\n      </StyledIconButton>\r\n      <Typography fontFamily=\"monospace\">\r\n        {label}\r\n      </Typography>\r\n      <StyledIconButton\r\n        disabled={value >= maxValue}\r\n        title={t(\"forward\")}\r\n        onKeyPress={handleKeyPress}\r\n        onClick={handleForward}\r\n      >\r\n        <KeyboardArrowRightRounded />\r\n      </StyledIconButton>\r\n      <Slider\r\n        disabled={disabled}\r\n        valueLabelDisplay=\"auto\"\r\n        onChange={(_, v) => onChange(v as number)}\r\n        value={value}\r\n        max={maxValue}\r\n        min={minValue}\r\n        step={1}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { CloseRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  Collapse,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, ReactNode, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype StyledAlertProps = {\r\n  children: ReactNode;\r\n};\r\nexport const StyledAlert: FC<StyledAlertProps> = (\r\n  props\r\n) => {\r\n  const { children } = props;\r\n  const { t } = useTranslation();\r\n  const [dismissed, setDismissed] = useState(false);\r\n\r\n  return (\r\n    <Collapse\r\n      in={!dismissed}\r\n      unmountOnExit\r\n    >\r\n      <Alert\r\n        severity=\"info\"\r\n        variant=\"standard\"\r\n        color=\"info\"\r\n        icon={false}\r\n        action={\r\n          <Tooltip\r\n            title={\r\n              <Typography>{t(\"common.close\")}</Typography>\r\n            }\r\n          >\r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={() => setDismissed(true)}\r\n            >\r\n              <CloseRounded />\r\n            </IconButton>\r\n          </Tooltip>\r\n        }\r\n        sx={{\r\n          borderRadius: (t) => t.shape.borderRadius,\r\n        }}\r\n      >\r\n        {children}\r\n      </Alert>\r\n    </Collapse>\r\n  );\r\n};\r\n","import { Fab, Tooltip, Typography } from \"@mui/material\";\r\nimport { FC, ReactElement } from \"react\";\r\n\r\ntype StyledFABProps = {\r\n  title: string;\r\n  onClick: () => void;\r\n  children: ReactElement;\r\n};\r\nexport const StyledFAB: FC<StyledFABProps> = (props) => {\r\n  const { children, onClick, title } = props;\r\n  return (\r\n    <Fab\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      onClick={onClick}\r\n      sx={{\r\n        position: \"absolute\",\r\n        left: 16,\r\n        bottom: 16,\r\n      }}\r\n    >\r\n      <Tooltip\r\n        placement=\"right\"\r\n        title={<Typography>{title}</Typography>}\r\n      >\r\n        {children}\r\n      </Tooltip>\r\n    </Fab>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/graph\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport {\r\n  HierarchyPointLink,\r\n  HierarchyPointNode,\r\n} from \"@visx/hierarchy/lib/types\";\r\nimport { LinkVertical } from \"@visx/shape\";\r\nimport { FC } from \"react\";\r\n\r\ntype TreeGraphLinkProps = {\r\n  link: HierarchyPointLink<ExprTree>;\r\n  order: number;\r\n};\r\nexport const TreeGraphLink: FC<TreeGraphLinkProps> = (\r\n  props\r\n) => {\r\n  const { link, order } = props;\r\n  const { palette } = useTheme();\r\n  const { source, target } = link;\r\n  const isSourceVisible = source.data.order <= order;\r\n\r\n  const isTargetVisibleNow = target.data.order <= order;\r\n  const isTargetVisibleSoon =\r\n    target.data.order <= order + 1;\r\n  const isTargetVisible =\r\n    isTargetVisibleNow || isTargetVisibleSoon;\r\n\r\n  const isLinkVisible = isSourceVisible && isTargetVisible;\r\n\r\n  return (\r\n    <LinkVertical<\r\n      HierarchyPointLink<ExprTree>,\r\n      HierarchyPointNode<ExprTree>\r\n    >\r\n      data={link}\r\n      stroke={palette.primary.light}\r\n      visibility={isLinkVisible ? \"visible\" : \"hidden\"}\r\n      strokeOpacity={isTargetVisible ? \"0.6\" : \"0.3\"}\r\n      strokeWidth=\"5\"\r\n      fill=\"none\"\r\n    />\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/ast\";\r\nimport { ExprTree } from \"$types/graph\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { HierarchyPointNode } from \"@visx/hierarchy/lib/types\";\r\nimport katex from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype TreeGraphNodeProps = {\r\n  node: HierarchyPointNode<ExprTree>;\r\n  onClick: (value: ExprTree) => void;\r\n  order: number;\r\n  symbolTable: SymbolTable;\r\n};\r\nexport const TreeGraphNode: FC<TreeGraphNodeProps> = (\r\n  props\r\n) => {\r\n  const { order, node, onClick, symbolTable } = props;\r\n  const { t } = useTranslation();\r\n  const { x, y, data } = node;\r\n  const { palette, typography } = useTheme();\r\n  const ref = useRef<SVGTextElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      ref.current.innerHTML = katex\r\n        .renderToString(data.repr)\r\n        .replaceAll(\"span\", \"tspan\");\r\n    }\r\n  }, [ref, data.repr]);\r\n\r\n  const isNodeHighlighted = data.order === order;\r\n\r\n  const isNodeVisibleNow = data.order <= order;\r\n  const isNodeVisibleSoon = data.order <= order + 1;\r\n  const isNodeVisible =\r\n    isNodeVisibleNow || isNodeVisibleSoon;\r\n\r\n  const r = 30;\r\n\r\n  return (\r\n    <Group\r\n      top={y}\r\n      left={x}\r\n      onClick={() => onClick(data)}\r\n      opacity={isNodeVisibleNow ? 1 : 0.5}\r\n      visibility={isNodeVisible ? \"visible\" : \"hidden\"}\r\n      style={{ cursor: \"pointer\" }}\r\n    >\r\n      <circle\r\n        strokeWidth={isNodeHighlighted ? 5 : 0}\r\n        stroke={palette.primary.light}\r\n        strokeOpacity={0.8}\r\n        r={r}\r\n        fill={palette.secondary.light}\r\n      />\r\n      <text\r\n        ref={ref}\r\n        fontSize={typography.body1.fontSize}\r\n        color={palette.secondary.contrastText}\r\n        dy=\"0.33rem\"\r\n        textAnchor=\"middle\"\r\n        pointerEvents=\"none\"\r\n        style={{ userSelect: \"none\" }}\r\n      />\r\n      <Group\r\n        visibility={\r\n          data.order < order ? \"visible\" : \"hidden\"\r\n        }\r\n        transform={`translate(${r / 3}, ${r / 3})`}\r\n      >\r\n        <rect\r\n          width={60}\r\n          height={30}\r\n          rx={5}\r\n          ry={5}\r\n          fill={palette.secondary.light}\r\n        />\r\n        <text\r\n          x=\"30\"\r\n          y=\"22\"\r\n          // fill={palette.secondary.contrastText}\r\n          fillOpacity={0.5}\r\n          textAnchor=\"middle\"\r\n          pointerEvents=\"none\"\r\n          style={{ userSelect: \"none\" }}\r\n        >\r\n          {data.eval(symbolTable)\r\n            ? t(\"common.true\")\r\n            : t(\"common.false\")}\r\n        </text>\r\n      </Group>\r\n    </Group>\r\n  );\r\n};\r\n","import {\r\n  SymbolTable,\r\n  SyntaxTreeNodeKind,\r\n} from \"$types/ast\";\r\nimport { ExprTree } from \"$types/graph\";\r\nimport { ControlCameraRounded } from \"@mui/icons-material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { hierarchy, Tree } from \"@visx/hierarchy\";\r\nimport { Zoom } from \"@visx/zoom\";\r\nimport { FC, KeyboardEvent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledFAB } from \"./StyledFAB\";\r\nimport { TreeGraphLink } from \"./TreeGraphLink\";\r\nimport { TreeGraphNode } from \"./TreeGraphNode\";\r\n\r\nconst flatten_expr = (d: ExprTree) => {\r\n  switch (d.nodeType) {\r\n    case SyntaxTreeNodeKind.CONST:\r\n      return null;\r\n    case SyntaxTreeNodeKind.IDEN:\r\n      return null;\r\n    case SyntaxTreeNodeKind.UNARY:\r\n      return [d.child];\r\n    case SyntaxTreeNodeKind.BINARY:\r\n      return [d.left, d.right];\r\n  }\r\n};\r\n\r\ntype TreeGraphProps = {\r\n  symbolTable: SymbolTable;\r\n  tree: ExprTree;\r\n  order: number;\r\n  onNodeClick: (value: ExprTree) => void;\r\n  onKeyDown: (e: KeyboardEvent<SVGSVGElement>) => void;\r\n};\r\nexport const TreeGraph: FC<TreeGraphProps> = (props) => {\r\n  const {\r\n    tree,\r\n    symbolTable,\r\n    order,\r\n    onNodeClick,\r\n    onKeyDown,\r\n  } = props;\r\n\r\n  const { t } = useTranslation();\r\n  const data = hierarchy(tree, flatten_expr);\r\n  const height = (data.height + 1) * 100;\r\n  const width = (data.leaves().length + 1) * 150;\r\n\r\n  return (\r\n    <Zoom<SVGSVGElement>\r\n      width={width}\r\n      height={height}\r\n      scaleXMin={1 / 3}\r\n      scaleXMax={4}\r\n      scaleYMin={1 / 3}\r\n      scaleYMax={4}\r\n    >\r\n      {(zoom) => (\r\n        <>\r\n          <svg\r\n            tabIndex={0} // Need tabindex otherwise svg will not send keyboard event\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            ref={zoom.containerRef}\r\n            style={{\r\n              touchAction: \"none\",\r\n            }}\r\n            onKeyDown={onKeyDown}\r\n          >\r\n            <g\r\n              onTouchStart={zoom.dragStart}\r\n              onTouchMove={zoom.dragMove}\r\n              onTouchEnd={zoom.dragEnd}\r\n              onMouseDown={zoom.dragStart}\r\n              onMouseMove={zoom.dragMove}\r\n              onMouseUp={zoom.dragEnd}\r\n              onMouseLeave={zoom.dragEnd}\r\n              transform={zoom.toString()}\r\n            >\r\n              <Tree\r\n                root={data}\r\n                size={[width, height]}\r\n              >\r\n                {(treeHeir) => (\r\n                  <Group>\r\n                    {treeHeir.links().map((link, i) => (\r\n                      <TreeGraphLink\r\n                        key={`link-${i}`}\r\n                        order={order}\r\n                        link={link}\r\n                      />\r\n                    ))}\r\n                    {treeHeir\r\n                      .descendants()\r\n                      .map((node, i) => (\r\n                        <TreeGraphNode\r\n                          key={`node-${i}`}\r\n                          order={order}\r\n                          node={node}\r\n                          onClick={onNodeClick}\r\n                          symbolTable={symbolTable}\r\n                        />\r\n                      ))}\r\n                  </Group>\r\n                )}\r\n              </Tree>\r\n            </g>\r\n          </svg>\r\n          <StyledFAB\r\n            onClick={zoom.center}\r\n            title={t(\"playground.graph.center\")}\r\n          >\r\n            <ControlCameraRounded />\r\n          </StyledFAB>\r\n        </>\r\n      )}\r\n    </Zoom>\r\n  );\r\n};\r\n","import {\r\n  syntaxTreetoExprTree,\r\n  syntaxTreeToLatex,\r\n} from \"$core/tree/conversion\";\r\nimport { SyntaxTree } from \"$types/ast\";\r\nimport { Maybe } from \"$types/common\";\r\nimport { ExprTree } from \"$types/graph\";\r\nimport { HelpOutlineRounded } from \"@mui/icons-material\";\r\nimport {\r\n  alpha,\r\n  Box,\r\n  Divider,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport {\r\n  FC,\r\n  KeyboardEvent,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { LatexDisplay } from \"./LatexDisplay\";\r\nimport { PlaygroundDialog } from \"./PlaygroundDialog\";\r\nimport { PlaygroundPlaybackControl } from \"./PlaygroundPlaybackControl\";\r\nimport { StyledAlert } from \"./StyledAlert\";\r\nimport { TreeGraph } from \"./TreeGraph\";\r\n\r\ntype PlaygroundProps = {\r\n  maybeTree: Maybe<SyntaxTree, string> | null;\r\n};\r\nexport const Playground: FC<PlaygroundProps> = (props) => {\r\n  const { maybeTree } = props;\r\n\r\n  const { t } = useTranslation();\r\n  const { palette, shape } = useTheme();\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [symbolTable, setSymbolTable] = useState(\r\n    new Map<string, boolean>()\r\n  );\r\n\r\n  const [selectedNode, setSelectedNode] =\r\n    useState<ExprTree | null>(null);\r\n  const [order, setOrder] = useState(0);\r\n  const [maxOrder, setMaxOrder] = useState(0);\r\n  const [exprTree, setExprTree] = useState<ExprTree | null>(\r\n    null\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (maybeTree === null || !maybeTree.ok) {\r\n      setOrder(0);\r\n      setMaxOrder(0);\r\n      setExprTree(null);\r\n      return;\r\n    }\r\n    const nextExprTree = syntaxTreetoExprTree(\r\n      maybeTree.data\r\n    );\r\n    setOrder(nextExprTree.order + 1);\r\n    setMaxOrder(nextExprTree.order + 1);\r\n    setExprTree(nextExprTree);\r\n  }, [maybeTree]);\r\n\r\n  const handleTableChange = (k: string, v: boolean) => {\r\n    if (maybeTree === null || !maybeTree.ok) {\r\n      return;\r\n    }\r\n    setSymbolTable((prev) => {\r\n      const next = new Map(prev);\r\n      next.set(k, v);\r\n      return next;\r\n    });\r\n\r\n    // Changing the truth value of the same tree should not cause the playback to reset\r\n    const nextExprTree = syntaxTreetoExprTree(\r\n      maybeTree.data\r\n    );\r\n    setExprTree(nextExprTree);\r\n  };\r\n\r\n  const handleNodeClick = (value: ExprTree) => {\r\n    setDialogOpen(true);\r\n    setSelectedNode(value);\r\n  };\r\n\r\n  const handleGraphKeyPress = (\r\n    e: KeyboardEvent<SVGSVGElement>\r\n  ) => {\r\n    const { key } = e;\r\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      setOrder((prev) => Math.min(maxOrder, prev + 1));\r\n    } else if (key === \"ArrowLeft\" || key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setOrder((prev) => Math.max(0, prev - 1));\r\n    }\r\n  };\r\n\r\n  let treeGraphText: string | null = null;\r\n  let text: string | null = null;\r\n  if (maybeTree !== null) {\r\n    if (maybeTree.ok) {\r\n      text = syntaxTreeToLatex(maybeTree.data);\r\n    } else {\r\n      text = maybeTree.other.replaceAll(/\"(.*)\"/g, '``$1\"');\r\n      text = `\\\\textcolor{${palette.error.dark}}{\\\\text{${text}}}`;\r\n      treeGraphText = t(\r\n        \"playground.graph.cannotDisplayEvaluation\"\r\n      );\r\n    }\r\n  } else {\r\n    treeGraphText = t(\r\n      \"playground.graph.noEvaluationToDisplay\"\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <LatexDisplay\r\n        text={text}\r\n        error={maybeTree !== null && !maybeTree.ok}\r\n        emptyText={t(\"playground.feedback.empty\")}\r\n      />\r\n      <StyledAlert>\r\n        <Stack\r\n          padding={2}\r\n          direction=\"row\"\r\n          spacing={1}\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n        >\r\n          <HelpOutlineRounded\r\n            fontSize=\"medium\"\r\n            color=\"info\"\r\n          />\r\n          <Typography>\r\n            {t(\"playground.feedback.dialogInfo\")}\r\n          </Typography>\r\n        </Stack>\r\n      </StyledAlert>\r\n      <Box\r\n        ref={containerRef}\r\n        sx={{\r\n          borderWidth: 4,\r\n          borderStyle: \"solid\",\r\n          borderRadius: shape.borderRadius,\r\n          borderColor: alpha(palette.secondary.main, 0.4),\r\n        }}\r\n      >\r\n        <PlaygroundPlaybackControl\r\n          disabled={exprTree === null}\r\n          maxValue={maxOrder}\r\n          minValue={1}\r\n          value={order}\r\n          onChange={setOrder}\r\n        />\r\n        <Divider flexItem />\r\n\r\n        <Box\r\n          position=\"relative\"\r\n          height=\"75vh\"\r\n          display=\"flex\"\r\n          width=\"100%\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n        >\r\n          {exprTree !== null ? (\r\n            <TreeGraph\r\n              symbolTable={symbolTable}\r\n              order={order}\r\n              tree={exprTree}\r\n              onNodeClick={handleNodeClick}\r\n              onKeyDown={handleGraphKeyPress}\r\n            />\r\n          ) : (\r\n            <Typography>{treeGraphText}</Typography>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n      {selectedNode !== null && (\r\n        <PlaygroundDialog\r\n          tree={selectedNode}\r\n          open={dialogOpen}\r\n          value={symbolTable}\r\n          onChange={handleTableChange}\r\n          onClose={() => setDialogOpen(false)}\r\n        />\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","export const en = {\r\n  translation: {\r\n    common: {\r\n      proposition: \"Proposition\",\r\n      truthValue: \"Truth value\",\r\n      true: \"True\",\r\n      false: \"False\",\r\n      close: \"Close\",\r\n      connectives: {\r\n        negation: \"Negation\",\r\n        conjunction: \"Conjunction\",\r\n        disjunction: \"Disjunction\",\r\n        implication: \"Implication\",\r\n        equivalence: \"Equivalence\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"Original\",\r\n      simplifiedPanel: \"Simplified\",\r\n      howToUse: \"How to use?\",\r\n      run: \" Run\",\r\n      allowedOperatorLabel: \"Connectives to keep\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"Tap on a circle to modify the truth value of the expression.\",\r\n        empty:\r\n          \"No expression to display. Evaluate one to see how it's interpreted!\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"No evaluation step to display. Evaluate an expression to see steps here.\",\r\n        cannotDisplayEvaluation:\r\n          \"Cannot display evaluation step. Please check the expression and try again.\",\r\n        center: \"Center Graph\",\r\n      },\r\n\r\n      playback: {\r\n        forward: \"Forward\",\r\n        rewind: \"Rewind\",\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","export const th = {\r\n  translation: {\r\n    common: {\r\n      proposition: \"ประพจน์\",\r\n      truthValue: \"ค่าความจริง\",\r\n      close: \"ปิด\",\r\n      true: \"จริง\",\r\n      false: \"เท็จ\",\r\n      connectives: {\r\n        negation: \"นิเสธ\",\r\n        conjunction: \"และ\",\r\n        disjunction: \"หรือ\",\r\n        implication: \"ถ้า แล้ว\",\r\n        equivalence: \"ก็ต่อเมื่อ\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"รูปเดิม\",\r\n      simplifiedPanel: \"รูปอย่างง่าย\",\r\n      howToUse: \"คู่มือการใช้งาน\",\r\n      run: \"คำนวณ\",\r\n      allowedOperatorLabel: \"ตัวเชื่อมที่คงไว้\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"แตะที่วงลมสีเขียวเพื่อแก้ไขค่าความจริงของนิพจน์\",\r\n        empty:\r\n          \"ไม่มีประพจน์ให้แสดงในขณะนี้ คำนวณประพจน์เพื่อตรวจสอบว่าโปรแกรมตีความถูกต้องหรือไม่\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"ไม่มีขั้นตอนการคำนวณให้แสดงในขณะนี้ คำนวณประพจน์เพื่อแสดงขั้นตอน\",\r\n        cannotDisplayEvaluation:\r\n          \"เกิดข้อผิดพลาด ไม่สามารถแสดงขั้นตอนการคำนวณได้ กรุณาตรวจสอบประพจน์และลองคำนวณอีกครั้ง\",\r\n        center: \"กลับสู่ศูนย์กลาง\",\r\n      },\r\n\r\n      playback: {\r\n        // start: \"Start\",\r\n        // end: \"End\",\r\n        forward: \"เดินหน้า\",\r\n        rewind: \"ถอยหลัง\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","import i18next from \"i18next\";\r\nimport {\r\n  default as Backend,\r\n  default as LangDectector,\r\n} from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { en } from \"./en/translation\";\r\nimport { th } from \"./th/translation\";\r\n\r\ni18next\r\n  .use(Backend)\r\n  .use(LangDectector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    detection: {\r\n      lookupLocalStorage: \"language\",\r\n    },\r\n    debug: true,\r\n    resources: {\r\n      en,\r\n      th,\r\n    },\r\n  });\r\n\r\nexport default i18next;\r\n","import { Editor } from \"$components/Editor\";\r\nimport { Playground } from \"$components/Playground\";\r\nimport { parse } from \"$core/interpreter/parser\";\r\nimport i18nInstance from \"$locales/config\";\r\nimport { SyntaxTree } from \"$types/ast\";\r\nimport { Maybe } from \"$types/common\";\r\nimport { TabContext, TabList, TabPanel } from \"@mui/lab\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Container,\r\n  Divider,\r\n  Stack,\r\n  Tab,\r\n  Toolbar,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const EditorView: FC = () => {\r\n  const { t, i18n } = useTranslation(\"translation\", {\r\n    i18n: i18nInstance,\r\n  });\r\n\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [tree, setTree] = useState<Maybe<\r\n    SyntaxTree,\r\n    string\r\n  > | null>(null);\r\n  // const [operators, setOperators] = useState(\r\n  //   new Map<Operator, boolean>([\r\n  //     [Operator.AND, true],\r\n  //     [Operator.OR, true],\r\n  //     [Operator.IMPL, true],\r\n  //     [Operator.IFF, true],\r\n  //   ])\r\n  // );\r\n  // const [simplifiedTree, setSimplifiedTree] =\r\n  //   useState<Maybe<SyntaxTree, string> | null>(null);\r\n\r\n  const handleExecute = (value: string) => {\r\n    if (value.trim().length === 0) {\r\n      setTree(null);\r\n      // setSimplifiedTree(null);\r\n      return;\r\n    }\r\n    const maybeTree = parse(value);\r\n    setTree(maybeTree);\r\n    // if (maybeTree.ok) {\r\n    //   const op = new Set<Operator>();\r\n    //   for (const [k, v] of operators.entries()) {\r\n    //     if (v) {\r\n    //       op.add(k);\r\n    //     }\r\n    //   }\r\n    //   const simplTree = simplifySyntaxTree(\r\n    //     collapseSyntaxTree(\r\n    //       normalizeSyntaxTree(maybeTree.data),\r\n    //       op\r\n    //     )\r\n    //   );\r\n    //   if (simplTree === null) {\r\n    //     setSimplifiedTree({\r\n    //       ok: false,\r\n    //       other:\r\n    //         \"Cannot simplified expression to desired form\",\r\n    //     });\r\n    //   } else {\r\n    //     setSimplifiedTree({\r\n    //       ok: true,\r\n    //       data: simplTree,\r\n    //     });\r\n    //   }\r\n    // }\r\n  };\r\n\r\n  // const handleOperatorChange = (\r\n  //   k: Operator,\r\n  //   v: boolean\r\n  // ) => {\r\n  //   setOperators((p) => {\r\n  //     const next = new Map(p);\r\n  //     next.set(k, v);\r\n  //     return next;\r\n  //   });\r\n  // };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Toolbar\r\n        variant=\"dense\"\r\n        disableGutters\r\n        sx={{\r\n          flexDirection: \"column\",\r\n          display: \"flex\",\r\n          alignItems: \"flex-start\",\r\n        }}\r\n      >\r\n        <ButtonGroup\r\n          variant=\"text\"\r\n          disableElevation\r\n        >\r\n          <Button onClick={() => i18n.changeLanguage(\"en\")}>\r\n            EN\r\n          </Button>\r\n          <Button onClick={() => i18n.changeLanguage(\"th\")}>\r\n            TH\r\n          </Button>\r\n        </ButtonGroup>\r\n        <Divider flexItem />\r\n      </Toolbar>\r\n      <Container maxWidth=\"lg\">\r\n        <Stack\r\n          useFlexGap\r\n          spacing={1}\r\n          padding={2}\r\n        >\r\n          <Editor\r\n            // operators={operators}\r\n            onExecute={handleExecute}\r\n            // onOperatorChange={handleOperatorChange}\r\n          />\r\n          <TabContext value={activeTab}>\r\n            <Box\r\n              sx={{\r\n                borderBottom: 1,\r\n                borderColor: \"divider\",\r\n              }}\r\n            >\r\n              <TabList\r\n                onChange={(_, v) => setActiveTab(v)}\r\n                variant=\"scrollable\"\r\n              >\r\n                <Tab\r\n                  label={t(\"editor.originalPanel\")}\r\n                  value={0}\r\n                />\r\n                <Tab\r\n                  disabled\r\n                  label={t(\"editor.simplifiedPanel\")}\r\n                  value={1}\r\n                />\r\n              </TabList>\r\n            </Box>\r\n            <TabPanel\r\n              keepMounted\r\n              value={0}\r\n              sx={{ padding: 0 }}\r\n            >\r\n              <Playground maybeTree={tree} />\r\n            </TabPanel>\r\n            {/* <TabPanel\r\n            keepMounted\r\n            value={1}\r\n            sx={{ padding: 0 }}\r\n          >\r\n            <Playground maybeTree={simplifiedTree} />\r\n          </TabPanel> */}\r\n          </TabContext>\r\n        </Stack>\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n};\r\n","export default \"data:text/plain;base64,IyBVc2VyIE1hbnVhbA0KDQoqKlF1aWNrIGd1aWRlKio6IA0KMS4gRW50ZXIgYSBCb29sZWFuIGV4cHJlc3Npb24gaW50byB0aGUgaW5wdXQgZmllbGQNCjEuIFByZXNzICJSVU4iDQoxLiBDbGljayBvbiBhIG5vZGUgdG8gbW9kaWZ5IHRoZSB0cnV0aCB2YWx1ZXMNCg0KIyMgU3VwcG9ydGVkIExvZ2ljYWwgQ29ubmVjdGl2ZXMNCg0KVGhlIGFwcGxpY2F0aW9uIHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgbG9naWNhbCBrZXl3b3JkcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBtYXRoZW1hdGljYWwgc3ltYm9sczoNCg0KLSBMb2dpY2FsIG5lZ2F0aW9uICAgIChrZXl3b3JkOiBgbm90YCAgICAgLCBzeW1ib2w6ICZub3Q7KSANCi0gTG9naWNhbCBjb25qdW5jdGlvbiAoa2V5d29yZDogYGFuZGAgICAgICwgc3ltYm9sOiAmYW5kOykgDQotIExvZ2ljYWwgZGlzanVuY3Rpb24gKGtleXdvcmQ6IGBvcmAgICAgICAsIHN5bWJvbDogJm9yOykgDQotIExvZ2ljYWwgaW1wbGljYXRpb24gKGtleXdvcmQ6IGBpbXBsaWVzYCAsIHN5bWJvbDogJnJBcnI7KSANCi0gTG9naWNhbCBlcXVpdmFsZW5jZSAoa2V5d29yZDogYGlmZmAgICAgICwgc3ltYm9sOiAmaWZmOykNCg0KVGhlIGtleXdvcmQgYW5kIHRoZSBzeW1ib2wgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWUsIHNvIGNhbiB1c2UgdGhlbSBpbnRlcmNoYW5nZWJseSwgb3IgZXZlbmluZyBtaXggdGhlbSBpbiBhbiBleHByZXNzaW9uLg0KDQpZb3UgY2FuIHVzZSB0aGUgcmliYm9uIHRvIGluc2VydCBhIHN5bWJvbCBpbnRvIHRoZSBpbnB1dC4gV2l0aCB0aGUgaW5wdXQgYXJlYSBhY3RpdmUsIHByZXNzIGBDVFJMYCBhbmQgYEVOVEVSYCB0byBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbg0KDQojIyBGZWF0dXJlcyANCg0KKipFdmFsdWF0aW9uIHBsYXliYWNrKioNCg0KVXNlIHRoZSBwbGF5YmFjayBjb250cm9sIHRvIHNlZSBvcmRlciBvZiBldmFsdWF0aW9uIGZvciB0aGUgZXhwcmVzc2lvbi4gUHJlc3MgZm9yd2FyZCBvciByZXdpbmQgdG8gYSBmaW5lciBwbGF5YmFjayBjb250cm9sIGFuZCB0aGUgc2xpZGVyIHRvIHF1aWNrbHkgbW92ZSBhcm91bmQgdGhlIGV2YWx1YXRpb24uDQoNCioqVGVzdGluZyBkaWZmZXJlbnQgdHJ1dGggdmFsdWVzKioNCg0KUHJvcG9zaXRpb25zIGFyZSBmYWxzZSBpbml0aWFsbHkuIA0KDQpUbyBtb2RpZnkgdGhlIHRydXRoIHZhbHVlIG9mIGEgcHJvcG9zaXRpb24sIHByZXNzIG9uZSBvZiB0aGUgbm9kZSBwcmVzZW50IGluIHRoZSBvdXRwdXQgYXJlYS4NCg0KRG9pbmcgc28gd2lsbCBvcGVuIHVwIGEgd2luZG93LiBJbiB0aGlzIHdpbmRvdywgeW91IGNhbiBtb2RpZnkgdGhlIHRydXRoIHZhbHVlcyBvZiBwcm9wb3NpdGlvbnMgcHJlc2VudCBpbiB0aGUgcGFydGljdWxhciBzdWIgZXhwcmVzc2lvbi4gUHJlc3NpbmcgdGhlIHJvb3Qgd2lsbCBzaG93IHRoZSBlbnRpcmUgdHJlZSwgYWxvbmcgd2l0aCBldmVyeSBwcm9wb3NpdGlvbi4=\"","export default \"data:text/plain;base64,IyDguITguLnguYjguKHguLfguK3guIHguLLguKPguYPguIrguYnguIfguLLguJkNCg0KKirguITguLnguYjguKHguLfguK3guYHguJrguJrguKLguYjguK06KiogIA0KMS4g4Lib4LmJ4Lit4LiZ4LiZ4Li04Lie4LiI4LiZ4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4LiC4LmJ4Lit4LiE4Lin4Liy4LihICANCjIuIOC4geC4lCAi4LiE4Liz4LiZ4Lin4LiTIiAgDQozLiDguITguKXguLTguIHguJfguLXguYjguYLguKvguJnguJTguYDguJ7guLfguYjguK3guYHguIHguYnguYTguILguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYwNCg0KIyMg4LiV4Lix4Lin4LmA4LiK4Li34LmI4Lit4Lih4LiX4Li14LmI4Lij4Lit4LiH4Lij4Lix4LiaDQoNCuC4leC4seC4p+C5gOC4iuC4t+C5iOC4reC4l+C4teC5iOC4o+C4reC4h+C4o+C4seC4muC4oeC4teC4lOC4seC4h+C4meC4teC5iToNCg0KLSDguJnguLTguYDguKrguJggKOC4hOC4szogYG5vdGAsIOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jDogJm5vdDspICANCi0g4LmB4Lil4LiwICjguITguLM6IGBhbmRgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZhbmQ7KSAgDQotIOC4q+C4o+C4t+C4rSAo4LiE4LizOiBgb3JgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZvcjspICANCi0g4LiW4LmJ4Liy4LmB4Lil4LmJ4LinICjguITguLM6IGBpbXBsaWVzYCwg4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmMOiAmckFycjspICANCi0g4LiB4LmH4LiV4LmI4Lit4LmA4Lih4Li34LmI4LitICjguITguLM6IGBpZmZgLCDguKrguLHguI3guKXguLHguIHguKnguJPguYw6ICZpZmY7KSAgDQoNCuC4hOC4s+C5geC4peC4sOC4quC4seC4jeC4peC4seC4geC4qeC4k+C5jOC4quC4suC4oeC4suC4o+C4luC5g+C4iuC5ieC5geC4l+C4meC4geC4seC4meC5hOC4lOC5iSDguYHguKXguLDguKrguLLguKHguLLguKPguJbguYPguIrguYnguJzguKrguKHguIHguLHguJnguJnguLTguJ7guIjguJnguYzguYDguJTguLXguKLguKfguIHguYfguYTguJTguYkNCg0K4Liq4Liy4Lih4Liy4Lij4LiW4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4LiE4Lij4Li34LmI4Lit4LiH4Lih4Li34Lit4LmA4Lie4Li34LmI4Lit4LmB4LiX4Lij4LiB4Liq4Lix4LiN4Lil4Lix4LiB4Lip4LiT4LmM4Lil4LiH4LmD4LiZ4LiK4LmI4Lit4LiH4Lib4LmJ4Lit4LiZ4LiC4LmJ4Lit4Lih4Li54LilIA0KDQrguYPguJnguILguJPguLDguJfguLXguYjguJ7guLTguKHguJ7guYzguJnguLTguJ7guIjguJnguYzguKrguLLguKHguLLguKPguJYg4LiB4LiUIGBDVFJMYCDguYHguKXguLAgYEVOVEVSYCDguYDguJ7guLfguYjguK3guITguLPguJnguKfguJPguJvguKPguLDguJ7guIjguJnguYzguYTguJTguYnguYLguJTguKLguJfguLXguYjguYTguKHguYjguJXguYnguK3guIfguIHguJQgIuC4hOC4s+C4meC4p+C4kyINCg0KIyMg4Lil4Li54LiB4LmA4Lil4LmI4LiZ4Lit4Li34LmI4LiZ4LmGDQoNCioq4Lil4Liz4LiU4Lix4Lia4LiC4Lix4LmJ4LiZ4LiV4Lit4LiZ4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiTKioNCg0K4LmD4LiK4LmJ4LiB4Liy4Lij4LiE4Lin4Lia4LiE4Li44Lih4LmA4Lie4Li34LmI4Lit4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4Lib4Lij4Liw4LmA4Lih4Li04LiZ4Lic4Lil4LiC4Lit4LiH4LiZ4Li04Lie4LiI4LiZ4LmMIA0KDQrguIHguJTguJvguLjguYjguKHguYDguJTguLTguJnguKvguJnguYnguLLguKvguKPguLfguK3guKLguYnguK3guJnguIHguKXguLHguJrguYDguJ7guLfguYjguK3guITguKfguJrguITguLjguKHguK3guKLguYjguLLguIfguKXguLDguYDguK3guLXguKLguJQg4LmB4Lil4Liw4LmD4LiK4LmJ4LmB4LiW4Lia4LmA4Lil4Li34LmI4Lit4LiZ4LmA4Lie4Li34LmI4Lit4LmA4Lil4Li34LmI4Lit4LiZ4LiU4Li54Lil4Liz4LiU4Lix4Lia4LiB4Liy4Lij4LiE4Liz4LiZ4Lin4LiT4Lit4Lii4LmI4Liy4LiH4LiE4Lij4LmI4Liy4LinIOC5hg0KDQoqKuC5geC4geC5ieC5hOC4guC4hOC5iOC4suC4hOC4p+C4suC4oeC4iOC4o+C4tOC4hyoqDQoNCuC5geC4o+C4geC5gOC4o+C4tOC5iOC4oSDguITguYjguLLguITguKfguLLguKHguIjguKPguLTguIfguILguK3guIfguJvguKPguLDguJ7guIjguJnguYzguJbguLnguIHguIHguLPguKvguJnguJTguYPguKvguYnguYDguJvguYfguJnguYDguJfguYfguIggDQoNCuC4quC4suC4oeC4suC4o+C4luC5geC4geC5ieC5hOC4guC4hOC4p+C4suC4oeC4hOC4p+C4suC4oeC4iOC4o+C4tOC4h+C4guC4reC4h+C4m+C4o+C4sOC4nuC4iOC4meC5jOC5hOC4lOC5ieC4lOC5ieC4p+C4ouC4geC4suC4o+C4geC4lOC4l+C4teC5iOC4p+C4h+C4geC4peC4oeC4quC4teC5gOC4guC4teC4ouC4pw0KDQrguYDguKHguLfguYjguK3guIHguJQg4LiI4Liw4Lih4Li14Liq4Liy4Lih4Liy4Lij4LiW4LmB4LiB4LmJ4LmE4LiC4LiE4Lin4Liy4Lih4LiI4Lij4Li04LiH4LiC4Lit4LiH4Lib4Lij4Liw4Lie4LiI4LiZ4LmM4LmE4LiU4LmJ4LmD4LiZ4Lir4LiZ4LmJ4Liy4LiV4LmI4Liy4LiH4LiX4Li14LmI4Lib4Lij4Liy4LiB4LiP\"","import { Divider, Typography } from \"@mui/material\";\r\nimport { JsxRuntimeComponents } from \"node_modules/react-markdown/lib\";\r\nimport { FC } from \"react\";\r\nimport Markdown from \"react-markdown\";\r\nimport rehypeKatex, {\r\n  Options as KatexOptions,\r\n} from \"rehype-katex\";\r\nimport rehypeSlug from \"rehype-slug\";\r\nimport remarkMath from \"remark-math\";\r\n\r\nconst COMPONENTS_OVERRIDE: Partial<JsxRuntimeComponents> = {\r\n  h1: ({ children, id }) => (\r\n    <Typography\r\n      variant=\"h1\"\r\n      id={id}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h2: ({ children, id }) => (\r\n    <Typography\r\n      variant=\"h2\"\r\n      id={id}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h3: ({ children, id }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h3\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  h4: ({ id, children }) => (\r\n    <Typography\r\n      id={id}\r\n      variant=\"h4\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  p: ({ children }) => (\r\n    <Typography\r\n      component=\"p\"\r\n      gutterBottom\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  // code: ({ children }) => <StyledKBD>{children}</StyledKBD>,\r\n  em: ({ children }) => (\r\n    <Typography\r\n      fontWeight=\"bold\"\r\n      component=\"em\"\r\n      fontStyle=\"normal\"\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n  hr: () => (\r\n    <Divider\r\n      flexItem\r\n      sx={{ marginY: 4 }}\r\n      variant=\"middle\"\r\n    />\r\n  ),\r\n  a: ({ href, hrefLang, referrerPolicy, children }) => (\r\n    <Typography\r\n      component=\"a\"\r\n      target=\"_blank\"\r\n      href={href}\r\n      hrefLang={hrefLang}\r\n      referrerPolicy={referrerPolicy}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  ),\r\n};\r\n\r\nconst KATEX_OPTION: KatexOptions = {\r\n  output: \"html\",\r\n};\r\n\r\ntype StyledMarkdownProps = {\r\n  children: string;\r\n};\r\nexport const StyledMarkdown: FC<StyledMarkdownProps> = (\r\n  props\r\n) => {\r\n  const { children } = props;\r\n\r\n  return (\r\n    <Markdown\r\n      components={COMPONENTS_OVERRIDE}\r\n      rehypePlugins={[\r\n        [rehypeKatex, KATEX_OPTION],\r\n        rehypeSlug,\r\n      ]}\r\n      remarkPlugins={[remarkMath]}\r\n    >\r\n      {children}\r\n    </Markdown>\r\n  );\r\n};\r\n","import UserManualBlogEN from \"$assets/blogs/UserManual/en.txt\";\r\nimport UserManualBlogTH from \"$assets/blogs/UserManual/th.txt\";\r\nimport { StyledMarkdown } from \"$components/StyledMarkdown\";\r\nimport { Box, Container } from \"@mui/material\";\r\nimport { FC, Fragment, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const BlogView: FC = () => {\r\n  const { i18n } = useTranslation();\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let isWorking = true;\r\n\r\n    fetch(\r\n      i18n.language === \"th\"\r\n        ? UserManualBlogTH\r\n        : UserManualBlogEN\r\n    )\r\n      .then((res) => res.text())\r\n      .then((text) => {\r\n        if (!isWorking) {\r\n          return;\r\n        }\r\n        setContent(text);\r\n      });\r\n    return () => {\r\n      isWorking = false;\r\n    };\r\n  }, [i18n.language]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          backgroundColor: (t) => t.palette.secondary.light,\r\n          paddingY: 8,\r\n        }}\r\n      >\r\n        <Container maxWidth=\"md\">\r\n          <StyledMarkdown>{content}</StyledMarkdown>\r\n        </Container>\r\n      </Box>\r\n      {/* {i18n.language === \"en\" && (\r\n        <Box marginBottom={4}>\r\n          <Container maxWidth=\"md\">\r\n            <StyledMarkdown>{content ?? \"\"}</StyledMarkdown>\r\n          </Container>\r\n        </Box>\r\n      )} */}\r\n    </Fragment>\r\n  );\r\n};\r\n","import {\r\n  createTheme,\r\n  responsiveFontSizes,\r\n} from \"@mui/material\";\r\nimport { brown, green } from \"@mui/material/colors\";\r\n\r\nexport let theme = createTheme({\r\n  palette: {\r\n    mode: \"light\",\r\n    primary: {\r\n      main: brown[\"600\"],\r\n    },\r\n    secondary: {\r\n      light: \"#abcbad\",\r\n      main: green[\"800\"],\r\n    },\r\n  },\r\n  components: {\r\n    MuiList: {\r\n      defaultProps: {\r\n        disablePadding: true,\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      defaultProps: {\r\n        dense: true,\r\n      },\r\n    },\r\n    MuiTooltip: {\r\n      styleOverrides: {\r\n        arrow: ({ theme: t }) => ({\r\n          color: t.palette.primary.dark,\r\n        }),\r\n        tooltip: ({ theme: t }) => ({\r\n          backgroundColor: t.palette.primary.dark,\r\n        }),\r\n      },\r\n    },\r\n    MuiTypography: {\r\n      defaultProps: {\r\n        sx: {\r\n          userSelect: \"none\",\r\n        },\r\n      },\r\n    },\r\n    MuiDialogActions: {\r\n      defaultProps: {\r\n        sx: { justifyContent: \"flex-start\" },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\ntheme = responsiveFontSizes(theme);\r\n","import \"$core/interpreter/parser\";\r\nimport { EditorView } from \"$views/EditorView\";\r\nimport { BlogView } from \"$views/TheoremBlogView\";\r\nimport {\r\n  CssBaseline,\r\n  GlobalStyles,\r\n  ThemeProvider,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { theme } from \"./theme\";\r\n\r\nconst globalStyles = (\r\n  <GlobalStyles\r\n    styles={{\r\n      tableLayout: \"auto\",\r\n      borderCollapse: \"collapse\",\r\n      html: {\r\n        scrollBehavior: \"smooth\",\r\n      },\r\n    }}\r\n  />\r\n);\r\n\r\nexport const App: FC = () => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      {globalStyles}\r\n      <EditorView />\r\n      <BlogView />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n","import { App } from \"$App/App\";\nimport \"$locales/config\";\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport \"$assets/ohm\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n\n"],"names":["SyntaxTreeNodeKind","Operator","collectBinaryNodes","operator","left","right","node","i","grammar","ohm.grammar","semantics","leftExpr","_","rightExpr","leftTree","rightTree","expr","_open","_close","_id","id","children","n","parse","content","m","StyledLatex","props","tex","options","ref","useRef","useEffect","katex","jsx","Typography","StyledTooltipButton","variant","startIcon","onClick","title","Tooltip","Button","OPERATOR","EditorRibbonInsert","onInsertChar","t","useTranslation","ButtonGroup","btn","index","EditorRibbon","Toolbar","EditorTextField","placeholder","rows","value","onChange","onKeyDown","TextField","e","Editor","onExecute","setValue","useState","handleExecute","handleInsertChar","char","prev","handleKeyDown","jsxs","Stack","PlayArrowRounded","OPERATOR_REPR","OPERATOR_EVAL_FN","l","r","_syntaxTreeToLatex","tree","nodeType","operand","labelLeft","labelRight","repr","syntaxTreeToLatex","_syntaxTreetoExprTree","orderStart","child","syntaxTreetoExprTree","LatexDisplay","text","emptyText","error","palette","shape","useTheme","bgColor","alpha","Box","_exprTreeCollectSymbols","symbols","exprTreeCollectSymbols","exprTree","_exprTreeToLatex","exprTreeToLatex","PlaygroundDialogConfig","active","table","propositionText","selected","sym","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","PlaygroundDialog","open","onClose","evalValue","Dialog","DialogTitle","DialogContent","DialogActions","StyledIconButton","onKeyPress","disabled","IconButton","PlaygroundPlaybackControl","maxValue","minValue","handleForward","handleRewind","handleKeyPress","key","maxLabel","label","KeyboardArrowLeftRounded","KeyboardArrowRightRounded","Slider","v","StyledAlert","dismissed","setDismissed","Collapse","Alert","CloseRounded","StyledFAB","Fab","TreeGraphLink","link","order","source","target","isSourceVisible","isTargetVisibleNow","isTargetVisibleSoon","isTargetVisible","isLinkVisible","LinkVertical","TreeGraphNode","symbolTable","x","y","data","typography","isNodeHighlighted","isNodeVisibleNow","isNodeVisibleSoon","isNodeVisible","Group","flatten_expr","d","TreeGraph","onNodeClick","hierarchy","height","width","Zoom","zoom","Fragment","Tree","treeHeir","ControlCameraRounded","Playground","maybeTree","containerRef","dialogOpen","setDialogOpen","setSymbolTable","selectedNode","setSelectedNode","setOrder","maxOrder","setMaxOrder","setExprTree","nextExprTree","handleTableChange","k","next","handleNodeClick","handleGraphKeyPress","treeGraphText","HelpOutlineRounded","Divider","en","th","i18next","Backend","LangDectector","initReactI18next","EditorView","i18n","i18nInstance","activeTab","setActiveTab","setTree","Container","TabContext","TabList","Tab","TabPanel","UserManualBlogEN","COMPONENTS_OVERRIDE","href","hrefLang","referrerPolicy","KATEX_OPTION","StyledMarkdown","Markdown","rehypeKatex","rehypeSlug","remarkMath","BlogView","setContent","isWorking","UserManualBlogTH","res","theme","createTheme","brown","green","responsiveFontSizes","globalStyles","GlobalStyles","App","ThemeProvider","CssBaseline","createRoot","StrictMode"],"mappings":"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"}