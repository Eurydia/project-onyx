import{j as n,r as h}from"./react-CGBVqcy-.js";import{g as Ye}from"./ohm-js-o5RsQ8tt.js";import{c as X,l as Ue,i as We,o as Ve,t as qe,p as ze,a as K,r as Z,u as $,T as y,B as He,b as q,K as Ge,M as Xe,d as Ke,L as $e,C as Ie,e as Ne,S as T,f as Ze,P as Se,g as Je,h as W,A as Qe,j as et,k as tt,m as rt,n as be,q as ke,s as se,v as nt,w as ot,x as ge,y as st,z as at,D as it,E as je,F as lt,R as Ce,G as ae,H as ye,I as Ee,J as ut,N as Ae,O as ct,Q as pt,U as dt,V as ht,W as ft,X as mt,Y as xt,Z as gt,_ as yt,$ as vt,a0 as bt,a1 as Tt,a2 as jt,a3 as ie,a4 as Rt,a5 as wt,a6 as $t,a7 as It,a8 as Nt,a9 as St,aa as kt,ab as Ct,ac as B,ad as Et,ae as At}from"./@mui-Crv0J0KC.js";import{u as Ot,L as le,a as ce,b as pe,c as Pt,d as Lt,R as _t}from"./react-router-Cv0C_Jh2.js";import{u as b,i as Dt}from"./react-i18next-B0lNVwxa.js";import{L as Ft,G as ue,Z as Mt,T as Bt}from"./@visx-Bg9-U0a4.js";import{k as Yt}from"./katex-DvRmkopC.js";import{h as Ut}from"./d3-hierarchy-B72UHu4D.js";import{i as Wt}from"./i18next-Bj_xwTXi.js";import{B as Vt}from"./i18next-browser-languagedetector-Dt8Tv9E6.js";import{B as qt}from"./i18next-http-backend-CBFgclZj.js";import{c as zt}from"./react-dom-D8eTnHID.js";import"./classnames-DHUZR2-n.js";import"./@emotion-DoMzSQb3.js";import"./hoist-non-react-statics-mLZj6LgC.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-DeDm9stz.js";import"./@popperjs-FRdid3Df.js";import"./react-is-CofOpdII.js";import"./cookie--_YQFYBD.js";import"./prop-types-CZ1f4sS1.js";import"./@use-gesture-CYhkdCkN.js";import"./d3-shape-rFcaQ0O8.js";import"./d3-path-BevWroqt.js";import"./scheduler-DScgqB4t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var p=(e=>(e.IFF="IFF",e.IMPL="IMPL",e.AND="AND",e.OR="OR",e.NOT="NOT",e))(p||{}),i=(e=>(e.CONST="CONSTANT",e.IDEN="IDEN",e.UNARY="UNARY",e.BINARY="BINARY",e))(i||{});const Q=(e,t,r)=>{let o={nodeType:i.BINARY,operator:e,left:t,right:r[0]};for(let s=1;s<r.length;s++)o={nodeType:i.BINARY,operator:e,left:o,right:r[s]};return o},Oe=Ye(String.raw`
BooleanExpressions {
  Expression
    = Iff 

  Iff
    = Implies (iff_sym Implies)*

  Implies
    = Or (implies_sym Or)*

  Or
    = And (or_sym And)*

  And
    = Not (and_sym Not)*

  Not
    = not_sym Not                   --not
    | Primary

  Primary
    = "(" Expression ")" --group
    | true_sym    --lit_true
    | false_sym   --lit_false
    | identifier  --variable

  identifier
    = letter
  
  iff_sym 
    = "iff"
    | "⇔"
  
  implies_sym 
    = "implies"
    | "⇒"
  
  or_sym
    = "or"
    | "∨"

  and_sym
    = "and"
    | "∧"
  
  not_sym
    = "not"
    | "¬"

  true_sym
    = "⊤"
    | "T"
    | "1"

  false_sym
    = "⊥"
    | "F"
    | "0"
}
`),Pe=Oe.createSemantics();Pe.addOperation("buildTree",{Expression(e){return e.buildTree()},Iff(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(p.IFF,o,s)},Implies(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(p.IMPL,o,s)},Or(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(p.OR,o,s)},And(e,t,r){const o=e.buildTree(),s=r.buildTree();return!Array.isArray(s)||s.length===0?o:Q(p.AND,o,s)},Not_not(e,t){return{nodeType:i.UNARY,operator:p.NOT,operand:t.buildTree()}},Primary_group(e,t,r){return t.buildTree()},Primary_lit_true(e){return{nodeType:i.CONST,value:!0}},Primary_lit_false(e){return{nodeType:i.CONST,value:!1}},Primary_variable(e){return{nodeType:i.IDEN,symbol:e.sourceString}},identifier(e){return this.sourceString},_iter(...e){return e.map(t=>t.buildTree())}});const de=e=>{const t=Oe.match(e);return t.succeeded()?{ok:!0,tree:Pe(t).buildTree()}:{ok:!1}},g=e=>({nodeType:i.UNARY,operator:p.NOT,operand:e}),D=(e,t,r)=>({nodeType:i.BINARY,operator:e,left:t,right:r}),N=(e,t)=>D(p.AND,e,t),R=(e,t)=>D(p.OR,e,t),P=(e,t)=>D(p.IMPL,e,t),Ht=(e,t)=>D(p.IFF,e,t),k=e=>({nodeType:i.CONST,value:e}),O=e=>{switch(e.nodeType){case i.CONST:return String(e.value);case i.IDEN:return e.symbol;case i.UNARY:{let t=O(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${e.operator} ${t}`}case i.BINARY:{let t=O(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=O(e.right);return e.right.nodeType===i.BINARY&&(r=`( ${r} )`),`${t} ${e.operator} ${r}`}}},ee=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const t=ee(e.operand);return g(t)}case i.BINARY:{const t=ee(e.left),r=ee(e.right);switch(e.operator){case p.IFF:return N(R(g(t),r),R(g(r),t));case p.IMPL:return R(g(t),r);case p.AND:return N(t,r);case p.OR:return R(t,r)}}}},A=e=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const{operand:t}=e;switch(t.nodeType){case i.CONST:return k(!t.value);case i.IDEN:return e;case i.UNARY:return A(t.operand);case i.BINARY:{const r=t.operator===p.AND?p.OR:p.AND;return A(D(r,g(t.left),g(t.right)))}}break}case i.BINARY:{const t=A(e.left),r=A(e.right);if(e.operator===p.AND)return N(t,r);if(r.nodeType===i.BINARY&&r.operator===p.AND){const o=A(R(t,r.left)),s=A(R(t,r.right));return N(o,s)}if(t.nodeType===i.BINARY&&t.operator===p.AND){const o=A(R(t.left,r)),s=A(R(t.right,r));return N(o,s)}return R(t,r)}}},Gt=e=>{const t=[...e];if(t.every(s=>s.nodeType===i.CONST&&!s.value))return new Set([k(!1)]);if(t.some(s=>s.nodeType===i.CONST&&s.value))return new Set([k(!0)]);const r=new Set,o=new Set;for(const s of t)switch(s.nodeType){case i.IDEN:{if(o.has(O(g(s))))return new Set([k(!0)]);const a=O(s);o.has(a)||(o.add(a),r.add(s));break}case i.UNARY:{if(o.has(O(s.operand)))return new Set([k(!0)]);const a=O(s);o.has(a)||(o.add(a),r.add(s))}}return r},Y=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:case i.UNARY:t.add(new Set([e]));break;case i.BINARY:{if(e.operator===p.AND){Y(e.left,t),Y(e.right,t);return}const r=new Set;Y(e.left,r),Y(e.right,r);const o=new Set;r.forEach(s=>{s.forEach(a=>{o.add(a)})}),t.add(Gt(o));break}}},Xt=e=>{if(e.size===0)return k(!1);const t=[...e];let r=t[0];for(const o of t.slice(1))r=R(r,o);return r},Le=e=>{const t=new Set;Y(A(ee(e)),t);const r=[...t].map(a=>Xt(a));if(r.length===0||r.some(a=>a.nodeType===i.CONST&&!a.value))return k(!1);if(r.every(a=>a.nodeType===i.CONST&&a.value))return k(!0);let o;const s=new Set;for(const a of r){if(a.nodeType===i.IDEN){if(s.has(O(g(a))))return k(!1);s.add(a.symbol)}if(a.nodeType===i.UNARY){if(s.has(a.operand.symbol))return k(!1);s.add(O(a))}o===void 0?o=a:o=N(o,a)}return o},Kt=new Map([[p.NOT,"\\lnot"],[p.AND,"\\land"],[p.OR,"\\lor"],[p.IMPL,"\\implies"],[p.IFF,"\\iff"]]),z=e=>Kt.get(e)??"",L=e=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.value}}`;case i.IDEN:return e.symbol;case i.UNARY:{let t=L(e.operand);return e.operand.nodeType===i.BINARY&&(t=`( ${t} )`),`${z(e.operator)} ${t}`}case i.BINARY:{let t=L(e.left);e.left.nodeType===i.BINARY&&(t=`( ${t} )`);let r=L(e.right);e.right.nodeType===i.BINARY&&(r=`( ${r} )`);const o=z(e.operator);return`${t} ${o} ${r}`}}},Zt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,normalizedTree:Le(l.tree),originalTree:l.tree,inputInterpretationLatex:L(l.tree),inputRaw:a.trim()}:{ok:!1,inputRaw:a.trim()})}return{userInput:r,items:o}},Jt=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);o.push(l.ok?{ok:!0,inputRaw:a.trim(),tree:l.tree,inputInterpretationLatex:L(l.tree)}:{ok:!1,inputRaw:a.trim()})}return{userInput:r.trim(),items:o}},Qt=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case i.IDEN:t.add(o.symbol);break;case i.UNARY:r.push(o.operand);break;case i.BINARY:r.push(o.left),r.push(o.right);break}}return[...t].toSorted((o,s)=>o.localeCompare(s))},er=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",symbols:[],items:[]};const o=new Set,s=[];for(const l of r.split(",")){const c=de(l);if(!c.ok){s.push({inputRaw:l.trim(),ok:!1});continue}const{tree:u}=c;Qt(u).forEach(d=>o.add(d)),s.push({ok:!0,inputRaw:l.trim(),inputInterpretationLatex:L(u),tree:u})}return{userInput:r,items:s,symbols:[...o].toSorted((l,c)=>l.localeCompare(c))}},tr=({request:e})=>{const r=new URL(e.url).searchParams.get("input");if(r===null||r.trim().length===0)return{userInput:"",items:[]};const o=[];for(const a of r.split(",")){const l=de(a);if(!l.ok){o.push({ok:!1,inputRaw:a});continue}o.push({ok:!0,inputRaw:a,originalTree:l.tree,inputInterpretationLatex:L(l.tree)})}return{userInput:r,items:o}},rr=X({primary:{main:Ue[300]},contrastThreshold:9,tonalOffset:.5}),_e=X({primary:{main:We[200]},tonalOffset:.47,contrastThreshold:9}),De=X({primary:{main:Ve[200]},tonalOffset:.47,contrastThreshold:9}),Fe=X({primary:{main:qe[200]},tonalOffset:.5,contrastThreshold:9}),Me=X({primary:{main:ze[200]},tonalOffset:.47,contrastThreshold:9});let ve=K({palette:rr});ve=Z(ve);const nr=ve,or=Z(K({palette:Fe})),sr=Z(K({palette:_e})),ar=Z(K({palette:De})),ir=Z(K({palette:Me})),lr=["evaluator","comparator","checker","rewriter"],he=()=>{const{t:e}=b("nav"),{palette:t}=$(),{pathname:r}=Ot();return n.jsxs(h.Fragment,{children:[n.jsx(y,{component:le,to:"/",sx:{color:t.primary.dark,textTransform:"capitalize",textDecorationLine:"none"},children:e("home")}),lr.map((o,s)=>{const a=`/${o}`,l=a.localeCompare(r)===0?900:void 0;return n.jsx(y,{component:le,to:a,sx:{color:t.primary.dark,textTransform:"capitalize",fontWeight:l,textDecorationLine:"none"},children:e(o)},"item"+s)})]})},j=e=>{const{sx:t,children:r,options:o}=e,s=h.useRef(null);return h.useEffect(()=>{s.current!==null&&window.renderMathInElement(s.current,{strict:!1,output:"html",delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],...o})},[r,s,o]),n.jsx(y,{ref:s,sx:{...t,"& .katex-display > .katex":{whiteSpace:"normal"}},children:r})},ur=e=>{const{options:t,onClick:r}=e,{palette:o}=$(),[s,a]=h.useState(!1),[l,c]=h.useState(t[0]),u=h.useRef(null);return n.jsxs(h.Fragment,{children:[n.jsxs(He,{ref:u,variant:"contained",disableElevation:!0,disableRipple:!0,color:"primary",children:[n.jsx(q,{onClick:()=>r(l.value),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(j,{sx:{textTransform:"none",fontFamily:"monospace"},children:`${l.label}`})}),n.jsx(q,{onClick:()=>a(!0),sx:{"&:hover":{color:o.getContrastText(o.primary.main),backgroundColor:o.primary.main},color:o.primary.dark,backgroundColor:o.primary.light},children:n.jsx(Ge,{sx:{transition:"transform 0.2s ease",transform:s?"rotate(180deg)":"rotate(0deg)"}})})]}),n.jsx(Xe,{open:s,anchorEl:u.current,onClose:()=>a(!1),onClick:()=>a(!1),children:t.map((d,m)=>{const f=d.label===l.label;return n.jsxs(Ke,{disableRipple:!0,selected:f,onClick:()=>c(d),sx:{padding:2},children:[n.jsx($e,{children:f&&n.jsx(Ie,{})}),n.jsx(Ne,{disableTypography:!0,children:n.jsx(j,{sx:{fontFamily:"monospace"},children:`${d.label}`})})]},"option"+m)})})]})},cr=[{label:"$\\texttt{not}$",value:"not"},{label:"$\\texttt{and}$",value:"and"},{label:"$\\texttt{or}$",value:"or"},{label:"$\\texttt{implies}$",value:"implies"},{label:"$\\texttt{iff}$",value:"iff"}],pr=[{label:"$\\mathbf{\\lnot}$",value:"¬"},{label:"$\\mathbf{\\land}$",value:"∧"},{label:"$\\mathbf{\\lor}$",value:"∨"},{label:"$\\mathbf{\\implies}$",value:"⇒"},{label:"$\\mathbf{\\iff}$",value:"⇔"}],dr=e=>{const{onClick:t}=e;return n.jsx(T,{flexDirection:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,children:cr.map((r,o)=>n.jsx(ur,{onClick:s=>t(s),options:[pr[o],r]},"insert-btn-text"+o))})},hr=e=>{const{placeholder:t,value:r,onChange:o,onSubmit:s}=e,{palette:a}=$(),{t:l}=b("components",{keyPrefix:"editor"}),c=h.useRef(null),[u,d]=h.useState(!1),[m,f]=h.useState(0),[v,x]=h.useState(0),w=I=>{if(c.current===null)return;const F=r.slice(0,m),Be=r.slice(v);o(`${F}${I}${Be}`),f(`${F}${I}`.length),x(`${F}${I}`.length)},E=I=>{const F=I.target;f(F.selectionStart??0),x(F.selectionEnd??0)};return n.jsxs(T,{spacing:1,children:[n.jsx(dr,{onClick:w}),n.jsx(Ze,{inputRef:c,fullWidth:!0,multiline:!0,rows:5,value:r,placeholder:t,onChange:I=>o(I.target.value),slotProps:{input:{sx:{fontFamily:"monospace"}},htmlInput:{autoCapitalize:"off",spellCheck:"false",onSelect:E}}}),n.jsxs(T,{spacing:1,useFlexGap:!0,flexWrap:"wrap",direction:"row",children:[n.jsx(q,{disableElevation:!0,disableRipple:!0,disabled:r.trim().length===0,variant:"contained",startIcon:n.jsx(Se,{}),onClick:s,sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l("run")}),n.jsx(q,{disableElevation:!0,disableRipple:!0,startIcon:u?n.jsx(Ie,{}):n.jsx(Je,{}),variant:"contained",onClick:()=>{navigator.clipboard.writeText(r),d(!0),setTimeout(()=>{d(!1)},1e3)},sx:{"&:hover":{color:a.getContrastText(a.primary.main),backgroundColor:a.primary.main},color:a.primary.dark,backgroundColor:a.primary.light},children:l(u?"copied":"copy")})]})]})},fe=h.memo(hr,(e,t)=>e.value===t.value&&e.onSubmit===t.onSubmit),J=e=>{const{appHeader:t,title:r,children:o}=e,{palette:s}=$();return n.jsxs(h.Fragment,{children:[n.jsx(W,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:4,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:2},children:t}),n.jsx(W,{paddingX:{xs:2,md:0},paddingY:4,sx:{backgroundColor:s.primary.light,color:s.primary.dark,alignItems:"center"},children:n.jsx(y,{variant:"h1",fontWeight:900,fontFamily:"monospace",textTransform:"capitalize",maxWidth:"lg",marginX:{xs:0,md:"auto"},sx:{textWrap:"balance",whiteSpace:"normal",overflowWrap:"break-word",hyphens:"auto"},children:r})}),n.jsx(W,{width:"100%",maxWidth:"lg",marginX:{xs:0,md:"auto"},paddingX:{xs:2,md:0},paddingY:8,children:o})]})},_=e=>{const{children:t,severity:r}=e,{t:o}=b("components",{keyPrefix:"alert"});return n.jsxs(Qe,{severity:r,children:[n.jsx(et,{sx:{fontWeight:900},children:o("notice")}),t]})},me=e=>{const{items:t}=e,{t:r}=b("components",{keyPrefix:"input-display"});return n.jsxs(T,{spacing:1,children:[t.map((o,s)=>{const a=s+1;return o.ok?n.jsx(j,{children:`$$${o.inputInterpretationLatex} \\tag{${a}}$$`},"expr"+s):n.jsx(j,{sx:{color:({palette:l})=>l.error.main},children:`$$\\varnothing \\tag{${a}}$$`},"expr"+s)}),t.some(o=>!o.ok)&&n.jsxs(_,{severity:"warning",children:[n.jsx(y,{children:r("warnings.the-following-input-are-invalid")}),n.jsx(tt,{children:t.map((o,s)=>{if(o.ok)return null;const a=s+1;return n.jsxs(rt,{children:[n.jsx($e,{children:n.jsx(y,{children:`(${a})`})}),n.jsx(Ne,{disableTypography:!0,children:o.inputRaw.length===0?n.jsx(y,{fontStyle:"italic",children:r("empty-string")}):n.jsx(y,{fontFamily:"monospace",children:o.inputRaw})})]},"invalid-input"+s)})})]})]})},fr=e=>{const{itemNum:t,result:r,originalLatex:o}=e,{t:s}=b("views",{keyPrefix:"checker-view.cards.output.text"});let a=s("contingent");return r.nodeType===i.CONST&&(a=r.value?s("tautology"):s("contradiction")),n.jsx(j,{children:s("formula-is-value",{formula:`$$${o}\\tag{${t}}$$`,value:`$$\\boxed{\\textbf{${a}}}$$`})})},H=e=>{const{primary:t,secondary:r}=e,[o,s]=h.useState(!1),a=()=>{s(l=>!l)};return n.jsxs(be,{variant:"outlined",children:[n.jsx(ke,{disableRipple:!0,disableTouchRipple:!0,onClick:a,children:n.jsx(se,{children:t})}),n.jsx(nt,{in:o,children:r})]})},mr=(e,t)=>{const r=[],o=1<<e;for(let s=0;s<o;s++){const a=s.toString(2).padStart(e,"0"),l=new Map;for(let c=0;c<e;c++)l.set(t[c],a[c]==="0");r.push(l)}return r},Te=e=>{const t=new Set,r=[e];for(;r.length>0;){const o=r.shift();switch(o.nodeType){case i.CONST:break;case i.IDEN:t.add(o.repr);break;case i.UNARY:r.push(o.child);break;case i.BINARY:r.push(o.left),r.push(o.right);break}}return t},V=(e,t=null)=>{switch(e.nodeType){case i.CONST:return`\\textbf{${e.repr}}`;case i.IDEN:return t!==null&&t.has(e.repr)?t.get(e.repr):e.repr;case i.UNARY:{const r=V(e.child,t);return e.child.nodeType===i.BINARY?`${e.repr} ( ${r} )`:`${e.repr} ${r}`}case i.BINARY:{let r=V(e.left,t);e.left.nodeType===i.BINARY&&(r=`( ${r} )`);let o=V(e.right,t);return e.right.nodeType===i.BINARY&&(o=`( ${o} )`),`${r} ${e.repr} ${o}`}}},C=e=>V(e),Re=(e,t)=>V(e,t),te=(e,t,r,o)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:return;case i.UNARY:{const s=Re(e,o);if(r.has(s))return;r.add(s),te(e.child,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}case i.BINARY:{const s=Re(e,o);if(r.has(s))return;r.add(s),te(e.left,t,r,o),te(e.right,t,r,o);const a={eval:e.eval,label:s};t.push(a);return}}},xr=e=>{const t=[],r=new Set,o=new Map;for(const s of Te(e))o.set(s,s.length>=5?`${s.slice(0,5)}\\ldots`:s);return te(e,t,r,o),t},gr=e=>{const{value:t}=e,{t:r}=b("components",{keyPrefix:"truth-table.text"}),{palette:o}=$(),s=t?o.primary.light:ot(o.primary.light,.6);return n.jsx(ge,{align:"center",sx:{backgroundColor:s,color:o.primary.dark},children:n.jsx(y,{children:r(t?"true":"false")})})},we=h.memo(gr,(e,t)=>e.value===t.value),yr=e=>{const{exprTree:t,slotProps:r}=e,{t:o}=b("components",{keyPrefix:"truth-table"}),{palette:s}=$(),[a,l]=h.useState(!1),c=xr(t),u=[...Te(t)];u.sort();const d=u.length>3&&!a?[]:mr(u.length,u);return u.length>3&&!a?n.jsxs(T,{spacing:1,padding:1,children:[n.jsx(_,{severity:"warning",children:o("warnings.large-truth-table-can-slow-application-down")}),n.jsx(q,{disableElevation:!0,disableRipple:!0,onClick:()=>l(!0),sx:{"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light,width:"fit-content"},children:o("warnings.confirm")})]}):n.jsx(st,{sx:r.container,children:n.jsxs(at,{stickyHeader:!0,children:[n.jsx(it,{children:n.jsxs(je,{children:[u.map((m,f)=>n.jsx(ge,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(j,{children:`$${m}$`})},"sym"+f)),c.map((m,f)=>n.jsx(ge,{align:"center",sx:{whiteSpace:"nowrap"},children:n.jsx(j,{children:`$${m.label}$`})},"subexpr"+f))]})}),n.jsx(lt,{children:d.map((m,f)=>n.jsxs(je,{children:[u.map((v,x)=>n.jsx(we,{value:m.get(v)||!1},"sym"+x)),c.map((v,x)=>n.jsx(we,{value:v.eval(m)},"col"+x))]},"perm"+f))})]})})},xe=h.memo(yr,(e,t)=>C(e.exprTree)===C(t.exprTree)),vr={[p.AND]:(e,t)=>r=>e(r)&&t(r),[p.OR]:(e,t)=>r=>e(r)||t(r),[p.IMPL]:(e,t)=>r=>!e(r)||t(r),[p.IFF]:(e,t)=>r=>e(r)===t(r)},re=(e,t)=>{const{nodeType:r}=e;switch(r){case i.CONST:return{eval:()=>e.value,nodeType:r,order:t+1,repr:String(e.value)};case i.IDEN:return{eval:s=>s.get(e.symbol)??!1,nodeType:r,order:t+1,repr:e.symbol};case i.UNARY:{const o=re(e.operand,t);return{repr:z(e.operator),child:o,nodeType:r,eval:a=>!o.eval(a),order:o.order+1}}case i.BINARY:{const o=re(e.left,t),s=re(e.right,o.order);return{nodeType:r,eval:vr[e.operator](o.eval,s.eval),left:o,right:s,order:s.order+1,repr:z(e.operator)}}}},G=e=>re(e,0),br=e=>{const{items:t}=e,{t:r}=b("views",{keyPrefix:"checker-view.cards.output.infos"});return t.filter(o=>o.ok).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:r("no-formula-to-display")})}):n.jsx(h.Fragment,{children:t.map((o,s)=>{if(!o.ok)return null;const a=G(o.originalTree),l=s+1;return n.jsx(H,{primary:n.jsx(fr,{itemNum:l,result:o.normalizedTree,originalLatex:o.inputInterpretationLatex}),secondary:n.jsx(xe,{exprTree:a,slotProps:{container:{maxHeight:"40vh"}}})},"verdict"+s)})})},Tr=e=>{const{items:t}=e,{typography:r}=$(),{t:o}=b("views",{keyPrefix:"checker-view.cards"});return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:r.h3.fontSize,children:o("output.title")}),n.jsx(br,{items:t})]})},jr=()=>{const{items:e,userInput:t}=ce(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(t);h.useEffect(()=>{a(t)},[t]);const l=()=>{r({input:s},{method:"GET",action:"/checker"})};return n.jsx(J,{appHeader:n.jsx(he,{}),title:o("checker"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p or not p, not q and q, p implies q",onSubmit:l}),e.length>0&&n.jsx(Tr,{items:e})]})})};function*Rr(e){let t=0;const r=1<<e.length;for(;t<r;){const o=new Map,s=t.toString(2).padStart(e.length,"0");for(let a=0;a<r;a++)o.set(e[a],s[a]==="1");yield o,t++}}const wr=e=>{const t=Te(e),r=Rr([...t]);for(const o of r)if(!e.eval(o))return!1;return!0},$r=e=>{const{items:t,onMainItemIndexChange:r,mainItemIndex:o}=e,{t:s}=b("views",{keyPrefix:"comparator-view.cards"}),{typography:a}=$(),l=h.useMemo(()=>t.filter(u=>u.ok),[t]),c=h.useMemo(()=>{if(o===null)return null;const u=t.at(o);return u===void 0||!u.ok?null:u},[o,t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length<=1&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.not-enough-formula-for-comparison")})}),o!==null&&l.length>1&&n.jsx(Ce,{value:o,onChange:(u,d)=>r(Number.parseInt(d)),children:t.map((u,d)=>{if(!u.ok)return null;const m=u.inputInterpretationLatex;return n.jsx(ae,{control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:d,label:n.jsx(j,{children:`$$${m}$$`}),slotProps:{typography:{width:"100%"}}},"main-expr-option"+d)})}),c!==null&&o!==null&&l.length>1&&t.map((u,d)=>{if(!u.ok||d===o)return null;const m=G(Ht(c.tree,u.tree)),f=wr(m),v=o+1,x=d+1,w=c.inputInterpretationLatex,E=u.inputInterpretationLatex,I=s(f?"output.text.equivalent":"output.text.not-equivalent");return n.jsx(H,{primary:n.jsx(j,{children:s("output.text.formulas-are-value",{first:`$$${w} \\tag{${v}}$$`,second:`$$${E} \\tag{${x}}$$`,value:`$$\\boxed{\\textbf{${I}}}$$`})}),secondary:n.jsx(xe,{exprTree:m,slotProps:{container:{maxHeight:"40vh"}}})},"comparison-pair"+d)})]})},Ir=()=>{const{items:e,userInput:t}=ce(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(t),[l,c]=h.useState(()=>{for(const[d,m]of e.entries())if(m.ok)return d;return null});h.useEffect(()=>{a(t)},[t]),h.useEffect(()=>{for(const[d,m]of e.entries())if(m.ok){c(d);return}c(null)},[e]);const u=h.useCallback(()=>{r({input:s},{method:"GET",action:"/comparator"})},[r,s]);return n.jsx(J,{appHeader:n.jsx(he,{}),title:o("comparator"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:u}),e.length>0&&n.jsx($r,{mainItemIndex:l,onMainItemIndexChange:c,items:e})]})})},Nr=()=>{const e=Pt(),{t}=b("views",{keyPrefix:"error-view"});return n.jsx(W,{maxWidth:"md",marginX:{xs:2,md:"auto"},paddingY:2,children:n.jsxs(be,{variant:"outlined",children:[n.jsx(Ee,{title:t("title"),slotProps:{title:{fontWeight:900}}}),n.jsx(ut,{disableSpacing:!0,children:n.jsx(y,{component:le,to:"/",color:"primary",sx:{textDecorationLine:"none","&:hover":{textDecorationLine:"underline"}},children:t("return-home")})}),n.jsx(se,{children:n.jsx(y,{fontFamily:"monospace",color:"error",component:"pre",children:JSON.stringify(e,null,4)})})]})})},M=e=>{const{children:t,onKeyPress:r,onClick:o,title:s,disabled:a}=e;return n.jsx(Ae,{title:n.jsx(y,{children:s}),children:n.jsx("span",{children:n.jsx(ct,{disableRipple:!0,disabled:a,onClick:o,onKeyDown:r,children:t})})})},Sr=e=>{const{value:t,maxValue:r,minValue:o,onChange:s,isAnimationPlaying:a,onAnimationPause:l,onAnimationPlay:c,onAnimationReplay:u}=e,{t:d}=b("components",{keyPrefix:"graph.playback"}),m=()=>{t>=r||s(t+1)},f=()=>{t<=o||s(t-1)};return n.jsxs(T,{children:[n.jsx(pt,{valueLabelDisplay:"auto",onChange:(v,x)=>s(x),value:t,max:r,min:o,step:1}),n.jsxs(T,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(M,{disabled:t<=o,title:d("previous"),onClick:f,children:n.jsx(dt,{})}),t===r&&n.jsx(M,{title:d("replay"),onClick:u,children:n.jsx(ht,{})}),t!==r&&a&&n.jsx(M,{title:d("pause"),onClick:l,children:n.jsx(ft,{})}),t!==r&&!a&&n.jsx(M,{title:d("play"),onClick:c,children:n.jsx(Se,{})}),n.jsx(M,{disabled:t>=r,title:d("forward"),onClick:m,children:n.jsx(mt,{})}),n.jsx(y,{children:`${t}/${r}`})]})]})},kr=h.memo(Sr,(e,t)=>["value","maxValue","minValue","isAnimationPlaying"].every(o=>e[o]===t[o])),Cr=e=>{const{link:t,order:r}=e,{palette:o}=$(),{source:s,target:a}=t,l=s.data.order<=r,c=a.data.order<=r,u=a.data.order<=r+1,d=c||u,m=l&&d;return n.jsx(Ft,{data:t,stroke:o.primary.light,visibility:m?"visible":"hidden",strokeOpacity:d?"0.6":"0.3",strokeWidth:"5",fill:"none"})},Er=e=>{const{r:t,order:r,node:o,symbolTable:s}=e,{t:a}=b("components",{keyPrefix:"graph"}),{x:l,y:c,data:u}=o,{palette:d,typography:m}=$(),f=h.useRef(null);h.useEffect(()=>{f.current!==null&&(f.current.innerHTML=Yt.renderToString(u.repr).replaceAll("span","tspan"))},[f,u.repr]);const v=u.order===r,x=u.order<=r,w=u.order<=r+1,E=x||w;return n.jsxs(ue,{top:c,left:l,opacity:x?1:.5,visibility:E?"visible":"hidden",children:[n.jsx("circle",{strokeWidth:v?5:0,stroke:d.primary.dark,strokeOpacity:.8,r:t,fill:d.primary.light}),n.jsx("text",{ref:f,fontSize:m.body1.fontSize,fill:d.primary.contrastText,dy:"0.33rem",textAnchor:"middle",pointerEvents:"none",style:{userSelect:"none"}}),n.jsxs(ue,{transform:`translate(${t/3}, ${t/3})`,visibility:u.order<r?"visible":"hidden",children:[n.jsx("rect",{width:60,height:30,rx:5,ry:5,fill:d.primary.light}),n.jsx("text",{x:"30",y:"22",textAnchor:"middle",pointerEvents:"none",fill:d.primary.contrastText,style:{userSelect:"none"},children:u.eval(s)?a("true"):a("false")})]})]})},Ar=e=>{const{tree:t,order:r,symbolTable:o}=e,{palette:s}=$(),{t:a}=b("components",{keyPrefix:"graph"}),l=h.useRef(null),c=Ut(t,x=>{switch(x.nodeType){case i.CONST:return null;case i.IDEN:return null;case i.UNARY:return[x.child];case i.BINARY:return[x.left,x.right]}}),u=l.current===null?0:l.current.getBoundingClientRect().width,d=l.current===null?0:l.current.getBoundingClientRect().height,m=(c.leaves().length+1)*150,f=(c.height+1)*100,v=30;return n.jsx(W,{ref:l,width:"100%",height:"100%",position:"relative",children:n.jsx(Mt,{width:u,height:d,scaleXMin:1/10,scaleXMax:1,scaleYMin:1/10,scaleYMax:1,children:x=>n.jsxs(h.Fragment,{children:[n.jsx("svg",{width:u,height:d,ref:x.containerRef,style:{touchAction:"none",cursor:x.isDragging?"grabbing":"grab"},onMouseDown:x.dragStart,onMouseMove:x.dragMove,onMouseUp:x.dragEnd,onMouseLeave:x.dragEnd,children:n.jsx(ue,{transform:x.toString(),children:n.jsx(Bt,{root:c,size:[m,-f],children:w=>n.jsxs(ue,{top:f+v*1.5,children:[w.links().map((E,I)=>n.jsx(Cr,{order:r,link:E},`link-${I}`)),w.descendants().map((E,I)=>n.jsx(Er,{order:r,node:E,symbolTable:o,r:v},`node-${I}`))]})})})}),n.jsx(Ae,{placement:"right",title:n.jsx(y,{children:a("center")}),children:n.jsx(xt,{onClick:x.center,sx:{position:"absolute",left:16,bottom:16,"&:hover":{color:s.getContrastText(s.primary.main),backgroundColor:s.primary.main},color:s.primary.dark,backgroundColor:s.primary.light},children:n.jsx(gt,{})})})]})})})},Or=h.memo(Ar,(e,t)=>{if(e.order!==t.order||C(e.tree).localeCompare(C(t.tree))!==0)return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Pr=e=>{const{exprTree:t,symbolTable:r,slotProps:o}=e,[s,a]=h.useState(1),[l,c]=h.useState(1),[u,d]=h.useState(!1),m=h.useRef(null),f=h.useRef(u),v=h.useRef(s);return h.useEffect(()=>{f.current=u},[u]),h.useEffect(()=>{v.current=s},[s]),h.useEffect(()=>(u&&(m.current=setInterval(()=>{f.current&&a(x=>x<l?x+1:(d(!1),f.current=!1,x))},750)),()=>clearInterval(m.current??void 0)),[u,l,s]),h.useEffect(()=>{a(1),c(t.order+1)},[t]),n.jsxs(T,{spacing:1,children:[n.jsx(yt,{variant:"outlined",sx:o.container,children:n.jsx(Or,{order:s,tree:t,symbolTable:r})}),n.jsx(kr,{maxValue:l,minValue:1,value:s,onChange:a,isAnimationPlaying:u,onAnimationPause:()=>{d(!1)},onAnimationPlay:()=>{d(!0)},onAnimationReplay:()=>{a(1),d(!0)}})]})},ne=(e,t,r)=>{switch(e.nodeType){case i.CONST:return;case i.IDEN:{const o=e.eval(t),s=e.repr;r.push({repr:s,evaluated:o,substitutions:[{repr:s,evaluated:o,stepRef:!1,substituted:`\\text{${o}}`}],connective:null})}break;case i.UNARY:{const{child:o}=e,s=o.eval(t);let a=!1;o.nodeType!==i.CONST&&o.nodeType!==i.IDEN&&(ne(o,t,r),a=r.length);const l=[];o.nodeType!==i.CONST&&l.push({repr:C(o),evaluated:s,stepRef:a,substituted:`\\lnot ${s?"\\top":"\\bot"}
            }`}),r.push({repr:C(e),substitutions:l,evaluated:e.eval(t),connective:e.repr})}break;case i.BINARY:{const{right:o,left:s}=e,a=s.eval(t),l=a?"\\top":"\\bot";let c=!1;s.nodeType!==i.CONST&&s.nodeType!==i.IDEN&&(ne(s,t,r),c=r.length);const u=o.eval(t),d=C(o),m=o.nodeType===i.BINARY?`( ${d} )`:d,f=u?"\\top":"\\bot";let v=!1;o.nodeType!==i.CONST&&o.nodeType!==i.IDEN&&(ne(o,t,r),v=r.length);const x=[];s.nodeType!==i.CONST&&x.push({repr:C(s),evaluated:a,stepRef:c,substituted:`${l} ${e.repr} ${m}`}),o.nodeType!==i.CONST&&x.push({repr:d,evaluated:u,stepRef:v,substituted:`${l} ${e.repr} ${f}`}),r.push({repr:C(e),evaluated:e.eval(t),substitutions:x,connective:e.repr})}break}},Lr=(e,t)=>{const r=[];return ne(e,t,r),r},_r=e=>{const{subStep:t,references:r,subStepIndex:o,stepIndex:s}=e,a=String.fromCharCode(o+97),l=String.fromCharCode(o+97+1),{t:c}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),{substituted:u,evaluated:d,repr:m,stepRef:f}=t;if(f===!1)return n.jsx(j,{children:c("given-variable-is-value",{variable:`$${m}$`,formula:`$$${u}.\\tag{${s}.${l}}$$`,value:c(d?"true":"false")})});const v=r[f-1].repr;return n.jsx(j,{children:c("from-previous-step-substitute-into-formula",{step:`$\\text{(${f}.a)}$`,formula:`$$${v}$$`,value:c(d?"true":"false"),current:`$\\text{(${s}.${a})}$`,result:`$$${u}.\\tag{${s}.${l}}$$`})})},Dr=e=>{const{step:t,stepIndex:r,references:o}=e,{evaluated:s,repr:a,substitutions:l,connective:c}=t,{t:u}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),d=`${r}.a`;return n.jsxs(T,{spacing:1,children:[n.jsx(y,{fontWeight:900,children:u("step-x-of-y",{current:r,total:o.length})}),n.jsx(j,{children:u("consider-the-formula",{formula:`$$${a}.\\tag{${d}}$$`})}),l.map((m,f)=>n.jsx(_r,{stepIndex:r,subStepIndex:f,subStep:m,references:o},"sub-step"+r+f)),n.jsx(j,{children:u("by-truth-table-formula-is-value",{operator:`$${c}$`,formula:`$(${d})$`,value:u(s?"true":"false")})})]})},Fr=e=>{const{exprTree:t,symbolTable:r}=e,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),s=h.useMemo(()=>Lr(t,r),[t,r]);if(s.length===0)return n.jsx(y,{fontStyle:"italic",children:o("no-evaluation-step-to-display")});const{evaluated:a,repr:l}=s.at(-1);return n.jsxs(T,{spacing:2,children:[n.jsx(Pr,{exprTree:t,symbolTable:r,slotProps:{container:{height:{xs:"50vh",md:"66vh"}}}}),s.map((c,u)=>n.jsx(Dr,{step:c,stepIndex:u+1,references:s},"step"+u)),n.jsx(j,{children:o("therefore-formula-is-value",{formula:`$$${l}$$`,value:o(a?"true":"false")})})]})},Mr=h.memo(Fr,(e,t)=>{if(C(e.exprTree)!==C(t.exprTree))return!1;for(const[r,o]of e.symbolTable.entries())if(t.symbolTable.get(r)!==o)return!1;return!0}),Br=e=>{const{items:t,symbolTable:r}=e,{t:o}=b("views",{keyPrefix:"evaluator-view.cards.step-by-step"}),[s,a]=h.useState(()=>t.findIndex(c=>c.ok));return h.useEffect(()=>{a(t.findIndex(c=>c.ok))},[t]),h.useMemo(()=>t.filter(c=>c.ok),[t]).length===0?n.jsx(_,{severity:"info",children:n.jsx(y,{children:o("infos.no-valid-formula-to-display")})}):n.jsxs(vt,{value:s,children:[n.jsx(bt,{onChange:(c,u)=>a(Number.parseInt(u)),variant:"scrollable",scrollButtons:"auto",textColor:"inherit",sx:{paddingX:0},children:t.map((c,u)=>c.ok?n.jsx(Tt,{value:u,disableRipple:!0,label:o("tab-item",{num:u+1})},"tab"+u):null)}),t.map((c,u)=>c.ok?n.jsx(jt,{value:u,sx:{padding:0},children:n.jsx(Mr,{exprTree:c.tree,symbolTable:r})},"tab-panel"+u):null)]})},Yr=e=>{const{value:t,onChange:r}=e,{t:o}=b("components",{keyPrefix:"symbol-config"}),s=h.useMemo(()=>[...t.keys()].toSorted((a,l)=>a.localeCompare(l)),[t]);return s.length===0?null:n.jsx(ie,{container:!0,width:"100%",sx:{maxHeight:400,overflowY:"auto"},children:s.map(a=>n.jsx(ie,{size:{xs:12,md:4},children:n.jsxs(Rt,{fullWidth:!0,children:[n.jsx(wt,{children:n.jsx(j,{children:`$${a}$`})}),n.jsxs(Ce,{row:!0,value:t.get(a)?"1":"0",onChange:(l,c)=>r(a,c==="1"),children:[n.jsx(ae,{disableTypography:!0,control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"1",label:n.jsx(y,{children:o("true")})}),n.jsx(ae,{control:n.jsx(ye,{disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0}),value:"0",disableTypography:!0,label:n.jsx(y,{children:o("false")})})]})]})},"symbol-"+a))})},Ur=e=>{const{items:t,symbolTable:r,onSymbolChange:o}=e,{typography:s}=$(),{t:a}=b("views",{keyPrefix:"evaluator-view.cards"}),l=h.useMemo(()=>t.filter(c=>c.ok),[t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("output.title")}),n.jsx(Yr,{value:r,onChange:o}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:a("output.infos.no-valid-formula-to-display")})}),l.length>0&&t.map((c,u)=>{if(!c.ok)return null;const d=G(c.tree),m=c.inputInterpretationLatex,f=d.eval(r),v=a(f?"output.true":"output.false");return n.jsx(H,{primary:n.jsx(j,{children:a("output.formula-evaluates-to-value",{formula:`$$${m}$$`,value:`$$\\boxed{\\textbf{${v}}}$$`})}),secondary:n.jsx(xe,{exprTree:d,slotProps:{container:{maxHeight:"40vh"}}})},"output-item"+u)}),n.jsx(y,{fontWeight:900,fontSize:s.h3.fontSize,children:a("step-by-step.title")}),n.jsx(Br,{symbolTable:r,items:t.map(c=>c.ok?{ok:!0,tree:G(c.tree)}:{ok:!1})})]})},Wr=()=>{const{items:e,userInput:t,symbols:r}=ce(),o=pe(),{t:s}=b("nav"),[a,l]=h.useState(t),[c,u]=h.useState(()=>{const f=new Map;for(const v of r)f.set(v,!0);return f});h.useEffect(()=>{l(t)},[t]),h.useEffect(()=>{const f=new Map;for(const v of r)f.set(v,!0);u(f)},[r]);const d=h.useCallback(()=>{o({input:a},{method:"GET",action:"/evaluator"})},[o,a]),m=h.useCallback((f,v)=>{u(x=>{const w=new Map(x);return w.set(f,v),w})},[]);return n.jsx(J,{appHeader:n.jsx(he,{}),title:s("evaluator"),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:a,onChange:l,placeholder:"p and q, p or q, p implies q, p iff q",onSubmit:d}),e.length>0&&n.jsx(Ur,{symbolTable:c,items:e,onSymbolChange:m})]})})},Vr=[{id:"evaluator",icon:n.jsx($t,{fontSize:"inherit"}),palette:Fe},{id:"comparator",icon:n.jsx(It,{fontSize:"inherit"}),palette:De},{id:"checker",icon:n.jsx(Nt,{fontSize:"inherit"}),palette:_e},{id:"rewriter",icon:n.jsx(St,{fontSize:"inherit"}),palette:Me}],qr=["en","th"],zr=()=>{const{t:e,i18n:t}=b(["views","nav"]),r=$();return n.jsx(J,{title:e("home-view.boolean-algebra-interpreter",{ns:"views"}),appHeader:n.jsx(T,{useFlexGap:!0,flexDirection:"row",flexWrap:"wrap",spacing:2,justifyContent:"flex-end",width:"100%",children:qr.map((o,s)=>{const a=o.localeCompare(t.language)===0?900:void 0;return n.jsx(y,{fontWeight:a,onClick:()=>t.changeLanguage(o),sx:{cursor:"pointer",textTransform:"capitalize"},children:e(`home-view.lang.${o}`,{ns:"views"})},"lang"+s)})}),children:n.jsx(ie,{container:!0,columns:{xs:1,md:2},spacing:4,children:Vr.map(({id:o,icon:s,palette:a},l)=>{const c=`/${o}`,{light:u,dark:d}=a.primary;return n.jsx(ie,{size:1,children:n.jsx(be,{elevation:0,sx:{height:"100%",backgroundColor:u,color:d,transition:"all 0.2s ease-out","&:hover":{boxShadow:20}},children:n.jsxs(ke,{disableRipple:!0,component:le,to:c,sx:{padding:2,height:"100%"},children:[n.jsx(se,{sx:{padding:{xs:2,md:4},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(y,{sx:{fontSize:r.typography.h1.fontSize},children:s})}),n.jsx(Ee,{title:e(o,{ns:"nav"}),slotProps:{title:{sx:{fontWeight:900,textTransform:"capitalize"}}}}),n.jsx(se,{children:n.jsx(y,{children:e(`home-view.cards.${o}.desc`,{ns:"views"})})})]})})},"card"+l)})})})},oe=new Map,S=(e,t,r)=>{oe.has(e)||oe.set(e,[]),oe.get(e).push({isApplicable:t,rewrite:r})};S(p.IFF,(e,t)=>[p.NOT,p.AND,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(N(t,r),N(g(t),g(r)))});S(p.IFF,(e,t)=>[p.NOT,p.OR,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(R(g(P(t,r)),g(P(r,t))))});S(p.IFF,(e,t)=>[p.AND,p.NOT].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(N(g(N(t,r)),g(N(g(t),g(r)))))});S(p.IFF,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(g(R(g(t),g(r))),g(R(t,r)))});S(p.IFF,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(P(P(t,r),g(P(t,r))))});S(p.IMPL,(e,t)=>[p.NOT,p.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(N(t,g(r)))});S(p.IMPL,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return R(g(t),r)});S(p.AND,(e,t)=>[p.NOT,p.OR].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(R(g(t),g(r)))});S(p.AND,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(P(t,g(r)))});S(p.OR,(e,t)=>[p.NOT,p.AND].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return g(N(g(t),g(r)))});S(p.OR,(e,t)=>[p.NOT,p.IMPL].every(r=>t.has(r)),e=>{const{left:t,right:r}=e;return P(g(t),r)});S(p.OR,(e,t)=>!t.has(p.IMPL)||e.nodeType!==i.BINARY?!1:e.left.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return P(t.operand,r)});S(p.OR,(e,t)=>!t.has(p.IMPL)||e.nodeType!==i.BINARY?!1:e.right.nodeType===i.UNARY,e=>{const{left:t,right:r}=e;return P(r.operand,t)});const Hr=e=>oe.get(e)??[],U=(e,t)=>{switch(e.nodeType){case i.CONST:case i.IDEN:return e;case i.UNARY:{const r=U(e.operand,t);return r===null?null:r.nodeType===i.UNARY&&r.operator===p.NOT?r.operand:g(r)}case i.BINARY:{const r=U(e.left,t);if(r===null)return null;const o=U(e.right,t);if(o===null)return null;if(t.has(e.operator))return D(e.operator,r,o);const s=Hr(e.operator);for(const a of s)if(a.isApplicable(e,t))return U(a.rewrite(D(e.operator,r,o)),t);return null}}},Gr=(e,t)=>{const r=Le(e);if(r.nodeType===i.CONST||r.nodeType===i.IDEN)return{ok:!0,tree:r};const o=U(e,t);return o===null?{ok:!1}:{ok:!0,tree:o}},Xr=e=>{const{result:t,originalLatex:r,itemNum:o}=e,{t:s}=b("views",{keyPrefix:"rewriter-view.cards.output"});return t.ok?n.jsx(H,{primary:n.jsx(j,{children:s("text.formula-is-expressed-as-in-the-desired-basis",{formula:`$$${r}\\tag{${o}}$$`,result:`$$${t.latex}$$`})}),secondary:n.jsx(xe,{exprTree:t.tree,slotProps:{container:{maxHeight:"40vh"}}})}):n.jsx(H,{primary:n.jsx(j,{children:s("text.formula-cannot-be-expressed-in-the-desired-basis",{formula:`$$${r} \\tag{${o}}$$`})}),secondary:n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("infos.truth-table-is-not-available")})})})},Kr=e=>{const{items:t,basis:r,onBasisChange:o}=e,{t:s}=b("views",{keyPrefix:"rewriter-view.cards"}),{typography:a}=$(),l=h.useMemo(()=>t.filter(c=>c.ok),[t]);return n.jsxs(T,{spacing:2,children:[n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("input-interpretation.title")}),n.jsx(me,{items:t}),n.jsx(y,{fontWeight:900,fontSize:a.h3.fontSize,children:s("output.title")}),l.length===0&&n.jsx(_,{severity:"info",children:n.jsx(y,{children:s("output.infos.no-valid-formula-to-display")})}),l.length>0&&n.jsxs(h.Fragment,{children:[n.jsx(kt,{row:!0,children:Object.values(p).map((c,u)=>n.jsx(ae,{checked:r.has(c),onChange:(d,m)=>o(c,m),control:n.jsx(Ct,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0}),label:n.jsx(j,{children:`$${z(c)}$`})},"operator"+u))}),t.map((c,u)=>{if(!c.ok)return null;const d=Gr(c.originalTree,r),m=u+1;return n.jsx(Xr,{itemNum:m,originalLatex:c.inputInterpretationLatex,result:d.ok?{ok:!0,tree:G(d.tree),latex:L(d.tree)}:{ok:!1}},"result"+u)})]})]})},Zr=()=>{const{userInput:e,items:t}=ce(),r=pe(),{t:o}=b("nav"),[s,a]=h.useState(e),[l,c]=h.useState(()=>{const f=new Map;for(const v of Object.values(p))f.set(v,!0);return f}),u=h.useMemo(()=>new Set([...l.entries()].filter(([,f])=>f).map(([f])=>f)),[l]);h.useEffect(()=>{a(e)},[e]);const d=h.useCallback(()=>{r({input:s},{method:"GET",action:"/rewriter"})},[r,s]),m=h.useCallback((f,v)=>{c(x=>{const w=new Map(x);return w.set(f,v),w})},[]);return n.jsx(J,{title:o("rewriter"),appHeader:n.jsx(he,{}),children:n.jsxs(T,{spacing:8,children:[n.jsx(fe,{value:s,onChange:a,placeholder:"not (p and q) iff (not p or not q)",onSubmit:d}),t.length>0&&n.jsx(Kr,{basis:u,items:t,onBasisChange:m})]})})},Jr=n.jsx(At,{styles:{tableLayout:"auto",borderCollapse:"collapse",html:{scrollBehavior:"smooth"}}}),Qr=Lt([{index:!0,element:n.jsx(zr,{})},{path:"/",errorElement:n.jsx(Nr,{}),children:[{path:"/evaluator",element:n.jsx(B,{theme:or,children:n.jsx(Wr,{})}),loader:er},{path:"/comparator",element:n.jsx(B,{theme:ar,children:n.jsx(Ir,{})}),loader:Jt},{path:"/checker",element:n.jsx(B,{theme:sr,children:n.jsx(jr,{})}),loader:Zt},{path:"/rewriter",element:n.jsx(B,{theme:ir,children:n.jsx(Zr,{})}),loader:tr}]}],{basename:"/"}),en=()=>n.jsxs(B,{theme:nr,children:[n.jsx(Et,{}),Jr,n.jsx(_t,{router:Qr})]}),tn={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.",confirm:"I understand"}},editor:{run:"Run",copy:"Copy",copied:"Copied"},alert:{notice:"Notice"},"input-display":{"empty-string":"Empty",warnings:{"the-following-input-are-invalid":"The following expressions appear to be invalid or incorrect."}},"symbol-config":{true:"True",false:"False"},graph:{center:"Center",true:"True",false:"False",playback:{forward:"Forward",previous:"Previous",play:"Play",pause:"Pause",replay:"Replay"}}},rn={home:"Home",evaluator:"Evaluator",rewriter:"Rewriter",checker:"Tautology checker",comparator:"Comparator"},nn={"error-view":{title:"Uh oh, that's not good...","return-home":"Return to home page"},"evaluator-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{true:"true",false:"false",title:"Result","formula-evaluates-to-value":"{{formula}} {{value}}.",infos:{"no-valid-formula-to-display":"There is no valid formula to display."}},"step-by-step":{true:"true",false:"false",title:"Step-by-step Evaluation","tab-item":"Expression ({{num}})","no-evaluation-step-to-display":"No evaluation step to display.","therefore-formula-is-value":"Therefore, the formula {{formula}} {{value}}","step-x-of-y":"Step {{current}} of {{total}}","by-truth-table-formula-is-value":"By the truth table of {{operator}}, {{formula}} is {{value}} as answer for this step.","consider-the-formula":"Consider the formula {{formula}} in this step.","given-variable-is-value":"Given {{variable}} is true, substitute {{variable}} with true in {{formula}} as simplified formula.","from-previous-step-substitute-into-formula":"From {{step}}, {{formula}} is {{value}}. Substitute into {{current}} to obtain {{result}} as simplified formula.",infos:{"no-valid-formula-to-display":"There is no valid formula to display step-by-step evaluation."}}}},"rewriter-view":{cards:{"input-interpretation":{title:"Input interpretation"},output:{title:"Result",text:{"formula-cannot-be-expressed-in-the-desired-basis":"{{formula}} cannot be expressed in the desired basis.","formula-is-expressed-as-in-the-desired-basis":"{{formula}} can be expressed as {{result}}"},infos:{"no-valid-formula-to-display":"There is no valid formula to display.","truth-table-is-not-available":"The truth table for this formula is not available."}}}},"checker-view":{tautology:"tautology",contradiction:"contradiction",contingent:"contingent",cards:{"input-interpretation":{title:"Input Interpretation"},output:{title:"Result",text:{"formula-is-value":"{{formula}} {{value}}"},warnings:{"no-formula-to-display":"There is no valid formula to display."}}}},"home-view":{lang:{en:"ENGLISH",th:"THAI"},cards:{comparator:{desc:"Compare expressions to see which one of them are equivalent."},evaluator:{desc:"Evaluate expressions according to given truth values."},rewriter:{desc:"Transform an expression into a different basis."},checker:{desc:"Check if an expression is always true, always false, or in-between."}},"boolean-algebra-interpreter":"Boolean algebra interpreter"},"comparator-view":{cards:{output:{title:"Result",text:{equivalent:"Equivalent","not-equivalent":"Not equivalent","formulas-are-value":"{{first}} {{second}} {{value}}"},warnings:{"not-enough-formula-for-comparison":"There is not enough valid formula to perform comparisons."}},"input-interpretation":{title:"Input Interpretation"}}}},on={"truth-table":{text:{true:"T",false:"F"},warnings:{"large-truth-table-can-slow-application-down":"ตารางค่าความจริงของประพจน์นี้ถูกซ่อนอยู่เพราะตารางมีขนาดใหญ่ กดปุ่มด้านล่างเพื่อแสดงตารางค่าความจริง แต่อาจใช้เวลานานในการแสดงตารางและโปรแกรมอาจะตอบสนองช้าลง",confirm:"แสดงตารางความจริง"}},editor:{run:"คำนวณ",copy:"คำลอก",copied:"คัดลองสำเร็จ"},alert:{notice:"แจ้งเตือน"},"input-display":{"empty-string":"ประโยคนี้ว่าง",warnings:{"the-following-input-are-invalid":"ประโยคต่อไปนี้มีข้อผิดพลาด โปรดตรวจสอบประโยคเหล่านี้อีกครั้งแล้วลองใหม่"}},"symbol-config":{true:"จริง",false:"เท็จ"},graph:{center:"ศูนย์กลาง",true:"จริง",false:"เท็จ",playback:{forward:"เดินหน้า",previous:"ถอยหลัง",play:"เล่น",pause:"หยุด",replay:"เล่นใหม่"}}},sn={home:"หน้าหลัก",evaluator:"คำนวณค่าความจริง",rewriter:"เปลี่ยนฐานประพจน์",checker:"ตรวจสอบสัจนิรันด์",comparator:"เปรียบเทียบสมมูล"},an={"error-view":{title:"เกิดข้อผิดพลาดขึ้น","return-home":"กลับหน้าหลัก"},"evaluator-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{true:"เป็นจริง",false:"เป็นเท็จ",title:"ผลลัพท์","formula-evaluates-to-value":"{{formula}} {{value}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}},"step-by-step":{true:"จริง",false:"เท็จ",title:"ลำดับขั้นตอนในการคำนวณ","tab-item":"ประพจน์ ({{num}})","no-evaluation-step-to-display":"ไม่มีลำดับการคำนวณให้แสดง","therefore-formula-is-value":"ดังนั้น ประพจน์ {{formula}} เป็น{{value}}","step-x-of-y":"ลำดับการคำนวณขั้นที่ {{current}} จาก {{total}}","by-truth-table-formula-is-value":"อ้างจากตารางค่าความจริงของตัวเชื่อม {{operator}} สรุปได้ว่า {{formula}} เป็น{{value}}","consider-the-formula":"คำนวณประพจน์ {{formula}}","given-variable-is-value":"จากที่กำหนดไว้ว่า {{variable}} เป็น{{value}} แทนที่ {{variable}} ด้วย{{value}}ลงในประพจน์ {{formula}}","from-previous-step-substitute-into-formula":"จากลำดับการคำนวณขั้นที่ {{step}} ประพจน์ {{formula}} เป็น{{value}} แทนที่ {{current}} ลงในประพจน์จึงได้ {{result}}",infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่เขียนถูกต้องให้แสดง"}}}},"rewriter-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลลัพท์การเปลี่ยนฐาน",text:{"formula-cannot-be-expressed-in-the-desired-basis":"ไม่สามารถเปลี่ยนประพจน์ {{formula}} ไปสู่ฐานที่ต้องการได้","formula-is-expressed-as-in-the-desired-basis":"{{formula}} {{result}} "},infos:{"no-valid-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง","truth-table-is-not-available":"ตารางค่าความจริงของประพจน์ที่ไม่พร้อมที่จะแสดง"}}}},"checker-view":{cards:{"input-interpretation":{title:"ผลการอ่านประโยค"},output:{title:"ผลการตรวจสอบ",text:{"formula-is-value":"{{formula}} {{value}}",contingent:"ไม่ใช่สัจนิรันด์และไม่ได้เป็นเท็จเสมอ",tautology:"เป็นสัจนิรันด์",contradiction:"เป็นเท็จเสมอ"},infos:{"no-formula-to-display":"ไม่มีประพจน์ที่ถูกต้องให้แสดง"}}}},"home-view":{lang:{en:"อังกฤษ",th:"ไทย"},cards:{comparator:{desc:"เปรียบเทียบประพจน์เพื่อให้ว่าประพจน์ไหนบ้างที่สมมูลกัน"},evaluator:{desc:"คำนวณหาค่าความจริงของประพจน์ด้วยการแทนที่ค่าความจริงของนิพจน์ลงไปในประพจน์"},rewriter:{desc:"เปลี่ยนฐานประพจน์ไปสู่อีกฐานแต่รักษาค่าความจริงไว้"},checker:{desc:"ตรวจสอบว่าประพจน์เป็นสัจนิรันด์ เป็นเท็จเสมอ หรือไม่ใช่ทั้งสัจนิรันด์และไม่ใช่ทั้งเท็จเสมอ"}},"boolean-algebra-interpreter":"ตัวช่วยคำนวณตรรกศาสตร์"},"comparator-view":{cards:{output:{title:"ผลลัพท์การเปรียบเทียบ",text:{equivalent:"สมมูลกัน","not-equivalent":"ไม่สมมูลกัน","formulas-are-value":"{{first}} {{second}} {{value}}"},infos:{"not-enough-formula-for-comparison":"จำนวณประพจน์ไม่เพียงพอที่จะเปรียบเทียบ ต้องการอย่างน้อยสองประพจน์ที่ถูกต้องก่อนที่จะเริ่มเปรียบเทียบได้"}},"input-interpretation":{title:"ผลการอ่านประโยค"}}}};Wt.use(qt).use(Vt).use(Dt).init({detection:{lookupLocalStorage:"language"},resources:{en:{components:tn,nav:rn,views:nn},th:{views:an,nav:sn,components:on}},debug:!0});zt.createRoot(document.getElementById("root")).render(n.jsx(h.StrictMode,{children:n.jsx(en,{})}));
//# sourceMappingURL=index-CcSAmV3v.js.map
