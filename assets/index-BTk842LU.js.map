{"version":3,"file":"index-BTk842LU.js","sources":["../../src/types/operators.ts","../../src/types/syntax-tree.ts","../../src/core/interpreter/grammar.ts","../../src/core/interpreter/parser.ts","../../src/core/syntax-tree/node.ts","../../src/core/syntax-tree/to-string.ts","../../src/core/syntax-tree/normalize.ts","../../src/core/operator.ts","../../src/core/syntax-tree/to-latex.ts","../../src/controllers/checker-controller.tsx","../../src/controllers/comparator-controller.tsx","../../src/core/syntax-tree/collect-symbols.ts","../../src/controllers/evaluator-controller.tsx","../../src/controllers/rewriter-controller.tsx","../../src/theme/palette-base.ts","../../src/theme/palette-checker-route.ts","../../src/theme/palette-comparator-route.ts","../../src/theme/palette-evaluator-route.ts","../../src/theme/palette-rewriter-route.ts","../../src/theme/index.ts","../../src/components/common/AppNavMenu.tsx","../../src/components/Styled/StyledLatex.tsx","../../src/components/Editor/EditorRibbonButton.tsx","../../src/components/Editor/EditorRibbon.tsx","../../src/components/Editor/Editor.tsx","../../src/components/InputTable/InputDisplayMany.tsx","../../src/components/VerdictDisplay/VerdictDisplay.tsx","../../src/components/ExpressionCard.tsx","../../src/components/Styled/StyledAlert.tsx","../../src/core/eval.ts","../../src/core/tree/expr/evaluate.ts","../../src/core/tree/expr/latex.ts","../../src/core/tree/flatten.ts","../../src/components/TruthTable/TruthTableCell.tsx","../../src/components/TruthTable/TruthTable.tsx","../../src/core/tree/conversion.ts","../../src/components/VerdictDisplay/VerdictDisplayMany.tsx","../../src/layouts/BaseLayout.tsx","../../src/views/CheckerView.tsx","../../src/core/expr-tree/verify-tautology.ts","../../src/views/ComparatorView.tsx","../../src/views/ErrorView.tsx","../../src/components/Styled/StyledIconButton.tsx","../../src/components/EvaluationGraph/GraphControl.tsx","../../src/components/Styled/StyledFAB.tsx","../../src/components/EvaluationGraph/TreeLink.tsx","../../src/components/EvaluationGraph/TreeNode.tsx","../../src/components/EvaluationGraph/Tree.tsx","../../src/components/EvaluationGraph/Graph.tsx","../../src/core/exprTreeFlattenStepByStep.ts","../../src/components/EvaluationDisplay/EvaluationDisplayStepMini.tsx","../../src/components/EvaluationDisplay/EvaluationDisplayStep.tsx","../../src/components/EvaluationDisplay/EvaluationDisplay.tsx","../../src/components/EvaluationDisplay/EvaluationDisplayMany.tsx","../../src/components/math/PropositionConfig.tsx","../../src/components/math/EvaluatorOutputGroup.tsx","../../src/views/EvaluatorView.tsx","../../src/views/HomeView.tsx","../../src/core/syntax-tree/helper/rewrite-rules.ts","../../src/core/syntax-tree/rewrite.ts","../../src/views/RewriterView.tsx","../../src/App/App.tsx","../../src/locales/en/component.ts","../../src/locales/en/nav.ts","../../src/locales/en/translation.ts","../../src/locales/en/views.ts","../../src/locales/config.ts","../../src/main.tsx"],"sourcesContent":["export enum Operator {\r\n  IFF = \"IFF\",\r\n  IMPL = \"IMPL\",\r\n  AND = \"AND\",\r\n  OR = \"OR\",\r\n  NOT = \"NOT\",\r\n}\r\n","import { Operator } from \"./operators\";\r\n\r\nexport enum SyntaxTreeNodeType {\r\n  CONST = \"CONSTANT\",\r\n  IDEN = \"IDEN\",\r\n  UNARY = \"UNARY\",\r\n  BINARY = \"BINARY\",\r\n}\r\n\r\nexport type SyntaxTreeNodeConst = {\r\n  nodeType: SyntaxTreeNodeType.CONST;\r\n  value: boolean;\r\n};\r\n\r\nexport type SyntaxTreeNodeIden = {\r\n  nodeType: SyntaxTreeNodeType.IDEN;\r\n  symbol: string;\r\n};\r\n\r\nexport type SyntaxTreeNodeBinary = {\r\n  nodeType: SyntaxTreeNodeType.BINARY;\r\n  operator:\r\n    | Operator.AND\r\n    | Operator.OR\r\n    | Operator.IMPL\r\n    | Operator.IFF;\r\n  left: SyntaxTree;\r\n  right: SyntaxTree;\r\n};\r\nexport type SyntaxTreeNodeUnary = {\r\n  nodeType: SyntaxTreeNodeType.UNARY;\r\n  operator: Operator.NOT;\r\n  operand: SyntaxTree;\r\n};\r\n\r\nexport type SyntaxTree =\r\n  | SyntaxTreeNodeBinary\r\n  | SyntaxTreeNodeUnary\r\n  | SyntaxTreeNodeIden\r\n  | SyntaxTreeNodeConst;\r\n\r\nexport type SymbolTable = Map<string, boolean>;\r\n","import { Operator } from \"$types/operators\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport * as ohm from \"ohm-js\";\r\n\r\nconst collectBinaryNodes = (\r\n  operator: Exclude<Operator, Operator.NOT>,\r\n  left: SyntaxTree,\r\n  right: SyntaxTree[]\r\n) => {\r\n  let node: SyntaxTree = {\r\n    nodeType: SyntaxTreeNodeType.BINARY,\r\n    operator,\r\n    left,\r\n    right: right[0],\r\n  };\r\n  for (let i = 1; i < right.length; i++) {\r\n    node = {\r\n      nodeType: SyntaxTreeNodeType.BINARY,\r\n      operator,\r\n      left: node,\r\n      right: right[i],\r\n    };\r\n  }\r\n  return node;\r\n};\r\n\r\nexport const grammar = ohm.grammar(String.raw`\r\nBooleanExpressions {\r\n  Expression\r\n    = Iff \r\n\r\n  Iff\r\n    = Implies (iff_sym Implies)*\r\n\r\n  Implies\r\n    = Or (implies_sym Or)*\r\n\r\n  Or\r\n    = And (or_sym And)*\r\n\r\n  And\r\n    = Not (and_sym Not)*\r\n\r\n  Not\r\n    = not_sym Not                   --not\r\n    | Primary\r\n\r\n  Primary\r\n    = \"(\" Expression \")\" --group\r\n    | true_sym    --lit_true\r\n    | false_sym   --lit_false\r\n    | identifier  --variable\r\n\r\n  identifier\r\n    = letter\r\n  \r\n  iff_sym \r\n    = \"iff\"\r\n    | \"⇔\"\r\n  \r\n  implies_sym \r\n    = \"implies\"\r\n    | \"⇒\"\r\n  \r\n  or_sym\r\n    = \"or\"\r\n    | \"∨\"\r\n\r\n  and_sym\r\n    = \"and\"\r\n    | \"∧\"\r\n  \r\n  not_sym\r\n    = \"not\"\r\n    | \"¬\"\r\n\r\n  true_sym\r\n    = \"⊤\"\r\n    | \"T\"\r\n    | \"1\"\r\n\r\n  false_sym\r\n    = \"⊥\"\r\n    | \"F\"\r\n    | \"0\"\r\n}\r\n`);\r\n\r\nexport const semantics = grammar.createSemantics();\r\nsemantics.addOperation(\"buildTree\", {\r\n  Expression(e) {\r\n    return e.buildTree();\r\n  },\r\n\r\n  Iff(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IFF,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Implies(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.IMPL,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Or(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.OR,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  And(leftExpr, _, rightExpr) {\r\n    const leftTree = leftExpr.buildTree();\r\n    const rightTree = rightExpr.buildTree();\r\n    if (\r\n      !Array.isArray(rightTree) ||\r\n      rightTree.length === 0\r\n    ) {\r\n      return leftTree;\r\n    }\r\n    return collectBinaryNodes(\r\n      Operator.AND,\r\n      leftTree,\r\n      rightTree\r\n    );\r\n  },\r\n\r\n  Not_not(_, expr) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeType.UNARY,\r\n      operator: Operator.NOT,\r\n      operand: expr.buildTree(),\r\n    };\r\n  },\r\n\r\n  Primary_group(_open, expr, _close) {\r\n    return expr.buildTree();\r\n  },\r\n\r\n  Primary_lit_true(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeType.CONST,\r\n      value: true,\r\n    };\r\n  },\r\n\r\n  Primary_lit_false(_id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeType.CONST,\r\n      value: false,\r\n    };\r\n  },\r\n\r\n  Primary_variable(id) {\r\n    return {\r\n      nodeType: SyntaxTreeNodeType.IDEN,\r\n      symbol: id.sourceString,\r\n    };\r\n  },\r\n\r\n  identifier(_) {\r\n    return this.sourceString;\r\n  },\r\n\r\n  _iter(...children) {\r\n    return children.map((n) => n.buildTree());\r\n  },\r\n});\r\n","import {\r\n  grammar,\r\n  semantics,\r\n} from \"$core/interpreter/grammar\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { SyntaxTree } from \"$types/syntax-tree\";\r\n\r\nexport const parse = (\r\n  content: string\r\n): Maybe<{ tree: SyntaxTree }> => {\r\n  const m = grammar.match(content);\r\n  if (m.succeeded()) {\r\n    const tree = semantics(m).buildTree();\r\n    return { ok: true, tree };\r\n  }\r\n  return {\r\n    ok: false,\r\n  };\r\n};\r\n","import { Operator } from \"$types/operators\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeBinary,\r\n  SyntaxTreeNodeConst,\r\n  SyntaxTreeNodeType,\r\n  SyntaxTreeNodeUnary,\r\n} from \"$types/syntax-tree\";\r\n\r\nexport const NOT = (operand: SyntaxTree) => {\r\n  return {\r\n    nodeType: SyntaxTreeNodeType.UNARY,\r\n    operator: Operator.NOT,\r\n    operand,\r\n  } as SyntaxTreeNodeUnary;\r\n};\r\n\r\nexport const BINARY = (\r\n  operator: Exclude<Operator, Operator.NOT>,\r\n  left: SyntaxTree,\r\n  right: SyntaxTree\r\n) => {\r\n  return {\r\n    nodeType: SyntaxTreeNodeType.BINARY,\r\n    operator,\r\n    left,\r\n    right,\r\n  } as SyntaxTreeNodeBinary;\r\n};\r\n\r\nexport const AND = (\r\n  left: SyntaxTree,\r\n  right: SyntaxTree\r\n) => {\r\n  return BINARY(Operator.AND, left, right);\r\n};\r\n\r\nexport const OR = (left: SyntaxTree, right: SyntaxTree) => {\r\n  return BINARY(Operator.OR, left, right);\r\n};\r\n\r\nexport const IMPLIES = (\r\n  left: SyntaxTree,\r\n  right: SyntaxTree\r\n) => {\r\n  return BINARY(Operator.IMPL, left, right);\r\n};\r\nexport const IFF = (\r\n  left: SyntaxTree,\r\n  right: SyntaxTree\r\n) => {\r\n  return BINARY(Operator.IFF, left, right);\r\n};\r\n\r\nexport const CONST = (value: boolean) => {\r\n  return {\r\n    nodeType: SyntaxTreeNodeType.CONST,\r\n    value,\r\n  } as SyntaxTreeNodeConst;\r\n};\r\n","import {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\n\r\nexport const syntaxTreeToString = (\r\n  tree: SyntaxTree\r\n): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n      return String(tree.value);\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return tree.symbol;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      let operandRepr = syntaxTreeToString(tree.operand);\r\n      if (\r\n        tree.operand.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        operandRepr = `( ${operandRepr} )`;\r\n      }\r\n      return `${tree.operator} ${operandRepr}`;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      let leftRepr = syntaxTreeToString(tree.left);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        leftRepr = `( ${leftRepr} )`;\r\n      }\r\n      let rightRepr = syntaxTreeToString(tree.right);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        rightRepr = `( ${rightRepr} )`;\r\n      }\r\n\r\n      return `${leftRepr} ${tree.operator} ${rightRepr}`;\r\n    }\r\n  }\r\n};\r\n","import { Operator } from \"$types/operators\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeIden,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { AND, BINARY, CONST, NOT, OR } from \"./node\";\r\nimport { syntaxTreeToString } from \"./to-string\";\r\n\r\nconst rewriteTree = (tree: SyntaxTree): SyntaxTree => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return tree;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const operand = rewriteTree(tree.operand);\r\n      return NOT(operand);\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      const left = rewriteTree(tree.left);\r\n      const right = rewriteTree(tree.right);\r\n      switch (tree.operator) {\r\n        case Operator.IFF:\r\n          return AND(\r\n            OR(NOT(left), right),\r\n            OR(NOT(right), left)\r\n          );\r\n        case Operator.IMPL:\r\n          return OR(NOT(left), right);\r\n        case Operator.AND:\r\n          return AND(left, right);\r\n        case Operator.OR:\r\n          return OR(left, right);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst expandInward = (tree: SyntaxTree): SyntaxTree => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return tree;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const { operand } = tree;\r\n      switch (operand.nodeType) {\r\n        case SyntaxTreeNodeType.CONST:\r\n          return CONST(!operand.value);\r\n        case SyntaxTreeNodeType.IDEN:\r\n          return tree;\r\n        case SyntaxTreeNodeType.UNARY:\r\n          return expandInward(operand.operand);\r\n        case SyntaxTreeNodeType.BINARY: {\r\n          const expandedOp =\r\n            operand.operator === Operator.AND\r\n              ? Operator.OR\r\n              : Operator.AND;\r\n          return expandInward(\r\n            BINARY(\r\n              expandedOp,\r\n              NOT(operand.left),\r\n              NOT(operand.right)\r\n            )\r\n          );\r\n        }\r\n      }\r\n      break;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      const left = expandInward(tree.left);\r\n      const right = expandInward(tree.right);\r\n      if (tree.operator === Operator.AND) {\r\n        return AND(left, right);\r\n      }\r\n      // operator must be OR\r\n      if (\r\n        right.nodeType === SyntaxTreeNodeType.BINARY &&\r\n        right.operator === Operator.AND\r\n      ) {\r\n        const leftExp = expandInward(OR(left, right.left));\r\n        const rightExp = expandInward(\r\n          OR(left, right.right)\r\n        );\r\n        return AND(leftExp, rightExp);\r\n      }\r\n\r\n      if (\r\n        left.nodeType === SyntaxTreeNodeType.BINARY &&\r\n        left.operator === Operator.AND\r\n      ) {\r\n        const leftExp = expandInward(OR(left.left, right));\r\n        const rightExp = expandInward(\r\n          OR(left.right, right)\r\n        );\r\n        return AND(leftExp, rightExp);\r\n      }\r\n\r\n      // neither left or right sub tree contains an AND operator\r\n      return OR(left, right);\r\n    }\r\n  }\r\n};\r\n\r\nconst simplifyDisjunctionClause = (\r\n  clause: Set<SyntaxTree>\r\n) => {\r\n  const clauses = [...clause];\r\n\r\n  if (\r\n    clauses.every(\r\n      (clause) =>\r\n        clause.nodeType === SyntaxTreeNodeType.CONST &&\r\n        !clause.value\r\n    )\r\n  ) {\r\n    return new Set([CONST(false)]);\r\n  }\r\n\r\n  if (\r\n    clauses.some(\r\n      (clause) =>\r\n        clause.nodeType === SyntaxTreeNodeType.CONST &&\r\n        clause.value\r\n    )\r\n  ) {\r\n    return new Set([CONST(true)]);\r\n  }\r\n\r\n  const simplified = new Set<SyntaxTree>();\r\n  const seen = new Set<string>();\r\n  for (const clause of clauses) {\r\n    switch (clause.nodeType) {\r\n      case SyntaxTreeNodeType.IDEN: {\r\n        if (seen.has(syntaxTreeToString(NOT(clause)))) {\r\n          return new Set([CONST(true)]);\r\n        }\r\n        const clauseRepr = syntaxTreeToString(clause);\r\n        if (!seen.has(clauseRepr)) {\r\n          seen.add(clauseRepr);\r\n          simplified.add(clause);\r\n        }\r\n        break;\r\n      }\r\n      case SyntaxTreeNodeType.UNARY: {\r\n        if (seen.has(syntaxTreeToString(clause.operand))) {\r\n          return new Set([CONST(true)]);\r\n        }\r\n        const clauseRepr = syntaxTreeToString(clause);\r\n        if (!seen.has(clauseRepr)) {\r\n          seen.add(clauseRepr);\r\n          simplified.add(clause);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return simplified;\r\n};\r\n\r\nconst collectClause = (\r\n  tree: SyntaxTree,\r\n  clause: Set<Set<SyntaxTree>>\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n    case SyntaxTreeNodeType.IDEN:\r\n    case SyntaxTreeNodeType.UNARY:\r\n      clause.add(new Set([tree]));\r\n      break;\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      if (tree.operator === Operator.AND) {\r\n        collectClause(tree.left, clause);\r\n        collectClause(tree.right, clause);\r\n\r\n        return;\r\n      }\r\n      const subClause = new Set<Set<SyntaxTree>>();\r\n      collectClause(tree.left, subClause);\r\n      collectClause(tree.right, subClause);\r\n      const flattened = new Set<SyntaxTree>();\r\n      subClause.forEach((group) => {\r\n        group.forEach((node) => {\r\n          flattened.add(node);\r\n        });\r\n      });\r\n      clause.add(simplifyDisjunctionClause(flattened));\r\n      break;\r\n    }\r\n  }\r\n};\r\n\r\nconst syntaxTreeFromClause = (clause: Set<SyntaxTree>) => {\r\n  if (clause.size === 0) {\r\n    return CONST(false);\r\n  }\r\n  const nodes = [...clause];\r\n  let current = nodes[0];\r\n  for (const node of nodes.slice(1)) {\r\n    current = OR(current, node);\r\n  }\r\n  return current;\r\n};\r\n\r\nexport const syntaxTreeNormalize = (tree: SyntaxTree) => {\r\n  const expr = new Set<Set<SyntaxTree>>();\r\n  collectClause(expandInward(rewriteTree(tree)), expr);\r\n\r\n  const nodes = [...expr].map((clause) =>\r\n    syntaxTreeFromClause(clause)\r\n  );\r\n  console.debug(syntaxTreeToString(rewriteTree(tree)));\r\n  if (nodes.length === 0) {\r\n    return CONST(false);\r\n  }\r\n\r\n  if (\r\n    nodes.some(\r\n      (node) =>\r\n        node.nodeType === SyntaxTreeNodeType.CONST &&\r\n        !node.value\r\n    )\r\n  ) {\r\n    return CONST(false);\r\n  }\r\n\r\n  if (\r\n    nodes.every(\r\n      (node) =>\r\n        node.nodeType === SyntaxTreeNodeType.CONST &&\r\n        node.value\r\n    )\r\n  ) {\r\n    return CONST(true);\r\n  }\r\n\r\n  let normalTree: SyntaxTree | undefined = undefined;\r\n  const seen = new Set<string>();\r\n  for (const node of nodes) {\r\n    if (node.nodeType === SyntaxTreeNodeType.IDEN) {\r\n      if (seen.has(syntaxTreeToString(NOT(node)))) {\r\n        return CONST(false);\r\n      }\r\n      seen.add(node.symbol);\r\n    }\r\n\r\n    if (node.nodeType === SyntaxTreeNodeType.UNARY) {\r\n      if (\r\n        seen.has(\r\n          (node.operand as SyntaxTreeNodeIden).symbol\r\n        )\r\n      ) {\r\n        return CONST(false);\r\n      }\r\n      seen.add(syntaxTreeToString(node));\r\n    }\r\n\r\n    if (normalTree === undefined) {\r\n      normalTree = node;\r\n    } else {\r\n      normalTree = AND(normalTree, node);\r\n    }\r\n  }\r\n  return normalTree!;\r\n};\r\n","import { Operator } from \"$types/operators\";\r\n\r\nconst OPERATOR_REPR = new Map<Operator, string>([\r\n  [Operator.NOT, \"\\\\lnot\"],\r\n  [Operator.AND, \"\\\\land\"],\r\n  [Operator.OR, \"\\\\lor\"],\r\n  [Operator.IMPL, \"\\\\implies\"],\r\n  [Operator.IFF, \"\\\\iff\"],\r\n]);\r\n\r\nexport const operatorToLatex = (op: Operator) => {\r\n  return OPERATOR_REPR.get(op) ?? \"\";\r\n};\r\n","import { operatorToLatex } from \"$core/operator\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\n\r\nexport const syntaxTreeToLatex = (\r\n  tree: SyntaxTree\r\n): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n      return `\\\\textbf{${tree.value}}`;\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return tree.symbol;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      let operandRepr = syntaxTreeToLatex(tree.operand);\r\n      if (\r\n        tree.operand.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        operandRepr = `( ${operandRepr} )`;\r\n      }\r\n      const operatorRepr = operatorToLatex(tree.operator);\r\n      return `${operatorRepr} ${operandRepr}`;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      let leftRepr = syntaxTreeToLatex(tree.left);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        leftRepr = `( ${leftRepr} )`;\r\n      }\r\n      let rightRepr = syntaxTreeToLatex(tree.right);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        rightRepr = `( ${rightRepr} )`;\r\n      }\r\n      const opRepr = operatorToLatex(tree.operator);\r\n      return `${leftRepr} ${opRepr} ${rightRepr}`;\r\n    }\r\n  }\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreeNormalize } from \"$core/syntax-tree/normalize\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { CheckerRouteLoaderData } from \"$types/loader-data\";\r\nimport { LoaderFunction } from \"react-router\";\r\n\r\nexport const checkerRouteLoader: LoaderFunction = ({\r\n  request,\r\n}) => {\r\n  const url = new URL(request.url);\r\n  const userInputRaw = url.searchParams.get(\"input\");\r\n\r\n  if (\r\n    userInputRaw === null ||\r\n    userInputRaw.trim().length === 0\r\n  ) {\r\n    const loaderData: CheckerRouteLoaderData = {\r\n      userInput: \"\",\r\n      expressions: [],\r\n    };\r\n    return loaderData;\r\n  }\r\n\r\n  const expressions: CheckerRouteLoaderData[\"expressions\"] =\r\n    [];\r\n\r\n  for (const userInput of userInputRaw.split(\",\")) {\r\n    const parseResult = parse(userInput);\r\n    expressions.push(\r\n      parseResult.ok\r\n        ? {\r\n            ok: true,\r\n            normalizedTree: syntaxTreeNormalize(\r\n              parseResult.tree\r\n            ),\r\n            originalTree: parseResult.tree,\r\n            inputInterpretationLatex: syntaxTreeToLatex(\r\n              parseResult.tree\r\n            ),\r\n            inputRaw: userInput.trim(),\r\n          }\r\n        : { ok: false, inputRaw: userInput.trim() }\r\n    );\r\n  }\r\n  const loaderData: CheckerRouteLoaderData = {\r\n    userInput: userInputRaw,\r\n    expressions,\r\n  };\r\n  return loaderData;\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { ComparatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { LoaderFunction } from \"react-router\";\r\n\r\nexport const comparatorRouteLoader: LoaderFunction = ({\r\n  request,\r\n}) => {\r\n  const url = new URL(request.url);\r\n  const inputRaw = url.searchParams.get(\"input\");\r\n\r\n  if (inputRaw === null || inputRaw.trim().length === 0) {\r\n    const loaderData: ComparatorRouteLoaderData = {\r\n      userInput: \"\",\r\n      expressions: [],\r\n    };\r\n    return loaderData;\r\n  }\r\n\r\n  const expressions: ComparatorRouteLoaderData[\"expressions\"] =\r\n    [];\r\n  for (const userInput of inputRaw.split(\",\")) {\r\n    const parseResult = parse(userInput);\r\n    expressions.push(\r\n      parseResult.ok\r\n        ? {\r\n            ok: true,\r\n            inputRaw: userInput.trim(),\r\n            tree: parseResult.tree,\r\n            inputInterpretationLatex: syntaxTreeToLatex(\r\n              parseResult.tree\r\n            ),\r\n          }\r\n        : {\r\n            ok: false,\r\n            inputRaw: userInput.trim(),\r\n          }\r\n    );\r\n  }\r\n\r\n  const loaderData: ComparatorRouteLoaderData = {\r\n    userInput: inputRaw.trim(),\r\n    expressions,\r\n  };\r\n  return loaderData;\r\n};\r\n","import {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\n\r\nexport const syntaxTreeCollectSymbols = (\r\n  tree: SyntaxTree\r\n) => {\r\n  const symbols = new Set<string>();\r\n  const nodes = [tree];\r\n  while (nodes.length > 0) {\r\n    const curr = nodes.shift()!;\r\n    switch (curr.nodeType) {\r\n      case SyntaxTreeNodeType.IDEN:\r\n        symbols.add(curr.symbol);\r\n        break;\r\n      case SyntaxTreeNodeType.UNARY:\r\n        nodes.push(curr.operand);\r\n        break;\r\n      case SyntaxTreeNodeType.BINARY:\r\n        nodes.push(curr.left);\r\n        nodes.push(curr.right);\r\n        break;\r\n    }\r\n  }\r\n  return [...symbols].toSorted((a, b) =>\r\n    a.localeCompare(b)\r\n  );\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreeCollectSymbols } from \"$core/syntax-tree/collect-symbols\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { EvaluatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { LoaderFunction } from \"react-router\";\r\n\r\nexport const evaluatorRouteLoader: LoaderFunction = ({\r\n  request,\r\n}) => {\r\n  const url = new URL(request.url);\r\n  const userInputRaw = url.searchParams.get(\"input\");\r\n\r\n  if (\r\n    userInputRaw === null ||\r\n    userInputRaw.trim().length === 0\r\n  ) {\r\n    const loaderData: EvaluatorRouteLoaderData = {\r\n      userInput: \"\",\r\n      symbols: new Set(),\r\n      expressions: [],\r\n    };\r\n    return loaderData;\r\n  }\r\n\r\n  const symbols = new Set<string>();\r\n  const expressions: EvaluatorRouteLoaderData[\"expressions\"] =\r\n    [];\r\n  for (const userInput of userInputRaw.split(\",\")) {\r\n    if (userInput.trim().length === 0) {\r\n      continue;\r\n    }\r\n    const parseResult = parse(userInput);\r\n\r\n    if (!parseResult.ok) {\r\n      expressions.push({\r\n        inputRaw: userInput.trim(),\r\n        ok: false,\r\n      });\r\n      continue;\r\n    }\r\n\r\n    const { tree } = parseResult;\r\n    for (const symbol of syntaxTreeCollectSymbols(\r\n      parseResult.tree\r\n    )) {\r\n      symbols.add(symbol);\r\n    }\r\n    expressions.push({\r\n      ok: true,\r\n      inputRaw: userInput.trim(),\r\n      inputInterpretationLatex: syntaxTreeToLatex(tree),\r\n      tree,\r\n    });\r\n  }\r\n\r\n  const loaderData: EvaluatorRouteLoaderData = {\r\n    userInput: userInputRaw,\r\n    expressions,\r\n    symbols,\r\n  };\r\n  return loaderData;\r\n};\r\n","import { parse } from \"$core/interpreter/parser\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { RewriterRouteLoaderData } from \"$types/loader-data\";\r\nimport { LoaderFunction } from \"react-router\";\r\n\r\nexport const rewriterRouteLoader: LoaderFunction = ({\r\n  request,\r\n}) => {\r\n  const url = new URL(request.url);\r\n  const userInputRaw = url.searchParams.get(\"input\");\r\n  if (\r\n    userInputRaw === null ||\r\n    userInputRaw.toString().trim().length === 0\r\n  ) {\r\n    const loaderData: RewriterRouteLoaderData = {\r\n      userInput: \"\",\r\n      expressions: [],\r\n    };\r\n    return loaderData;\r\n  }\r\n\r\n  const userInput = userInputRaw.toString();\r\n  const expressions: RewriterRouteLoaderData[\"expressions\"] =\r\n    [];\r\n  for (const input of userInput.split(\",\")) {\r\n    const parseResult = parse(input);\r\n    expressions.push(\r\n      parseResult.ok\r\n        ? {\r\n            ok: true,\r\n            inputRaw: input.trim(),\r\n            inputInterpretationLatex: syntaxTreeToLatex(\r\n              parseResult.tree\r\n            ),\r\n            originalTree: parseResult.tree,\r\n          }\r\n        : { ok: false, inputRaw: input.trim() }\r\n    );\r\n  }\r\n\r\n  const loaderData: RewriterRouteLoaderData = {\r\n    userInput,\r\n    expressions,\r\n  };\r\n  return loaderData;\r\n};\r\n","import { lightBlue } from \"@mui/material/colors\";\r\nimport createPalette from \"@mui/material/styles/createPalette\";\r\n\r\nexport const PALETTE_BASE = createPalette({\r\n  primary: { main: lightBlue[300] },\r\n  contrastThreshold: 9,\r\n  tonalOffset: 0.5,\r\n});\r\n","import { indigo } from \"@mui/material/colors\";\r\nimport createPalette from \"@mui/material/styles/createPalette\";\r\n\r\nexport const PALETTE_CHECKER_ROUTE = createPalette({\r\n  primary: { main: indigo[200] },\r\n  tonalOffset: 0.47,\r\n  contrastThreshold: 9,\r\n});\r\n","import { orange } from \"@mui/material/colors\";\r\nimport createPalette from \"@mui/material/styles/createPalette\";\r\n\r\nexport const PALETTE_COMPARATOR_ROUTE = createPalette({\r\n  primary: { main: orange[200] },\r\n  tonalOffset: 0.47,\r\n  contrastThreshold: 9,\r\n});\r\n","import { teal } from \"@mui/material/colors\";\r\nimport createPalette from \"@mui/material/styles/createPalette\";\r\n\r\nexport const PALETTE_EVALUATOR_ROUTE = createPalette({\r\n  primary: { main: teal[200] },\r\n  tonalOffset: 0.5,\r\n  contrastThreshold: 9,\r\n});\r\n","import { pink } from \"@mui/material/colors\";\r\nimport createPalette from \"@mui/material/styles/createPalette\";\r\n\r\nexport const PALETTE_REWRITER_ROUTE = createPalette({\r\n  primary: { main: pink[200] },\r\n  tonalOffset: 0.47,\r\n  contrastThreshold: 9,\r\n});\r\n","import {\r\n  createTheme,\r\n  responsiveFontSizes,\r\n} from \"@mui/material\";\r\nimport { PALETTE_BASE } from \"./palette-base\";\r\nimport { PALETTE_CHECKER_ROUTE } from \"./palette-checker-route\";\r\nimport { PALETTE_COMPARATOR_ROUTE } from \"./palette-comparator-route\";\r\nimport { PALETTE_EVALUATOR_ROUTE } from \"./palette-evaluator-route\";\r\nimport { PALETTE_REWRITER_ROUTE } from \"./palette-rewriter-route\";\r\n\r\nlet _THEME_GLOBAL = createTheme({\r\n  palette: PALETTE_BASE,\r\n});\r\n_THEME_GLOBAL = responsiveFontSizes(_THEME_GLOBAL);\r\n\r\nexport const THEME_GLOBAL = _THEME_GLOBAL;\r\n\r\nexport const THEME_EVALUATOR_ROUTE = responsiveFontSizes(\r\n  createTheme({\r\n    palette: PALETTE_EVALUATOR_ROUTE,\r\n  })\r\n);\r\nexport const THEME_CHECKER_ROUTE = responsiveFontSizes(\r\n  createTheme({\r\n    palette: PALETTE_CHECKER_ROUTE,\r\n  })\r\n);\r\nexport const THEME_COMPARATOR_ROUTE = responsiveFontSizes(\r\n  createTheme({\r\n    palette: PALETTE_COMPARATOR_ROUTE,\r\n  })\r\n);\r\nexport const THEME_REWRITER_ROUTE = responsiveFontSizes(\r\n  createTheme({\r\n    palette: PALETTE_REWRITER_ROUTE,\r\n  })\r\n);\r\n","import { Typography, useTheme } from \"@mui/material\";\r\nimport { FC, Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useLocation } from \"react-router\";\r\n\r\nconst NAV_ITEMS = [\r\n  \"evaluator\",\r\n  \"comparator\",\r\n  \"checker\",\r\n  \"rewriter\",\r\n];\r\n\r\nexport const AppNavGroup: FC = () => {\r\n  const { t } = useTranslation(\"nav\");\r\n  const { palette } = useTheme();\r\n  const { pathname } = useLocation();\r\n  return (\r\n    <Fragment>\r\n      <Typography\r\n        component={Link}\r\n        to={`/`}\r\n        sx={{\r\n          color: palette.primary.dark,\r\n          textTransform: \"capitalize\",\r\n          textDecorationLine: \"none\",\r\n        }}\r\n      >\r\n        {t(\"home\")}\r\n      </Typography>\r\n      {NAV_ITEMS.map((id, index) => {\r\n        const target = `/${id}`;\r\n        const fontWeight =\r\n          target.localeCompare(pathname) === 0\r\n            ? 900\r\n            : undefined;\r\n        return (\r\n          <Typography\r\n            key={\"item\" + index}\r\n            component={Link}\r\n            to={target}\r\n            sx={{\r\n              color: palette.primary.dark,\r\n              textTransform: \"capitalize\",\r\n              fontWeight,\r\n              textDecorationLine: \"none\",\r\n            }}\r\n          >\r\n            {t(id)}\r\n          </Typography>\r\n        );\r\n      })}\r\n    </Fragment>\r\n  );\r\n};\r\n","import { SxProps, Theme, Typography } from \"@mui/material\";\r\nimport { KatexOptions } from \"katex\";\r\nimport { FC, ReactNode, useEffect, useRef } from \"react\";\r\n\r\ntype StyledLatexProps = {\r\n  children: ReactNode;\r\n  sx?: SxProps<Theme>;\r\n  options?: KatexOptions;\r\n};\r\nexport const StyledLatex: FC<StyledLatexProps> = (\r\n  props\r\n) => {\r\n  const { sx, children, options } = props;\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      window.renderMathInElement(ref.current, {\r\n        strict: false,\r\n        output: \"html\",\r\n        delimiters: [\r\n          { left: \"$$\", right: \"$$\", display: true },\r\n          { left: \"$\", right: \"$\", display: false },\r\n        ],\r\n        ...options,\r\n      });\r\n    }\r\n  }, [children, ref, options]);\r\n\r\n  return (\r\n    <Typography\r\n      ref={ref}\r\n      sx={{\r\n        ...sx,\r\n        \"& .katex-display > .katex\": {\r\n          whiteSpace: \"normal\",\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  );\r\n};\r\n","import { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport {\r\n  CheckRounded,\r\n  KeyboardArrowDownRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport {\r\n  Dispatch,\r\n  FC,\r\n  Fragment,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\n\r\ntype EditorRibbonButtonProps = {\r\n  options: { label: string; value: string }[];\r\n  onClick: Dispatch<string>;\r\n};\r\nexport const EditorRibbonButton: FC<\r\n  EditorRibbonButtonProps\r\n> = (props) => {\r\n  const { options, onClick } = props;\r\n  const { palette } = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const [selected, setSelected] = useState(options[0]);\r\n  const anchorRef = useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <Fragment>\r\n      <ButtonGroup\r\n        ref={anchorRef}\r\n        variant=\"contained\"\r\n        disableElevation\r\n        disableRipple\r\n        color=\"primary\"\r\n      >\r\n        <Button\r\n          onClick={() => onClick(selected.value)}\r\n          sx={{\r\n            \"&:hover\": {\r\n              color: palette.getContrastText(\r\n                palette.primary.main\r\n              ),\r\n              backgroundColor: palette.primary.main,\r\n            },\r\n            \"color\": palette.primary.dark,\r\n            \"backgroundColor\": palette.primary.light,\r\n          }}\r\n        >\r\n          <StyledLatex\r\n            sx={{\r\n              textTransform: \"none\",\r\n              fontFamily: \"monospace\",\r\n            }}\r\n          >\r\n            {`${selected.label}`}\r\n          </StyledLatex>\r\n        </Button>\r\n        <Button\r\n          onClick={() => setOpen(true)}\r\n          sx={{\r\n            \"&:hover\": {\r\n              color: palette.getContrastText(\r\n                palette.primary.main\r\n              ),\r\n              backgroundColor: palette.primary.main,\r\n            },\r\n            \"color\": palette.primary.dark,\r\n            \"backgroundColor\": palette.primary.light,\r\n          }}\r\n        >\r\n          <KeyboardArrowDownRounded\r\n            sx={{\r\n              transition: \"transform 0.2s ease\",\r\n              transform: open\r\n                ? \"rotate(180deg)\"\r\n                : \"rotate(0deg)\",\r\n            }}\r\n          />\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Menu\r\n        open={open}\r\n        anchorEl={anchorRef.current}\r\n        onClose={() => setOpen(false)}\r\n        onClick={() => setOpen(false)}\r\n      >\r\n        {options.map((option, index) => {\r\n          const isSelected =\r\n            option.label === selected.label;\r\n          return (\r\n            <MenuItem\r\n              key={\"option\" + index}\r\n              disableRipple\r\n              selected={isSelected}\r\n              onClick={() => setSelected(option)}\r\n              sx={{ padding: 2 }}\r\n            >\r\n              <ListItemIcon>\r\n                {isSelected && <CheckRounded />}\r\n              </ListItemIcon>\r\n              <ListItemText disableTypography>\r\n                <StyledLatex\r\n                  sx={{ fontFamily: \"monospace\" }}\r\n                >\r\n                  {`${option.label}`}\r\n                </StyledLatex>\r\n              </ListItemText>\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Stack } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { EditorRibbonButton } from \"./EditorRibbonButton\";\r\n\r\nconst OPERATOR_TEXT: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"$\\\\texttt{not}$\",\r\n    value: \"not\",\r\n  },\r\n  {\r\n    label: \"$\\\\texttt{and}$\",\r\n    value: \"and\",\r\n  },\r\n  {\r\n    label: \"$\\\\texttt{or}$\",\r\n    value: \"or\",\r\n  },\r\n  {\r\n    label: \"$\\\\texttt{implies}$\",\r\n    value: \"implies\",\r\n  },\r\n  {\r\n    label: \"$\\\\texttt{iff}$\",\r\n    value: \"iff\",\r\n  },\r\n];\r\n\r\nconst OPERATOR_SYMBOL: {\r\n  label: string;\r\n  value: string;\r\n}[] = [\r\n  {\r\n    label: \"$\\\\mathbf{\\\\lnot}$\",\r\n    value: \"\\u{00AC}\",\r\n  },\r\n  {\r\n    label: \"$\\\\mathbf{\\\\land}$\",\r\n    value: \"\\u{2227}\",\r\n  },\r\n  {\r\n    label: \"$\\\\mathbf{\\\\lor}$\",\r\n    value: \"\\u{2228}\",\r\n  },\r\n  {\r\n    label: \"$\\\\mathbf{\\\\implies}$\",\r\n    value: \"\\u{21D2}\",\r\n  },\r\n  {\r\n    label: \"$\\\\mathbf{\\\\iff}$\",\r\n    value: \"\\u{21D4}\",\r\n  },\r\n];\r\n\r\ntype EditorRibbonProps = {\r\n  onClick: (value: string) => void;\r\n};\r\nexport const EditorRibbon: FC<EditorRibbonProps> = (\r\n  props\r\n) => {\r\n  const { onClick } = props;\r\n  return (\r\n    <Stack\r\n      flexDirection=\"row\"\r\n      flexWrap=\"wrap\"\r\n      spacing={1}\r\n      useFlexGap\r\n    >\r\n      {OPERATOR_TEXT.map((option, index) => (\r\n        <EditorRibbonButton\r\n          key={\"insert-btn-text\" + index}\r\n          onClick={(value) => onClick(value)}\r\n          options={[OPERATOR_SYMBOL[index], option]}\r\n        />\r\n      ))}\r\n    </Stack>\r\n  );\r\n};\r\n","import {\r\n  CheckRounded,\r\n  ContentCopyRounded,\r\n  PlayArrowRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Button,\r\n  Stack,\r\n  TextField,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport {\r\n  Dispatch,\r\n  FC,\r\n  memo,\r\n  SyntheticEvent,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { EditorRibbon } from \"./EditorRibbon\";\r\n\r\ntype EditorProps = {\r\n  placeholder: string;\r\n  value: string;\r\n  onChange: Dispatch<string>;\r\n  onSubmit: () => void;\r\n};\r\nconst Editor_: FC<EditorProps> = (props) => {\r\n  const { placeholder, value, onChange, onSubmit } = props;\r\n  const { palette } = useTheme();\r\n  const { t } = useTranslation(\"component\", {\r\n    keyPrefix: \"editor\",\r\n  });\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n  const [hasCopied, setHasCopied] = useState(false);\r\n  const [cursorStartPos, setCusorStartPos] = useState(0);\r\n  const [cursorEndPos, setCusorEndPos] = useState(0);\r\n\r\n  const handleInsertChar = (text: string) => {\r\n    if (inputRef.current === null) {\r\n      return;\r\n    }\r\n    const left = value.slice(0, cursorStartPos);\r\n    const right = value.slice(cursorEndPos);\r\n    onChange(`${left}${text}${right}`);\r\n    setCusorStartPos(`${left}${text}`.length);\r\n    setCusorEndPos(`${left}${text}`.length);\r\n  };\r\n\r\n  const handleSelect = (\r\n    e: SyntheticEvent<HTMLDivElement, Event>\r\n  ) => {\r\n    const target = e.target as HTMLInputElement;\r\n    setCusorStartPos(target.selectionStart ?? 0);\r\n    setCusorEndPos(target.selectionEnd ?? 0);\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <EditorRibbon onClick={handleInsertChar} />\r\n      <TextField\r\n        inputRef={inputRef}\r\n        fullWidth\r\n        multiline\r\n        rows={5}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        slotProps={{\r\n          input: {\r\n            sx: {\r\n              fontFamily: \"monospace\",\r\n            },\r\n          },\r\n          htmlInput: {\r\n            autoCapitalize: \"off\",\r\n            spellCheck: \"false\",\r\n            onSelect: handleSelect,\r\n          },\r\n        }}\r\n      />\r\n      <Stack\r\n        spacing={1}\r\n        useFlexGap\r\n        flexWrap=\"wrap\"\r\n        direction=\"row\"\r\n      >\r\n        <Button\r\n          disableElevation\r\n          disableRipple\r\n          disabled={value.trim().length === 0}\r\n          variant=\"contained\"\r\n          startIcon={<PlayArrowRounded />}\r\n          onClick={onSubmit}\r\n          sx={{\r\n            \"&:hover\": {\r\n              color: palette.getContrastText(\r\n                palette.primary.main\r\n              ),\r\n              backgroundColor: palette.primary.main,\r\n            },\r\n            \"color\": palette.primary.dark,\r\n            \"backgroundColor\": palette.primary.light,\r\n          }}\r\n        >\r\n          {t(\"run\")}\r\n        </Button>\r\n        <Button\r\n          disableElevation\r\n          disableRipple\r\n          startIcon={\r\n            !hasCopied ? (\r\n              <ContentCopyRounded />\r\n            ) : (\r\n              <CheckRounded />\r\n            )\r\n          }\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            navigator.clipboard.writeText(value);\r\n            setHasCopied(true);\r\n            setTimeout(() => {\r\n              setHasCopied(false);\r\n            }, 1000);\r\n          }}\r\n          sx={{\r\n            \"&:hover\": {\r\n              color: palette.getContrastText(\r\n                palette.primary.main\r\n              ),\r\n              backgroundColor: palette.primary.main,\r\n            },\r\n            \"color\": palette.primary.dark,\r\n            \"backgroundColor\": palette.primary.light,\r\n          }}\r\n        >\r\n          {!hasCopied ? t(\"copy\") : t(\"copied\")}\r\n        </Button>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const Editor = memo(\r\n  Editor_,\r\n  (prev, next) =>\r\n    prev.value === next.value &&\r\n    prev.onSubmit === next.onSubmit\r\n);\r\n","import { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { WarningRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\ntype InputDisplayManyProps = {\r\n  expressions: ({ inputRaw: string } & Maybe<{\r\n    inputInterpretationLatex: string;\r\n  }>)[];\r\n};\r\nexport const InputDisplayMany: FC<InputDisplayManyProps> = (\r\n  props\r\n) => {\r\n  const { expressions } = props;\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      {expressions.map((expr, index) => {\r\n        const inputNum = index + 1;\r\n        return (\r\n          <Stack key={\"expr\" + index}>\r\n            {expr.ok && (\r\n              <StyledLatex>\r\n                {`$$${expr.inputInterpretationLatex} \\\\tag{${inputNum}}$$`}\r\n              </StyledLatex>\r\n            )}\r\n            {!expr.ok && (\r\n              <StyledLatex\r\n                sx={{\r\n                  color: ({ palette }) =>\r\n                    palette.error.main,\r\n                }}\r\n              >\r\n                {`$$\\\\varnothing\\\\tag{${inputNum}}$$`}\r\n              </StyledLatex>\r\n            )}\r\n          </Stack>\r\n        );\r\n      })}\r\n      {expressions.some((expr) => !expr.ok) && (\r\n        <Alert\r\n          icon={false}\r\n          variant=\"standard\"\r\n          severity=\"warning\"\r\n        >\r\n          <AlertTitle>\r\n            <Stack\r\n              direction=\"row\"\r\n              flexWrap=\"wrap\"\r\n              alignItems=\"flex-end\"\r\n              spacing={2}\r\n              useFlexGap\r\n            >\r\n              <WarningRounded />\r\n              <Typography fontWeight={900}>\r\n                {`Notice`}\r\n              </Typography>\r\n            </Stack>\r\n          </AlertTitle>\r\n          <Typography>{`The evaluator could not understand the following input. Please make sure that they are correct.`}</Typography>\r\n          <List>\r\n            {expressions.map((expr, index) => {\r\n              if (expr.ok) {\r\n                return null;\r\n              }\r\n              const inputNum = index + 1;\r\n              return (\r\n                <ListItem key={\"invalid-input\" + index}>\r\n                  <ListItemIcon>\r\n                    <Typography>\r\n                      {`(${inputNum})`}\r\n                    </Typography>\r\n                  </ListItemIcon>\r\n                  <ListItemText disableTypography>\r\n                    <Typography fontFamily=\"monospace\">\r\n                      {`${expr.inputRaw}`}\r\n                    </Typography>\r\n                  </ListItemText>\r\n                </ListItem>\r\n              );\r\n            })}\r\n          </List>\r\n        </Alert>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype VerdictDisplayProps = {\r\n  result: SyntaxTree;\r\n  originalLatex: string;\r\n};\r\nexport const VerdictDisplay: FC<VerdictDisplayProps> = (\r\n  props\r\n) => {\r\n  const { result, originalLatex } = props;\r\n  const { t } = useTranslation(\"views\", {\r\n    keyPrefix: \"checker-view\",\r\n  });\r\n\r\n  if (\r\n    result.nodeType === SyntaxTreeNodeType.CONST &&\r\n    result.value\r\n  ) {\r\n    return (\r\n      <StyledLatex>\r\n        {t(\"verdict.formula-is-tautology\", {\r\n          eq: `$$${originalLatex}$$`,\r\n        })}\r\n      </StyledLatex>\r\n    );\r\n  }\r\n  if (\r\n    result.nodeType === SyntaxTreeNodeType.CONST &&\r\n    !result.value\r\n  ) {\r\n    return (\r\n      <StyledLatex>\r\n        {t(\"verdict.formula-is-contradiction\", {\r\n          eq: `$$${originalLatex}$$`,\r\n        })}\r\n      </StyledLatex>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <StyledLatex>\r\n      {t(\"verdict.formula-is-satisfiable\", {\r\n        eq: `$$${originalLatex}$$`,\r\n        // dependencies: `$${dependencies}$`,\r\n      })}\r\n    </StyledLatex>\r\n  );\r\n};\r\n","import {\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  Collapse,\r\n} from \"@mui/material\";\r\nimport { FC, ReactNode, useState } from \"react\";\r\n\r\ntype ExpressionCardProps = {\r\n  primary: ReactNode;\r\n  secondary: ReactNode;\r\n};\r\nexport const ExpressionCard: FC<ExpressionCardProps> = (\r\n  props\r\n) => {\r\n  const { primary, secondary } = props;\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const toggleExpanded = () => {\r\n    setIsExpanded((prev) => !prev);\r\n  };\r\n  return (\r\n    <Card variant=\"outlined\">\r\n      <CardActionArea\r\n        disableRipple\r\n        disableTouchRipple\r\n        onClick={toggleExpanded}\r\n      >\r\n        <CardContent>{primary}</CardContent>\r\n      </CardActionArea>\r\n      <Collapse in={isExpanded}>{secondary}</Collapse>\r\n    </Card>\r\n  );\r\n};\r\n","import { Alert, AlertProps, useTheme } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\nexport const StyledAlert: FC<AlertProps> = (props) => {\r\n  const { sx, ...rest } = props;\r\n  const { shape } = useTheme();\r\n  return (\r\n    <Alert\r\n      icon={false}\r\n      {...rest}\r\n      sx={{\r\n        borderRadius: shape.borderRadius,\r\n        padding: 4,\r\n        ...sx,\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\n\r\nexport const getPermutation = (\r\n  size: number,\r\n  symbols: string[]\r\n) => {\r\n  const perm: SymbolTable[] = [];\r\n  const permSize = 1 << size;\r\n  for (let i = 0; i < permSize; i++) {\r\n    const repr = i.toString(2).padStart(size, \"0\");\r\n    const p = new Map<string, boolean>();\r\n    for (let j = 0; j < size; j++) {\r\n      p.set(symbols[j], repr[j] === \"0\");\r\n    }\r\n    perm.push(p);\r\n  }\r\n  return perm;\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SyntaxTreeNodeType } from \"$types/syntax-tree\";\r\n\r\nexport const exprTreeCollectSymbols = (\r\n  exprTree: ExprTree\r\n): Set<string> => {\r\n  const symbols = new Set<string>();\r\n  const nodes: ExprTree[] = [exprTree];\r\n\r\n  while (nodes.length > 0) {\r\n    const curr = nodes.shift()!;\r\n    switch (curr.nodeType) {\r\n      case SyntaxTreeNodeType.CONST:\r\n        break;\r\n      case SyntaxTreeNodeType.IDEN:\r\n        symbols.add(curr.repr);\r\n        break;\r\n      case SyntaxTreeNodeType.UNARY:\r\n        nodes.push(curr.child);\r\n        break;\r\n      case SyntaxTreeNodeType.BINARY:\r\n        nodes.push(curr.left);\r\n        nodes.push(curr.right);\r\n        break;\r\n    }\r\n  }\r\n  return symbols;\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SyntaxTreeNodeType } from \"$types/syntax-tree\";\r\n\r\nconst _exprTreeToLatex = (\r\n  tree: ExprTree,\r\n  table: Map<string, string> | null = null\r\n): string => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n      return `\\\\textbf{${tree.repr}}`;\r\n    case SyntaxTreeNodeType.IDEN:\r\n      if (table !== null && table.has(tree.repr)) {\r\n        return table.get(tree.repr)!;\r\n      }\r\n      return tree.repr;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const child = _exprTreeToLatex(tree.child, table);\r\n      if (\r\n        tree.child.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        return `${tree.repr} ( ${child} )`;\r\n      }\r\n      return `${tree.repr} ${child}`;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      let left = _exprTreeToLatex(tree.left, table);\r\n      if (\r\n        tree.left.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        left = `( ${left} )`;\r\n      }\r\n\r\n      let right = _exprTreeToLatex(tree.right, table);\r\n      if (\r\n        tree.right.nodeType === SyntaxTreeNodeType.BINARY\r\n      ) {\r\n        right = `( ${right} )`;\r\n      }\r\n\r\n      return `${left} ${tree.repr} ${right}`;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeToLatex = (exprTree: ExprTree) => {\r\n  return _exprTreeToLatex(exprTree);\r\n};\r\n\r\nexport const exprTreeToLatexSubstitute = (\r\n  exprTree: ExprTree,\r\n  symbolMap: Map<string, string>\r\n) => {\r\n  return _exprTreeToLatex(exprTree, symbolMap);\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeCollectSymbols } from \"./expr/evaluate\";\r\nimport { exprTreeToLatexSubstitute } from \"./expr/latex\";\r\n\r\ntype MinifiedSyntaxTree = {\r\n  label: string;\r\n  eval: (t: SymbolTable) => boolean;\r\n};\r\nconst traverse = (\r\n  tree: ExprTree,\r\n  accum: MinifiedSyntaxTree[],\r\n  seen: Set<string>,\r\n  symbolMap: Map<string, string>\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n      return;\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const repr = exprTreeToLatexSubstitute(\r\n        tree,\r\n        symbolMap\r\n      );\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traverse(tree.child, accum, seen, symbolMap);\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        label: repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      const repr = exprTreeToLatexSubstitute(\r\n        tree,\r\n        symbolMap\r\n      );\r\n      if (seen.has(repr)) {\r\n        return;\r\n      }\r\n      seen.add(repr);\r\n      traverse(tree.left, accum, seen, symbolMap);\r\n      traverse(tree.right, accum, seen, symbolMap);\r\n\r\n      const minified: MinifiedSyntaxTree = {\r\n        eval: tree.eval,\r\n        label: repr,\r\n      };\r\n      accum.push(minified);\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenPostOrder = (\r\n  tree: ExprTree\r\n) => {\r\n  const accum: MinifiedSyntaxTree[] = [];\r\n  const seen = new Set<string>();\r\n  const symbolMap = new Map<string, string>();\r\n  for (const symbol of exprTreeCollectSymbols(tree)) {\r\n    symbolMap.set(\r\n      symbol,\r\n      symbol.length >= 5\r\n        ? `${symbol.slice(0, 5)}\\\\ldots`\r\n        : symbol\r\n    );\r\n  }\r\n  traverse(tree, accum, seen, symbolMap);\r\n  return accum;\r\n};\r\n","import {\r\n  lighten,\r\n  TableCell,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, memo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype TruthTableCellProps = { value: boolean };\r\nconst TruthTableCell_: FC<TruthTableCellProps> = (\r\n  props\r\n) => {\r\n  const { value } = props;\r\n  const { t } = useTranslation();\r\n  const { palette } = useTheme();\r\n\r\n  const bgColor = value\r\n    ? palette.primary.light\r\n    : lighten(palette.primary.light, 0.6);\r\n\r\n  return (\r\n    <TableCell\r\n      align=\"center\"\r\n      sx={{\r\n        backgroundColor: bgColor,\r\n        color: palette.primary.dark,\r\n      }}\r\n    >\r\n      <Typography>\r\n        {value ? t(\"common.true\") : t(\"common.false\")}\r\n      </Typography>\r\n    </TableCell>\r\n  );\r\n};\r\n\r\nexport const TruthTableCell = memo(\r\n  TruthTableCell_,\r\n  (prev, next) => {\r\n    return prev.value === next.value;\r\n  }\r\n);\r\n","import { StyledAlert } from \"$components/Styled/StyledAlert\";\r\nimport { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { getPermutation } from \"$core/eval\";\r\nimport { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { exprTreeFlattenPostOrder } from \"$core/tree/flatten\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  Button,\r\n  Stack,\r\n  SxProps,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Theme,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, memo, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TruthTableCell } from \"./TruthTableCell\";\r\n\r\ntype TruthTableProps = {\r\n  exprTree: ExprTree;\r\n  slotProps: { container: SxProps<Theme> };\r\n};\r\nconst TruthTable_: FC<TruthTableProps> = (props) => {\r\n  const { exprTree, slotProps } = props;\r\n  const { t } = useTranslation();\r\n  const { palette } = useTheme();\r\n  const [userConfirmed, setUserConfirmed] = useState(false);\r\n\r\n  const columns = exprTreeFlattenPostOrder(exprTree);\r\n  const symbols = [...exprTreeCollectSymbols(exprTree)];\r\n  symbols.sort();\r\n\r\n  const perm =\r\n    symbols.length > 3 && !userConfirmed\r\n      ? []\r\n      : getPermutation(symbols.length, symbols);\r\n\r\n  if (symbols.length > 3 && !userConfirmed) {\r\n    return (\r\n      <Stack\r\n        spacing={1}\r\n        padding={1}\r\n      >\r\n        <StyledAlert\r\n          severity=\"warning\"\r\n          variant=\"standard\"\r\n        >\r\n          <Typography>\r\n            {t(\"component:math.truthTable.warning\")}\r\n          </Typography>\r\n        </StyledAlert>\r\n        <Button\r\n          disableElevation\r\n          disableRipple\r\n          variant=\"contained\"\r\n          onClick={() => setUserConfirmed(true)}\r\n          sx={{\r\n            \"&:hover\": {\r\n              color: palette.getContrastText(\r\n                palette.primary.main\r\n              ),\r\n              backgroundColor: palette.primary.main,\r\n            },\r\n            \"color\": palette.primary.dark,\r\n            \"backgroundColor\": palette.primary.light,\r\n            \"width\": \"fit-content\",\r\n          }}\r\n        >\r\n          {t(\"component:math.truthTable.confirm\")}\r\n        </Button>\r\n      </Stack>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TableContainer sx={slotProps.container}>\r\n      <Table stickyHeader>\r\n        <TableHead>\r\n          <TableRow>\r\n            {symbols.map((symbol, index) => (\r\n              <TableCell\r\n                key={\"sym\" + index}\r\n                align=\"center\"\r\n                sx={{ whiteSpace: \"nowrap\" }}\r\n              >\r\n                <StyledLatex>{`$${symbol}$`}</StyledLatex>\r\n              </TableCell>\r\n            ))}\r\n            {columns.map((col, index) => (\r\n              <TableCell\r\n                key={\"subexpr\" + index}\r\n                align=\"center\"\r\n                sx={{ whiteSpace: \"nowrap\" }}\r\n              >\r\n                <StyledLatex>{`$${col.label}$`}</StyledLatex>\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {perm.map((p, index) => (\r\n            <TableRow key={\"perm\" + index}>\r\n              {symbols.map((sym, index) => (\r\n                <TruthTableCell\r\n                  key={\"sym\" + index}\r\n                  value={p.get(sym) || false}\r\n                />\r\n              ))}\r\n              {columns.map((column, colIndex) => (\r\n                <TruthTableCell\r\n                  key={\"col\" + colIndex}\r\n                  value={column.eval(p)}\r\n                />\r\n              ))}\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport const TruthTable = memo(\r\n  TruthTable_,\r\n  (prev, next) => {\r\n    return (\r\n      exprTreeToLatex(prev.exprTree) ===\r\n      exprTreeToLatex(next.exprTree)\r\n    );\r\n  }\r\n);\r\n","import {\r\n  ExprTreeBinary,\r\n  ExprTreeConst,\r\n  ExprTreeIden,\r\n  ExprTreeUnary,\r\n} from \"$types/expression-tree\";\r\nimport { Operator } from \"$types/operators\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\n\r\nconst OPERATOR_REPR: Record<Operator, string> = {\r\n  [Operator.AND]: `\\\\land`,\r\n  [Operator.OR]: `\\\\lor`,\r\n  [Operator.IFF]: `\\\\iff`,\r\n  [Operator.IMPL]: `\\\\implies`,\r\n  [Operator.NOT]: `\\\\lnot`,\r\n};\r\n\r\ntype EvalFn = (t: SymbolTable) => boolean;\r\nconst OPERATOR_EVAL_FN: Record<\r\n  Exclude<Operator, Operator.NOT>,\r\n  (l: EvalFn, r: EvalFn) => (t: SymbolTable) => boolean\r\n> = {\r\n  [Operator.AND]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) && r(t),\r\n  [Operator.OR]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) || r(t),\r\n  [Operator.IMPL]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      !l(t) || r(t),\r\n  [Operator.IFF]:\r\n    (l: EvalFn, r: EvalFn) => (t: SymbolTable) =>\r\n      l(t) === r(t),\r\n};\r\n\r\nconst _syntaxTreetoExprTree = (\r\n  tree: SyntaxTree,\r\n  orderStart: number\r\n) => {\r\n  const { nodeType } = tree;\r\n\r\n  switch (nodeType) {\r\n    case SyntaxTreeNodeType.CONST: {\r\n      const node: ExprTreeConst = {\r\n        eval: () => tree.value,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: String(tree.value),\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeType.IDEN: {\r\n      const node: ExprTreeIden = {\r\n        eval: (t) => t.get(tree.symbol) ?? false,\r\n        nodeType,\r\n        order: orderStart + 1,\r\n        repr: tree.symbol,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const child = _syntaxTreetoExprTree(\r\n        tree.operand,\r\n        orderStart\r\n      );\r\n      const node: ExprTreeUnary = {\r\n        repr: OPERATOR_REPR[tree.operator],\r\n        child,\r\n        nodeType,\r\n        eval: (t) => !child.eval(t),\r\n        order: child.order + 1,\r\n      };\r\n      return node;\r\n    }\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      const left = _syntaxTreetoExprTree(\r\n        tree.left,\r\n        orderStart\r\n      );\r\n      const right = _syntaxTreetoExprTree(\r\n        tree.right,\r\n        left.order\r\n      );\r\n      const node: ExprTreeBinary = {\r\n        nodeType,\r\n        eval: OPERATOR_EVAL_FN[tree.operator](\r\n          left.eval,\r\n          right.eval\r\n        ),\r\n        left,\r\n        right,\r\n        order: right.order + 1,\r\n        repr: OPERATOR_REPR[tree.operator],\r\n      };\r\n      return node;\r\n    }\r\n  }\r\n};\r\n\r\nexport const exprTreeFromSyntaxTree = (\r\n  tree: SyntaxTree\r\n) => {\r\n  return _syntaxTreetoExprTree(tree, 0);\r\n};\r\n","import { ExpressionCard } from \"$components/ExpressionCard\";\r\nimport { TruthTable } from \"$components/TruthTable\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { exprTreeFromSyntaxTree } from \"$core/tree/conversion\";\r\nimport { CheckerRouteLoaderData } from \"$types/loader-data\";\r\nimport { InfoRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment } from \"react\";\r\nimport { VerdictDisplay } from \"./VerdictDisplay\";\r\n\r\ntype VerdictDisplayManyProps = {\r\n  formulas: CheckerRouteLoaderData[\"expressions\"];\r\n};\r\nexport const VerdictDisplayMany: FC<\r\n  VerdictDisplayManyProps\r\n> = (props) => {\r\n  const { formulas: expressions } = props;\r\n  if (expressions.length === 0) {\r\n    return (\r\n      <Alert\r\n        icon={false}\r\n        variant=\"standard\"\r\n        severity=\"info\"\r\n      >\r\n        <AlertTitle>\r\n          <Stack\r\n            direction=\"row\"\r\n            flexWrap=\"wrap\"\r\n            alignItems=\"flex-end\"\r\n            spacing={2}\r\n            useFlexGap\r\n          >\r\n            <InfoRounded />\r\n            <Typography fontWeight={900}>\r\n              {`Notice`}\r\n            </Typography>\r\n          </Stack>\r\n        </AlertTitle>\r\n        <Typography>{`No verdict to display. Enter an expression to see its result.`}</Typography>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {expressions.map((expr, index) => {\r\n        if (!expr.ok) {\r\n          return null;\r\n        }\r\n        const exprTree = exprTreeFromSyntaxTree(\r\n          expr.originalTree\r\n        );\r\n        const originalLatex = syntaxTreeToLatex(\r\n          expr.originalTree\r\n        );\r\n\r\n        return (\r\n          <ExpressionCard\r\n            key={\"verdict\" + index}\r\n            primary={\r\n              <VerdictDisplay\r\n                result={expr.normalizedTree}\r\n                originalLatex={originalLatex}\r\n              />\r\n            }\r\n            secondary={\r\n              <TruthTable\r\n                exprTree={exprTree}\r\n                slotProps={{\r\n                  container: { maxHeight: \"40vh\" },\r\n                }}\r\n              />\r\n            }\r\n          />\r\n        );\r\n      })}\r\n    </Fragment>\r\n  );\r\n};\r\n","import { Box, Typography, useTheme } from \"@mui/material\";\r\nimport { FC, Fragment, ReactNode } from \"react\";\r\n\r\ntype BaseLayoutProps = {\r\n  banner: string;\r\n  appHeader: ReactNode;\r\n  children: ReactNode;\r\n};\r\nexport const BaseLayout: FC<BaseLayoutProps> = (props) => {\r\n  const { appHeader, banner, children } = props;\r\n  const { palette } = useTheme();\r\n  return (\r\n    <Fragment>\r\n      <Box\r\n        width=\"100%\"\r\n        maxWidth=\"lg\"\r\n        marginX={{ xs: 0, md: \"auto\" }}\r\n        paddingX={{ xs: 2, md: 0 }}\r\n        paddingY={4}\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"flex-start\",\r\n          flexWrap: \"wrap\",\r\n          gap: 2,\r\n        }}\r\n      >\r\n        {appHeader}\r\n      </Box>\r\n      <Box\r\n        paddingX={{ xs: 2, md: 0 }}\r\n        paddingY={4}\r\n        sx={{\r\n          backgroundColor: palette.primary.light,\r\n          color: palette.primary.dark,\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          fontWeight={900}\r\n          fontFamily=\"monospace\"\r\n          textTransform=\"capitalize\"\r\n          maxWidth=\"lg\"\r\n          marginX={{ xs: 0, md: \"auto\" }}\r\n          sx={{\r\n            textWrap: \"balance\",\r\n            whiteSpace: \"break-spaces\",\r\n          }}\r\n        >\r\n          {banner}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        width=\"100%\"\r\n        maxWidth=\"lg\"\r\n        marginX={{ xs: 0, md: \"auto\" }}\r\n        paddingX={{ xs: 2, md: 0 }}\r\n        paddingY={8}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\n","import { AppNavGroup } from \"$components/common/AppNavMenu\";\r\nimport { Editor } from \"$components/Editor\";\r\nimport { InputDisplayMany } from \"$components/InputTable\";\r\nimport { VerdictDisplayMany } from \"$components/VerdictDisplay\";\r\nimport { BaseLayout } from \"$layouts/BaseLayout\";\r\nimport { CheckerRouteLoaderData } from \"$types/loader-data\";\r\nimport { Stack, Typography, useTheme } from \"@mui/material\";\r\nimport { FC, Fragment, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const CheckerView: FC = () => {\r\n  const loaderData =\r\n    useLoaderData() as CheckerRouteLoaderData;\r\n  const { expressions, userInput: prevUserInput } =\r\n    loaderData;\r\n\r\n  const submit = useSubmit();\r\n  const { t } = useTranslation();\r\n  const { typography } = useTheme();\r\n  const [userInput, setUserInput] = useState(prevUserInput);\r\n\r\n  useEffect(() => {\r\n    setUserInput(userInput);\r\n  }, [userInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/checker\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <BaseLayout\r\n      appHeader={<AppNavGroup />}\r\n      banner={t(\"tautology-checker\")}\r\n    >\r\n      <Stack spacing={8}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"p or not p, not q and q, p implies q\"\r\n          onSubmit={handleSubmit}\r\n        />\r\n        {expressions.length > 0 && (\r\n          <Fragment>\r\n            <Stack spacing={2}>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={typography.h3.fontSize}\r\n              >\r\n                {\"Input Interpretation\"}\r\n              </Typography>\r\n              <InputDisplayMany expressions={expressions} />\r\n            </Stack>\r\n            <Stack spacing={2}>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={typography.h3.fontSize}\r\n              >\r\n                {t(\"verdict.title\")}\r\n              </Typography>\r\n              <VerdictDisplayMany formulas={expressions} />\r\n            </Stack>\r\n          </Fragment>\r\n        )}\r\n      </Stack>\r\n    </BaseLayout>\r\n  );\r\n};\r\n","import { exprTreeCollectSymbols } from \"$core/tree/expr/evaluate\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\n\r\nfunction* permutation(symbols: string[]) {\r\n  let current = 0;\r\n  const size = 1 << symbols.length;\r\n  while (current < size) {\r\n    const perm: SymbolTable = new Map();\r\n    const permStr = current\r\n      .toString(2)\r\n      .padStart(symbols.length, \"0\");\r\n    for (let i = 0; i < size; i++) {\r\n      perm.set(symbols[i], permStr[i] === \"1\");\r\n    }\r\n    yield perm;\r\n    current++;\r\n  }\r\n}\r\n\r\nexport const exprTreeVerifyTautology = (tree: ExprTree) => {\r\n  const symbols = exprTreeCollectSymbols(tree);\r\n  const perms = permutation([...symbols]);\r\n  for (const symbolTable of perms) {\r\n    if (!tree.eval(symbolTable)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n","import { AppNavGroup } from \"$components/common/AppNavMenu\";\r\nimport { Editor } from \"$components/Editor/Editor\";\r\nimport { InputDisplayMany } from \"$components/InputTable\";\r\nimport { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { exprTreeVerifyTautology } from \"$core/expr-tree/verify-tautology\";\r\nimport { IFF } from \"$core/syntax-tree/node\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { exprTreeFromSyntaxTree } from \"$core/tree/conversion\";\r\nimport { BaseLayout } from \"$layouts/BaseLayout\";\r\nimport { ComparatorRouteLoaderData } from \"$types/loader-data\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const ComparatorView: FC = () => {\r\n  const { expressions, userInput: prevUserInput } =\r\n    useLoaderData() as ComparatorRouteLoaderData;\r\n\r\n  const submit = useSubmit();\r\n  const { t } = useTranslation();\r\n  const [userInput, setUserInput] = useState(prevUserInput);\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    setUserInput(prevUserInput);\r\n  }, [prevUserInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/comparator\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const validExpressions = expressions.filter(\r\n    (expr) => expr.ok\r\n  );\r\n\r\n  return (\r\n    <BaseLayout\r\n      appHeader={<AppNavGroup />}\r\n      banner={t(`comparator`)}\r\n    >\r\n      <Stack spacing={8}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"p and q, p or q, p implies q, p iff q\"\r\n          onSubmit={handleSubmit}\r\n        />\r\n        {prevUserInput.trim().length > 0 && (\r\n          <Stack spacing={2}>\r\n            <Stack spacing={1}>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={theme.typography.h3.fontSize}\r\n                sx={{ color: theme.palette.primary.dark }}\r\n              >\r\n                {\"Input Interpretation\"}\r\n              </Typography>\r\n              <InputDisplayMany expressions={expressions} />\r\n            </Stack>\r\n            {validExpressions.length > 0 && (\r\n              <>\r\n                <Typography\r\n                  fontWeight={900}\r\n                  fontSize={theme.typography.h3.fontSize}\r\n                  sx={{ color: theme.palette.primary.dark }}\r\n                >\r\n                  {\"Comparison\"}\r\n                </Typography>\r\n                {validExpressions.map((expr, index) => {\r\n                  return (\r\n                    <Card\r\n                      variant=\"outlined\"\r\n                      key={\"expr\" + index}\r\n                    >\r\n                      <CardContent>\r\n                        {validExpressions.map(\r\n                          (otherExpr, otherIndex) => {\r\n                            if (otherIndex === index) {\r\n                              return null;\r\n                            }\r\n                            const iffTree =\r\n                              exprTreeFromSyntaxTree(\r\n                                IFF(\r\n                                  expr.tree,\r\n                                  otherExpr.tree\r\n                                )\r\n                              );\r\n                            const result =\r\n                              exprTreeVerifyTautology(\r\n                                iffTree\r\n                              )\r\n                                ? \"\\\\equiv\"\r\n                                : \"\\\\not\\\\equiv\";\r\n                            return (\r\n                              <StyledLatex\r\n                                key={\"subexpr\" + otherIndex}\r\n                              >\r\n                                {`$$ ${syntaxTreeToLatex(\r\n                                  expr.tree\r\n                                )} ${result} ${syntaxTreeToLatex(\r\n                                  otherExpr.tree\r\n                                )}$$`}\r\n                              </StyledLatex>\r\n                            );\r\n                          }\r\n                        )}\r\n                      </CardContent>\r\n                    </Card>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n          </Stack>\r\n        )}\r\n      </Stack>\r\n    </BaseLayout>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardHeader,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useRouteError } from \"react-router\";\r\n\r\nexport const ErrorView: FC = () => {\r\n  const error = useRouteError();\r\n  const { t } = useTranslation(\"views\", {\r\n    keyPrefix: \"error-view\",\r\n  });\r\n\r\n  return (\r\n    <Box\r\n      maxWidth=\"md\"\r\n      marginX={{ xs: 2, md: \"auto\" }}\r\n      paddingY={2}\r\n    >\r\n      <Card variant=\"outlined\">\r\n        <CardHeader\r\n          title={t(\"title\")}\r\n          slotProps={{\r\n            title: { fontWeight: 900 },\r\n          }}\r\n        />\r\n        <CardActions disableSpacing>\r\n          <Typography\r\n            component={Link}\r\n            to=\"/\"\r\n            color=\"primary\"\r\n            sx={{\r\n              \"textDecorationLine\": \"none\",\r\n              \"&:hover\": {\r\n                textDecorationLine: \"underline\",\r\n              },\r\n            }}\r\n          >\r\n            {t(\"return-home\")}\r\n          </Typography>\r\n        </CardActions>\r\n        <CardContent>\r\n          <Typography\r\n            fontFamily=\"monospace\"\r\n            color=\"error\"\r\n            component=\"pre\"\r\n          >\r\n            {JSON.stringify(error, null, 4)}\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n","import {\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, KeyboardEvent, ReactNode } from \"react\";\r\n\r\ntype StyledTooltipIconButtonProps = {\r\n  title: string;\r\n  children: ReactNode;\r\n  disabled?: boolean;\r\n  onClick: (e: React.MouseEvent<HTMLButtonElement>) => void;\r\n  onKeyPress?: (\r\n    e: KeyboardEvent<HTMLButtonElement>\r\n  ) => void;\r\n};\r\nexport const StyledTooltipIconButton: FC<\r\n  StyledTooltipIconButtonProps\r\n> = (props) => {\r\n  const { children, onKeyPress, onClick, title, disabled } =\r\n    props;\r\n  return (\r\n    <Tooltip title={<Typography>{title}</Typography>}>\r\n      <span>\r\n        <IconButton\r\n          disableRipple\r\n          disabled={disabled}\r\n          onClick={onClick}\r\n          onKeyDown={onKeyPress}\r\n        >\r\n          {children}\r\n        </IconButton>\r\n      </span>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import { StyledTooltipIconButton } from \"$components/Styled/StyledIconButton\";\r\nimport {\r\n  KeyboardArrowLeftRounded,\r\n  KeyboardArrowRightRounded,\r\n  PauseRounded,\r\n  PlayArrowRounded,\r\n  ReplayRounded,\r\n} from \"@mui/icons-material\";\r\nimport { Slider, Stack, Typography } from \"@mui/material\";\r\nimport { FC, memo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype GraphControlProps = {\r\n  maxValue: number;\r\n  minValue: number;\r\n  value: number;\r\n  onChange: (v: number) => void;\r\n  isAnimationPlaying: boolean;\r\n  onAnimationPlay: () => void;\r\n  onAnimationPause: () => void;\r\n  onAnimationReplay: () => void;\r\n};\r\nconst GraphControl_: FC<GraphControlProps> = (props) => {\r\n  const {\r\n    value,\r\n    maxValue,\r\n    minValue,\r\n    onChange,\r\n    isAnimationPlaying,\r\n    onAnimationPause,\r\n    onAnimationPlay,\r\n    onAnimationReplay,\r\n  } = props;\r\n\r\n  const { t } = useTranslation(\"translation\", {\r\n    keyPrefix: \"playground.playback\",\r\n  });\r\n\r\n  const handleForward = () => {\r\n    if (value >= maxValue) {\r\n      return;\r\n    }\r\n    onChange(value + 1);\r\n  };\r\n\r\n  const handleRewind = () => {\r\n    if (value <= minValue) {\r\n      return;\r\n    }\r\n    onChange(value - 1);\r\n  };\r\n\r\n  return (\r\n    <Stack>\r\n      <Slider\r\n        valueLabelDisplay=\"auto\"\r\n        onChange={(_, v) => onChange(v as number)}\r\n        value={value}\r\n        max={maxValue}\r\n        min={minValue}\r\n        step={1}\r\n      />\r\n      <Stack\r\n        direction=\"row\"\r\n        spacing={1}\r\n        alignItems=\"center\"\r\n      >\r\n        <StyledTooltipIconButton\r\n          disabled={value <= minValue}\r\n          title=\"Previous\"\r\n          onClick={handleRewind}\r\n        >\r\n          <KeyboardArrowLeftRounded />\r\n        </StyledTooltipIconButton>\r\n        {value === maxValue && (\r\n          <StyledTooltipIconButton\r\n            title=\"Replay\"\r\n            onClick={onAnimationReplay}\r\n          >\r\n            <ReplayRounded />\r\n          </StyledTooltipIconButton>\r\n        )}\r\n        {value !== maxValue && isAnimationPlaying && (\r\n          <StyledTooltipIconButton\r\n            title=\"Pause\"\r\n            onClick={onAnimationPause}\r\n          >\r\n            <PauseRounded />\r\n          </StyledTooltipIconButton>\r\n        )}\r\n        {value !== maxValue && !isAnimationPlaying && (\r\n          <StyledTooltipIconButton\r\n            title=\"Play\"\r\n            onClick={onAnimationPlay}\r\n          >\r\n            <PlayArrowRounded />\r\n          </StyledTooltipIconButton>\r\n        )}\r\n        <StyledTooltipIconButton\r\n          disabled={value >= maxValue}\r\n          title={t(\"forward\")}\r\n          onClick={handleForward}\r\n        >\r\n          <KeyboardArrowRightRounded />\r\n        </StyledTooltipIconButton>\r\n        <Typography>{`${value}/${maxValue}`}</Typography>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const GraphControl = memo(\r\n  GraphControl_,\r\n  (prev, next) => {\r\n    const keys = [\r\n      \"value\",\r\n      \"maxValue\",\r\n      \"minValue\",\r\n      \"isAnimationPlaying\",\r\n    ] as (keyof GraphControlProps)[];\r\n    return keys.every((key) => prev[key] === next[key]);\r\n  }\r\n);\r\n","import { Fab, Tooltip, Typography } from \"@mui/material\";\r\nimport { FC, ReactElement } from \"react\";\r\n\r\ntype StyledFABProps = {\r\n  title: string;\r\n  onClick: () => void;\r\n  children: ReactElement;\r\n};\r\nexport const StyledFAB: FC<StyledFABProps> = (props) => {\r\n  const { children, onClick, title } = props;\r\n  return (\r\n    <Fab\r\n      size=\"medium\"\r\n      color=\"primary\"\r\n      onClick={onClick}\r\n      sx={{\r\n        position: \"absolute\",\r\n        left: 16,\r\n        bottom: 16,\r\n      }}\r\n    >\r\n      <Tooltip\r\n        placement=\"right\"\r\n        title={<Typography>{title}</Typography>}\r\n      >\r\n        {children}\r\n      </Tooltip>\r\n    </Fab>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport {\r\n  HierarchyPointLink,\r\n  HierarchyPointNode,\r\n} from \"@visx/hierarchy/lib/types\";\r\nimport { LinkVertical } from \"@visx/shape\";\r\nimport { FC } from \"react\";\r\n\r\ntype TreeGraphLinkProps = {\r\n  link: HierarchyPointLink<ExprTree>;\r\n  order: number;\r\n};\r\nexport const TreeGraphLink: FC<TreeGraphLinkProps> = (\r\n  props\r\n) => {\r\n  const { link, order } = props;\r\n  const { palette } = useTheme();\r\n  const { source, target } = link;\r\n  const isSourceVisible = source.data.order <= order;\r\n\r\n  const isTargetVisibleNow = target.data.order <= order;\r\n  const isTargetVisibleSoon =\r\n    target.data.order <= order + 1;\r\n  const isTargetVisible =\r\n    isTargetVisibleNow || isTargetVisibleSoon;\r\n\r\n  const isLinkVisible = isSourceVisible && isTargetVisible;\r\n\r\n  return (\r\n    <LinkVertical<\r\n      HierarchyPointLink<ExprTree>,\r\n      HierarchyPointNode<ExprTree>\r\n    >\r\n      data={link}\r\n      stroke={palette.primary.light}\r\n      visibility={isLinkVisible ? \"visible\" : \"hidden\"}\r\n      strokeOpacity={isTargetVisible ? \"0.6\" : \"0.3\"}\r\n      strokeWidth=\"5\"\r\n      fill=\"none\"\r\n    />\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport { HierarchyPointNode } from \"@visx/hierarchy/lib/types\";\r\nimport katex from \"katex\";\r\nimport { FC, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ntype TreeGraphNodeProps = {\r\n  node: HierarchyPointNode<ExprTree>;\r\n  order: number;\r\n  symbolTable: SymbolTable;\r\n  r: number;\r\n};\r\nexport const TreeGraphNode: FC<TreeGraphNodeProps> = (\r\n  props\r\n) => {\r\n  const { r, order, node, symbolTable } = props;\r\n  const { t } = useTranslation();\r\n  const { x, y, data } = node;\r\n  const { palette, typography } = useTheme();\r\n  const ref = useRef<SVGTextElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current !== null) {\r\n      ref.current.innerHTML = katex\r\n        .renderToString(data.repr)\r\n        .replaceAll(\"span\", \"tspan\");\r\n    }\r\n  }, [ref, data.repr]);\r\n\r\n  const isNodeHighlighted = data.order === order;\r\n  const isNodeVisibleNow = data.order <= order;\r\n  const isNodeVisibleSoon = data.order <= order + 1;\r\n  const isNodeVisible =\r\n    isNodeVisibleNow || isNodeVisibleSoon;\r\n  return (\r\n    <Group\r\n      top={y}\r\n      left={x}\r\n      opacity={isNodeVisibleNow ? 1 : 0.5}\r\n      visibility={isNodeVisible ? \"visible\" : \"hidden\"}\r\n    >\r\n      <circle\r\n        strokeWidth={isNodeHighlighted ? 5 : 0}\r\n        stroke={palette.primary.dark}\r\n        strokeOpacity={0.8}\r\n        r={r}\r\n        fill={palette.primary.light}\r\n      />\r\n      <text\r\n        ref={ref}\r\n        fontSize={typography.body1.fontSize}\r\n        fill={palette.primary.contrastText}\r\n        dy=\"0.33rem\"\r\n        textAnchor=\"middle\"\r\n        pointerEvents=\"none\"\r\n        style={{ userSelect: \"none\" }}\r\n      />\r\n      <Group\r\n        transform={`translate(${r / 3}, ${r / 3})`}\r\n        visibility={\r\n          data.order < order ? \"visible\" : \"hidden\"\r\n        }\r\n      >\r\n        <rect\r\n          width={60}\r\n          height={30}\r\n          rx={5}\r\n          ry={5}\r\n          fill={palette.primary.light}\r\n        />\r\n        <text\r\n          x=\"30\"\r\n          y=\"22\"\r\n          textAnchor=\"middle\"\r\n          pointerEvents=\"none\"\r\n          fill={palette.primary.contrastText}\r\n          style={{ userSelect: \"none\" }}\r\n        >\r\n          {data.eval(symbolTable)\r\n            ? t(\"common.true\")\r\n            : t(\"common.false\")}\r\n        </text>\r\n      </Group>\r\n    </Group>\r\n  );\r\n};\r\n","import { StyledFAB } from \"$components/Styled/StyledFAB\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { ControlCameraRounded } from \"@mui/icons-material\";\r\nimport { Box } from \"@mui/material\";\r\nimport { Group } from \"@visx/group\";\r\nimport {\r\n  hierarchy,\r\n  Tree as VisxTree,\r\n} from \"@visx/hierarchy\";\r\nimport { Zoom } from \"@visx/zoom\";\r\nimport { FC, Fragment, memo, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TreeGraphLink } from \"./TreeLink\";\r\nimport { TreeGraphNode } from \"./TreeNode\";\r\n\r\ntype TreeProps = {\r\n  symbolTable: SymbolTable;\r\n  tree: ExprTree;\r\n  order: number;\r\n};\r\nconst Tree_: FC<TreeProps> = (props) => {\r\n  const { tree, order, symbolTable } = props;\r\n\r\n  const { t } = useTranslation();\r\n  const viewportRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const data = hierarchy(tree, (d) => {\r\n    switch (d.nodeType) {\r\n      case SyntaxTreeNodeType.CONST:\r\n        return null;\r\n      case SyntaxTreeNodeType.IDEN:\r\n        return null;\r\n      case SyntaxTreeNodeType.UNARY:\r\n        return [d.child];\r\n      case SyntaxTreeNodeType.BINARY:\r\n        return [d.left, d.right];\r\n    }\r\n  });\r\n\r\n  const viewportWidth =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().width;\r\n\r\n  const viewportHeight =\r\n    viewportRef.current === null\r\n      ? 0\r\n      : viewportRef.current.getBoundingClientRect().height;\r\n\r\n  const treeWidth = (data.leaves().length + 1) * 150;\r\n  const treeHeight = (data.height + 1) * 100;\r\n  const nodeRadius = 30;\r\n\r\n  return (\r\n    <Box\r\n      ref={viewportRef}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      position=\"relative\"\r\n    >\r\n      <Zoom<SVGSVGElement>\r\n        width={viewportWidth}\r\n        height={viewportHeight}\r\n        scaleXMin={1 / 10}\r\n        scaleXMax={1}\r\n        scaleYMin={1 / 10}\r\n        scaleYMax={1}\r\n      >\r\n        {(zoom) => (\r\n          <Fragment>\r\n            <svg\r\n              width={viewportWidth}\r\n              height={viewportHeight}\r\n              ref={zoom.containerRef}\r\n              style={{\r\n                touchAction: \"none\",\r\n                cursor: zoom.isDragging\r\n                  ? \"grabbing\"\r\n                  : \"grab\",\r\n              }}\r\n              onMouseDown={zoom.dragStart}\r\n              onMouseMove={zoom.dragMove}\r\n              onMouseUp={zoom.dragEnd}\r\n              onMouseLeave={zoom.dragEnd}\r\n            >\r\n              <Group transform={zoom.toString()}>\r\n                <VisxTree\r\n                  root={data}\r\n                  size={[treeWidth, -treeHeight]}\r\n                >\r\n                  {(treeHeir) => (\r\n                    <Group\r\n                      top={treeHeight + nodeRadius * 1.5}\r\n                    >\r\n                      {treeHeir.links().map((link, i) => (\r\n                        <TreeGraphLink\r\n                          key={`link-${i}`}\r\n                          order={order}\r\n                          link={link}\r\n                        />\r\n                      ))}\r\n                      {treeHeir\r\n                        .descendants()\r\n                        .map((node, i) => (\r\n                          <TreeGraphNode\r\n                            key={`node-${i}`}\r\n                            order={order}\r\n                            node={node}\r\n                            symbolTable={symbolTable}\r\n                            r={nodeRadius}\r\n                          />\r\n                        ))}\r\n                    </Group>\r\n                  )}\r\n                </VisxTree>\r\n              </Group>\r\n            </svg>\r\n            <StyledFAB\r\n              onClick={zoom.center}\r\n              title={t(\"playground.graph.center\")}\r\n            >\r\n              <ControlCameraRounded />\r\n            </StyledFAB>\r\n          </Fragment>\r\n        )}\r\n      </Zoom>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport const Tree = memo(Tree_, (prev, next) => {\r\n  if (prev.order !== next.order) {\r\n    return false;\r\n  }\r\n\r\n  if (\r\n    exprTreeToLatex(prev.tree).localeCompare(\r\n      exprTreeToLatex(next.tree)\r\n    ) !== 0\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  for (const [\r\n    symbol,\r\n    value,\r\n  ] of prev.symbolTable.entries()) {\r\n    if (next.symbolTable.get(symbol) !== value) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n});\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Paper, Stack, SxProps } from \"@mui/material\";\r\nimport { FC, useEffect, useRef, useState } from \"react\";\r\nimport { GraphControl } from \"./GraphControl\";\r\nimport { Tree } from \"./Tree\";\r\n\r\ntype GraphProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n  slotProps: {\r\n    container: SxProps;\r\n  };\r\n};\r\nexport const Graph: FC<GraphProps> = (props) => {\r\n  const { exprTree, symbolTable, slotProps } = props;\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [maxStep, setMaxStep] = useState(1);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const isPlayingRef = useRef(isPlaying);\r\n  const currentFrameRef = useRef(step);\r\n\r\n  useEffect(() => {\r\n    isPlayingRef.current = isPlaying;\r\n  }, [isPlaying]);\r\n\r\n  useEffect(() => {\r\n    currentFrameRef.current = step;\r\n  }, [step]);\r\n\r\n  useEffect(() => {\r\n    if (isPlaying) {\r\n      intervalRef.current = setInterval(() => {\r\n        if (isPlayingRef.current) {\r\n          setStep((prev) => {\r\n            if (prev < maxStep) {\r\n              return prev + 1;\r\n            }\r\n            setIsPlaying(false);\r\n            isPlayingRef.current = false;\r\n            return prev;\r\n          });\r\n        }\r\n      }, 750);\r\n    }\r\n    return () =>\r\n      clearInterval(intervalRef.current ?? undefined);\r\n  }, [isPlaying, maxStep, step]);\r\n\r\n  useEffect(() => {\r\n    setStep(1);\r\n    setMaxStep(exprTree.order + 1);\r\n  }, [exprTree]);\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={slotProps.container}\r\n      >\r\n        <Tree\r\n          order={step}\r\n          tree={exprTree}\r\n          symbolTable={symbolTable}\r\n        />\r\n      </Paper>\r\n      <GraphControl\r\n        maxValue={maxStep}\r\n        minValue={1}\r\n        value={step}\r\n        onChange={setStep}\r\n        isAnimationPlaying={isPlaying}\r\n        onAnimationPause={() => {\r\n          setIsPlaying(false);\r\n        }}\r\n        onAnimationPlay={() => {\r\n          setIsPlaying(true);\r\n        }}\r\n        onAnimationReplay={() => {\r\n          setStep(1);\r\n          setIsPlaying(true);\r\n        }}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport {\r\n  SymbolTable,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { exprTreeToLatex } from \"./tree/expr/latex\";\r\n\r\nexport type EvaluationStep = {\r\n  repr: string;\r\n  substitutions: {\r\n    substituted: string;\r\n    repr: string;\r\n    stepRef: number | false;\r\n    evaluated: boolean;\r\n  }[];\r\n  evaluated: boolean;\r\n};\r\n\r\nconst traverse = (\r\n  tree: ExprTree,\r\n  table: SymbolTable,\r\n  steps: EvaluationStep[]\r\n) => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n      return;\r\n    case SyntaxTreeNodeType.IDEN:\r\n      {\r\n        const evaluated = tree.eval(table);\r\n        const repr = tree.repr;\r\n        steps.push({\r\n          repr,\r\n          evaluated,\r\n          substitutions: [\r\n            {\r\n              repr,\r\n              evaluated,\r\n              stepRef: false,\r\n              substituted: `\\\\text{${evaluated}}`,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeType.UNARY:\r\n      {\r\n        const { child } = tree;\r\n\r\n        const childEval = child.eval(table);\r\n        let childStep: number | false = false;\r\n\r\n        if (\r\n          child.nodeType !== SyntaxTreeNodeType.CONST &&\r\n          child.nodeType !== SyntaxTreeNodeType.IDEN\r\n        ) {\r\n          traverse(child, table, steps);\r\n          childStep = steps.length;\r\n        }\r\n\r\n        // not (x and y)\r\n        // From (9), x and y === True\r\n        // not True\r\n        // False\r\n\r\n        const substitutions: EvaluationStep[\"substitutions\"] =\r\n          [];\r\n        if (child.nodeType !== SyntaxTreeNodeType.CONST) {\r\n          substitutions.push({\r\n            repr: exprTreeToLatex(child),\r\n            evaluated: childEval,\r\n            stepRef: childStep,\r\n            substituted: `\\\\lnot \\\\text{${childEval}}`,\r\n          });\r\n        }\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          substitutions,\r\n          evaluated: tree.eval(table),\r\n        });\r\n      }\r\n      break;\r\n    case SyntaxTreeNodeType.BINARY:\r\n      {\r\n        const { right, left } = tree;\r\n\r\n        const leftEval = left.eval(table);\r\n        const leftSubstituted = `\\\\text{${leftEval}}`;\r\n        let leftStep: number | false = false;\r\n        if (\r\n          left.nodeType !== SyntaxTreeNodeType.CONST &&\r\n          left.nodeType !== SyntaxTreeNodeType.IDEN\r\n        ) {\r\n          traverse(left, table, steps);\r\n          leftStep = steps.length;\r\n        }\r\n\r\n        const rightEval = right.eval(table);\r\n        const rightRawRepr = exprTreeToLatex(right);\r\n        const rightRepr =\r\n          right.nodeType === SyntaxTreeNodeType.BINARY\r\n            ? `( ${rightRawRepr} )`\r\n            : rightRawRepr;\r\n        const rightSubstituted = `\\\\text{${rightEval}}`;\r\n        let rightStep: number | false = false;\r\n        if (\r\n          right.nodeType !== SyntaxTreeNodeType.CONST &&\r\n          right.nodeType !== SyntaxTreeNodeType.IDEN\r\n        ) {\r\n          traverse(right, table, steps);\r\n          rightStep = steps.length;\r\n        }\r\n\r\n        // (x and y) and (y and z)\r\n        // From (9), x and y === True\r\n        // True and (y and z)\r\n        // From (10), y and z === True\r\n        // True and True\r\n        // True\r\n\r\n        const substitutions: EvaluationStep[\"substitutions\"] =\r\n          [];\r\n\r\n        if (left.nodeType !== SyntaxTreeNodeType.CONST) {\r\n          substitutions.push({\r\n            repr: exprTreeToLatex(left),\r\n            evaluated: leftEval,\r\n            stepRef: leftStep,\r\n            substituted: `${leftSubstituted} ${tree.repr} ${rightRepr}`,\r\n          });\r\n        }\r\n\r\n        if (right.nodeType !== SyntaxTreeNodeType.CONST) {\r\n          substitutions.push({\r\n            repr: rightRawRepr,\r\n            evaluated: rightEval,\r\n            stepRef: rightStep,\r\n            substituted: `${leftSubstituted} ${tree.repr} ${rightSubstituted}`,\r\n          });\r\n        }\r\n\r\n        steps.push({\r\n          repr: exprTreeToLatex(tree),\r\n          evaluated: tree.eval(table),\r\n          substitutions,\r\n        });\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nexport const exprTreeFlattenStepByStep = (\r\n  tree: ExprTree,\r\n  symbolTable: SymbolTable\r\n) => {\r\n  const steps: EvaluationStep[] = [];\r\n  traverse(tree, symbolTable, steps);\r\n  return steps;\r\n};\r\n","import { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { EvaluationStep } from \"$core/exprTreeFlattenStepByStep\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\n\r\ntype EvaluationDisplayStepMiniProps = {\r\n  references: EvaluationStep[];\r\n  subStep: EvaluationStep[\"substitutions\"][number];\r\n  stepIndex: number;\r\n  subStepIndex: number;\r\n};\r\nexport const EvaluationDisplayStepMini: FC<\r\n  EvaluationDisplayStepMiniProps\r\n> = (props) => {\r\n  const { subStep, references, subStepIndex, stepIndex } =\r\n    props;\r\n  const prevMarker = String.fromCharCode(subStepIndex + 97);\r\n  const currMarker = String.fromCharCode(\r\n    subStepIndex + 97 + 1\r\n  );\r\n\r\n  const { substituted, evaluated, repr, stepRef } = subStep;\r\n\r\n  if (stepRef === false) {\r\n    return (\r\n      <StyledLatex>\r\n        {`Given $${repr}$ is ${evaluated}, rewrite $${repr}$ with ${evaluated} in $\\\\text{(${stepIndex}.${prevMarker})}$, $$${substituted}.\\\\tag{${stepIndex}.${currMarker}}$$`}\r\n      </StyledLatex>\r\n    );\r\n  }\r\n\r\n  const refRepr = references[stepRef - 1].repr;\r\n\r\n  return (\r\n    <Stack>\r\n      <StyledLatex>\r\n        {`From $\\\\text{(${stepRef}.a)}$, $$${refRepr}$$ is ${evaluated}.`}\r\n      </StyledLatex>\r\n      <StyledLatex>\r\n        {`Substitute into $\\\\text{(${stepIndex}.${prevMarker})}$, $$${substituted}.\\\\tag{${stepIndex}.${currMarker}}$$`}\r\n      </StyledLatex>\r\n    </Stack>\r\n  );\r\n};\r\n","import { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { EvaluationStep } from \"$core/exprTreeFlattenStepByStep\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { EvaluationDisplayStepMini } from \"./EvaluationDisplayStepMini\";\r\n\r\ntype EvaluationDisplayProps = {\r\n  stepIndex: number;\r\n  step: EvaluationStep;\r\n  references: EvaluationStep[];\r\n};\r\nexport const EvaluationDisplayStep: FC<\r\n  EvaluationDisplayProps\r\n> = (props) => {\r\n  const { step, stepIndex, references } = props;\r\n  const { evaluated, repr, substitutions } = step;\r\n  const tagMaker = `${stepIndex}.a`;\r\n  return (\r\n    <Stack spacing={1}>\r\n      <StyledLatex sx={{ fontWeight: 700 }}>\r\n        {`Step ${stepIndex} of ${references.length}`}\r\n      </StyledLatex>\r\n      <StyledLatex>\r\n        {`Consider the expression $$${repr}.\\\\tag{${tagMaker}}$$`}\r\n      </StyledLatex>\r\n      {substitutions.map((subStep, subStepIndex) => (\r\n        <EvaluationDisplayStepMini\r\n          stepIndex={stepIndex}\r\n          subStepIndex={subStepIndex}\r\n          key={\"sub-step\" + stepIndex + subStepIndex}\r\n          subStep={subStep}\r\n          references={references}\r\n        />\r\n      ))}\r\n      <StyledLatex>\r\n        {`By the truth table of the connective, $\\\\text{(${tagMaker})}$ is ${evaluated}.`}\r\n      </StyledLatex>\r\n    </Stack>\r\n  );\r\n};\r\n","import { EvaluationGraph } from \"$components/EvaluationGraph\";\r\nimport { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { exprTreeFlattenStepByStep } from \"$core/exprTreeFlattenStepByStep\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { Stack, Typography } from \"@mui/material\";\r\nimport { FC, memo, useMemo } from \"react\";\r\nimport { EvaluationDisplayStep } from \"./EvaluationDisplayStep\";\r\n\r\ntype EvaluationDisplayProps = {\r\n  exprTree: ExprTree;\r\n  symbolTable: SymbolTable;\r\n};\r\nconst EvaluationDisplay_: FC<EvaluationDisplayProps> = (\r\n  props\r\n) => {\r\n  const { exprTree, symbolTable } = props;\r\n\r\n  const steps = useMemo(\r\n    () => exprTreeFlattenStepByStep(exprTree, symbolTable),\r\n    [exprTree, symbolTable]\r\n  );\r\n\r\n  if (steps.length === 0) {\r\n    return (\r\n      <Typography fontStyle=\"italic\">\r\n        No step to display.\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  const { evaluated, repr } = steps.at(-1)!;\r\n\r\n  return (\r\n    <Stack spacing={2}>\r\n      <EvaluationGraph\r\n        exprTree={exprTree}\r\n        symbolTable={symbolTable}\r\n        slotProps={{\r\n          container: {\r\n            height: { xs: \"50vh\", md: \"66vh\" },\r\n          },\r\n        }}\r\n      />\r\n      {steps.map((step, index) => (\r\n        <EvaluationDisplayStep\r\n          key={\"step\" + index}\r\n          step={step}\r\n          stepIndex={index + 1}\r\n          references={steps}\r\n        />\r\n      ))}\r\n      <StyledLatex>\r\n        {`Therefore, the expression $$${repr}$$ is ${evaluated}.`}\r\n      </StyledLatex>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport const EvaluationDisplay = memo(\r\n  EvaluationDisplay_,\r\n  (prev, next) => {\r\n    if (\r\n      exprTreeToLatex(prev.exprTree) !==\r\n      exprTreeToLatex(next.exprTree)\r\n    ) {\r\n      return false;\r\n    }\r\n    for (const [k, v] of prev.symbolTable.entries()) {\r\n      if (next.symbolTable.get(k) !== v) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n);\r\n","import { ExprTree } from \"$types/expression-tree\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { InfoRounded } from \"@mui/icons-material\";\r\nimport { TabContext, TabList, TabPanel } from \"@mui/lab\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  Stack,\r\n  Tab,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { EvaluationDisplay } from \"./EvaluationDisplay\";\r\n\r\ntype EvaluationDisplayManyProps = {\r\n  symbolTable: SymbolTable;\r\n  items: Maybe<{ tree: ExprTree }>[];\r\n};\r\nexport const EvaluationDisplayMany: FC<\r\n  EvaluationDisplayManyProps\r\n> = (props) => {\r\n  const { items: items, symbolTable } = props;\r\n\r\n  const { palette } = useTheme();\r\n  const [tab, setTab] = useState(() => {\r\n    return items.findIndex((item) => item.ok);\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTab(items.findIndex((item) => item.ok));\r\n  }, [items]);\r\n\r\n  const validExpressions = items.filter((item) => item.ok);\r\n  if (validExpressions.length === 0) {\r\n    return (\r\n      <Alert\r\n        icon={false}\r\n        severity=\"info\"\r\n      >\r\n        <AlertTitle>\r\n          <Stack\r\n            direction=\"row\"\r\n            flexWrap=\"wrap\"\r\n            alignItems=\"flex-end\"\r\n            spacing={2}\r\n            useFlexGap\r\n          >\r\n            <InfoRounded />\r\n            <Typography fontWeight={900}>\r\n              {`Notice`}\r\n            </Typography>\r\n          </Stack>\r\n        </AlertTitle>\r\n        <Typography>\r\n          {`No step-by-step evaluation to display`}\r\n        </Typography>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TabContext value={tab}>\r\n      <TabList\r\n        onChange={(_, v) => setTab(v as number)}\r\n        variant=\"scrollable\"\r\n        scrollButtons=\"auto\"\r\n        sx={{ paddingX: 0 }}\r\n        textColor=\"inherit\"\r\n      >\r\n        {items.map((item, index) => {\r\n          if (!item.ok) {\r\n            return null;\r\n          }\r\n          return (\r\n            <Tab\r\n              key={\"tab\" + index}\r\n              value={index}\r\n              disableRipple\r\n              label={`EXPRESSION (${index + 1})`}\r\n              sx={{\r\n                color: palette.primary.dark,\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </TabList>\r\n      {items.map((item, index) => {\r\n        if (!item.ok) {\r\n          return null;\r\n        }\r\n        return (\r\n          <TabPanel\r\n            key={\"tab-panel\" + index}\r\n            value={index}\r\n            sx={{ padding: 0 }}\r\n          >\r\n            <EvaluationDisplay\r\n              exprTree={item.tree}\r\n              symbolTable={symbolTable}\r\n            />\r\n          </TabPanel>\r\n        );\r\n      })}\r\n    </TabContext>\r\n  );\r\n};\r\n","import { SymbolTable } from \"$types/syntax-tree\";\r\nimport { InfoRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Grid2,\r\n  Radio,\r\n  RadioGroup,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { FC, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StyledLatex } from \"../Styled/StyledLatex\";\r\n\r\ntype PropositionConfigProps = {\r\n  value: SymbolTable;\r\n  onChange: (k: string, v: boolean) => void;\r\n};\r\nexport const PropositionConfig: FC<\r\n  PropositionConfigProps\r\n> = (props) => {\r\n  const { value, onChange } = props;\r\n\r\n  const { t } = useTranslation(\"translation\");\r\n\r\n  const symbols = useMemo(() => {\r\n    return [...value.keys()].toSorted((a, b) =>\r\n      a.localeCompare(b)\r\n    );\r\n  }, [value]);\r\n\r\n  if (symbols.length === 0) {\r\n    return (\r\n      <Alert\r\n        icon={false}\r\n        severity=\"info\"\r\n      >\r\n        <AlertTitle>\r\n          <Stack\r\n            direction=\"row\"\r\n            flexWrap=\"wrap\"\r\n            alignItems=\"flex-end\"\r\n            spacing={2}\r\n            useFlexGap\r\n          >\r\n            <InfoRounded />\r\n            <Typography fontWeight={900}>\r\n              {`Notice`}\r\n            </Typography>\r\n          </Stack>\r\n        </AlertTitle>\r\n        <Typography>{`No proposition to display.`}</Typography>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Grid2\r\n      container\r\n      width=\"100%\"\r\n      sx={{\r\n        maxHeight: 400,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      {symbols.map((sym) => (\r\n        <Grid2\r\n          key={\"symbol-\" + sym}\r\n          size={{ xs: 12, md: 4 }}\r\n        >\r\n          <FormControl fullWidth>\r\n            <FormLabel>\r\n              <StyledLatex>{`$${sym}$`}</StyledLatex>\r\n            </FormLabel>\r\n            <RadioGroup\r\n              row\r\n              value={value.get(sym) ? \"1\" : \"0\"}\r\n              onChange={(_, value) =>\r\n                onChange(sym, value === \"1\")\r\n              }\r\n            >\r\n              <FormControlLabel\r\n                disableTypography\r\n                control={<Radio />}\r\n                value=\"1\"\r\n                label={\r\n                  <Typography>\r\n                    {t(\"component.playground.config.true\")}\r\n                  </Typography>\r\n                }\r\n              />\r\n              <FormControlLabel\r\n                control={<Radio />}\r\n                value=\"0\"\r\n                disableTypography\r\n                label={\r\n                  <Typography>\r\n                    {t(\"component.playground.config.false\")}\r\n                  </Typography>\r\n                }\r\n              />\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid2>\r\n      ))}\r\n    </Grid2>\r\n  );\r\n};\r\n","import { EvaluationDisplayMany } from \"$components/EvaluationDisplay\";\r\nimport { ExpressionCard } from \"$components/ExpressionCard\";\r\nimport { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { TruthTable } from \"$components/TruthTable\";\r\nimport { exprTreeToLatex } from \"$core/tree/expr/latex\";\r\nimport { ExprTree } from \"$types/expression-tree\";\r\nimport { Maybe } from \"$types/generic\";\r\nimport { SymbolTable } from \"$types/syntax-tree\";\r\nimport { InfoRounded } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  AlertTitle,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC, Fragment, useEffect, useState } from \"react\";\r\nimport { PropositionConfig } from \"./PropositionConfig\";\r\n\r\ntype EvaluatorOutputGroupProps = {\r\n  symbolSet: Set<string>;\r\n  expressions: Maybe<{ tree: ExprTree }>[];\r\n};\r\nexport const EvaluatorOutputGroup: FC<\r\n  EvaluatorOutputGroupProps\r\n> = (props) => {\r\n  const { symbolSet, expressions } = props;\r\n\r\n  const { typography, palette } = useTheme();\r\n  const [symbolTable, setSymbolTable] = useState(() => {\r\n    const next: SymbolTable = new Map();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    return next;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const next: SymbolTable = new Map();\r\n    for (const symbol of symbolSet) {\r\n      next.set(symbol, true);\r\n    }\r\n    setSymbolTable(next);\r\n  }, [symbolSet]);\r\n\r\n  const validExpressions = expressions.filter(\r\n    (expr) => expr.ok\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <Typography\r\n        fontWeight={900}\r\n        fontSize={typography.h3.fontSize}\r\n        sx={{ color: palette.primary.dark }}\r\n      >\r\n        {\"Evaluation Result\"}\r\n      </Typography>\r\n      <PropositionConfig\r\n        value={symbolTable}\r\n        onChange={(k, v) =>\r\n          setSymbolTable((prev) => {\r\n            const next = new Map(prev);\r\n            next.set(k, v);\r\n            return next;\r\n          })\r\n        }\r\n      />\r\n      {validExpressions.length === 0 && (\r\n        <Alert\r\n          icon={false}\r\n          severity=\"info\"\r\n        >\r\n          <AlertTitle>\r\n            <Stack\r\n              direction=\"row\"\r\n              flexWrap=\"wrap\"\r\n              alignItems=\"flex-end\"\r\n              spacing={2}\r\n              useFlexGap\r\n            >\r\n              <InfoRounded />\r\n              <Typography fontWeight={900}>\r\n                {`Notice`}\r\n              </Typography>\r\n            </Stack>\r\n          </AlertTitle>\r\n          <Typography>{`No evaluation result to display.`}</Typography>\r\n        </Alert>\r\n      )}\r\n      {validExpressions.length > 0 &&\r\n        expressions.map((expr, index) => {\r\n          if (!expr.ok) {\r\n            return <Fragment key={\"eval\" + index} />;\r\n          }\r\n          const result = expr.tree.eval(symbolTable);\r\n          const exprLatex = exprTreeToLatex(expr.tree);\r\n          const itemNum = index + 1;\r\n          return (\r\n            <ExpressionCard\r\n              primary={\r\n                <>\r\n                  <StyledLatex>\r\n                    {`$$${exprLatex} \\\\tag{${itemNum}}$$`}\r\n                  </StyledLatex>\r\n                  <StyledLatex>\r\n                    {`$$\\\\equiv\\\\textbf{${result}}$$`}\r\n                  </StyledLatex>\r\n                </>\r\n              }\r\n              secondary={\r\n                <TruthTable\r\n                  exprTree={expr.tree}\r\n                  slotProps={{\r\n                    container: { maxHeight: \"40vh\" },\r\n                  }}\r\n                />\r\n              }\r\n            />\r\n          );\r\n        })}\r\n      <Typography\r\n        fontWeight={900}\r\n        fontSize={typography.h3.fontSize}\r\n        sx={{ color: palette.primary.dark }}\r\n      >\r\n        {\"Step-by-step Evaluation\"}\r\n      </Typography>\r\n      <EvaluationDisplayMany\r\n        symbolTable={symbolTable}\r\n        items={expressions}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n","import { AppNavGroup } from \"$components/common/AppNavMenu\";\r\nimport { Editor } from \"$components/Editor/Editor\";\r\nimport { InputDisplayMany } from \"$components/InputTable\";\r\nimport { EvaluatorOutputGroup } from \"$components/math/EvaluatorOutputGroup\";\r\nimport { exprTreeFromSyntaxTree } from \"$core/tree/conversion\";\r\nimport { BaseLayout } from \"$layouts/BaseLayout\";\r\nimport { EvaluatorRouteLoaderData } from \"$types/loader-data\";\r\nimport { Stack, Typography, useTheme } from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const EvaluatorView: FC = () => {\r\n  const {\r\n    symbols,\r\n    expressions,\r\n    userInput: prevUserInput,\r\n  } = useLoaderData() as EvaluatorRouteLoaderData;\r\n  const theme = useTheme();\r\n  const submit = useSubmit();\r\n  const { t } = useTranslation();\r\n  const [userInput, setUserInput] = useState(prevUserInput);\r\n\r\n  useEffect(() => {\r\n    setUserInput(prevUserInput);\r\n  }, [prevUserInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/evaluator\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <BaseLayout\r\n      appHeader={<AppNavGroup />}\r\n      banner={t(`evaluator`)}\r\n    >\r\n      <Stack spacing={8}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"p and q, p or q, p implies q, p iff q\"\r\n          onSubmit={handleSubmit}\r\n        />\r\n        {prevUserInput.trim().length > 0 && (\r\n          <Stack spacing={2}>\r\n            <Stack>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={theme.typography.h3.fontSize}\r\n              >\r\n                {\"Input Interpretation\"}\r\n              </Typography>\r\n              <InputDisplayMany expressions={expressions} />\r\n            </Stack>\r\n            <EvaluatorOutputGroup\r\n              symbolSet={symbols}\r\n              expressions={expressions.map((expr) =>\r\n                expr.ok\r\n                  ? {\r\n                      ok: true,\r\n                      tree: exprTreeFromSyntaxTree(\r\n                        expr.tree\r\n                      ),\r\n                    }\r\n                  : { ok: false }\r\n              )}\r\n            />\r\n          </Stack>\r\n        )}\r\n      </Stack>\r\n    </BaseLayout>\r\n  );\r\n};\r\n","import { BaseLayout } from \"$layouts/BaseLayout\";\r\nimport { PALETTE_CHECKER_ROUTE } from \"$theme/palette-checker-route\";\r\nimport { PALETTE_COMPARATOR_ROUTE } from \"$theme/palette-comparator-route\";\r\nimport { PALETTE_EVALUATOR_ROUTE } from \"$theme/palette-evaluator-route\";\r\nimport { PALETTE_REWRITER_ROUTE } from \"$theme/palette-rewriter-route\";\r\nimport {\r\n  BalanceRounded,\r\n  BorderColorRounded,\r\n  CalculateRounded,\r\n  RuleRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  CardHeader,\r\n  Grid2,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router\";\r\n\r\nconst CARDS = [\r\n  {\r\n    id: \"evaluator\",\r\n    icon: <CalculateRounded fontSize=\"inherit\" />,\r\n    palette: PALETTE_EVALUATOR_ROUTE,\r\n  },\r\n  {\r\n    id: \"comparator\",\r\n    icon: <BalanceRounded fontSize=\"inherit\" />,\r\n    palette: PALETTE_COMPARATOR_ROUTE,\r\n  },\r\n  {\r\n    id: \"checker\",\r\n    icon: <RuleRounded fontSize=\"inherit\" />,\r\n    palette: PALETTE_CHECKER_ROUTE,\r\n  },\r\n  {\r\n    id: \"rewriter\",\r\n    icon: <BorderColorRounded fontSize=\"inherit\" />,\r\n    palette: PALETTE_REWRITER_ROUTE,\r\n  },\r\n];\r\n\r\nconst LANGUAGES = [\"en\", \"th\"];\r\n\r\nexport const HomeView: FC = () => {\r\n  const { t, i18n } = useTranslation(\"views\", {\r\n    keyPrefix: \"home-view\",\r\n  });\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <BaseLayout\r\n      banner={t(`boolean-algebra-interpreter`)}\r\n      appHeader={\r\n        <Stack\r\n          useFlexGap\r\n          flexDirection=\"row\"\r\n          flexWrap=\"wrap\"\r\n          spacing={2}\r\n          justifyContent=\"flex-end\"\r\n          width=\"100%\"\r\n        >\r\n          {LANGUAGES.map((lang, index) => {\r\n            const selected =\r\n              lang.localeCompare(i18n.language) === 0\r\n                ? 900\r\n                : undefined;\r\n            return (\r\n              <Typography\r\n                key={\"lang\" + index}\r\n                fontWeight={selected}\r\n                onClick={() => i18n.changeLanguage(lang)}\r\n                sx={{\r\n                  cursor: \"pointer\",\r\n                  textTransform: \"uppercase\",\r\n                }}\r\n              >\r\n                {t(`lang.${lang}`)}\r\n              </Typography>\r\n            );\r\n          })}\r\n        </Stack>\r\n      }\r\n    >\r\n      <Grid2\r\n        container\r\n        columns={{ xs: 1, md: 2 }}\r\n        spacing={4}\r\n      >\r\n        {CARDS.map(({ id, icon, palette }, index) => {\r\n          const href = `/${id}`;\r\n          const title = t(`card.${id}.title`);\r\n          const desc = t(`card.${id}.desc`);\r\n          const { light, dark } = palette.primary;\r\n          return (\r\n            <Grid2\r\n              key={\"card\" + index}\r\n              size={1}\r\n            >\r\n              <Card\r\n                elevation={0}\r\n                sx={{\r\n                  \"height\": \"100%\",\r\n                  \"backgroundColor\": light,\r\n                  \"color\": dark,\r\n                  \"transition\": \"all 0.2s ease-out\",\r\n                  \"&:hover\": {\r\n                    boxShadow: 20,\r\n                  },\r\n                }}\r\n              >\r\n                <CardActionArea\r\n                  disableRipple\r\n                  component={Link}\r\n                  to={href}\r\n                  sx={{ padding: 2, height: \"100%\" }}\r\n                >\r\n                  <CardContent\r\n                    sx={{\r\n                      padding: { xs: 2, md: 4 },\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Typography\r\n                      sx={{\r\n                        fontSize:\r\n                          theme.typography.h1.fontSize,\r\n                      }}\r\n                    >\r\n                      {icon}\r\n                    </Typography>\r\n                  </CardContent>\r\n                  <CardHeader\r\n                    title={title}\r\n                    slotProps={{\r\n                      title: {\r\n                        sx: {\r\n                          fontWeight: 900,\r\n                          textTransform: \"capitalize\",\r\n                        },\r\n                      },\r\n                    }}\r\n                  />\r\n                  <CardContent>\r\n                    <Typography>{desc}</Typography>\r\n                  </CardContent>\r\n                </CardActionArea>\r\n              </Card>\r\n            </Grid2>\r\n          );\r\n        })}\r\n      </Grid2>\r\n    </BaseLayout>\r\n  );\r\n};\r\n","import { Operator } from \"$types/operators\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeBinary,\r\n  SyntaxTreeNodeType,\r\n  SyntaxTreeNodeUnary,\r\n} from \"$types/syntax-tree\";\r\nimport { AND, IMPLIES, NOT, OR } from \"../node\";\r\n\r\ntype RewriteRule = {\r\n  rewrite: (tree: SyntaxTree) => SyntaxTree;\r\n  isApplicable: (\r\n    tree: SyntaxTree,\r\n    basis: Set<Operator>\r\n  ) => boolean;\r\n};\r\nconst REWRITE_REGISTRY = new Map<Operator, RewriteRule[]>();\r\n\r\nconst registerRewriteRule = (\r\n  trigger: Operator,\r\n  isApplicable: (\r\n    tree: SyntaxTree,\r\n    basis: Set<Operator>\r\n  ) => boolean,\r\n  rewrite: (tree: SyntaxTree) => SyntaxTree\r\n) => {\r\n  if (!REWRITE_REGISTRY.has(trigger)) {\r\n    REWRITE_REGISTRY.set(trigger, []);\r\n  }\r\n  REWRITE_REGISTRY.get(trigger)!.push({\r\n    isApplicable,\r\n    rewrite,\r\n  });\r\n};\r\n\r\nregisterRewriteRule(\r\n  Operator.IFF,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.AND, Operator.OR].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return OR(AND(p, q), AND(NOT(p), NOT(q)));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IFF,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.OR, Operator.IMPL].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return NOT(OR(NOT(IMPLIES(p, q)), NOT(IMPLIES(q, p))));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IFF,\r\n  (_, basis) =>\r\n    [Operator.AND, Operator.NOT].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left, right } = tree as SyntaxTreeNodeBinary;\r\n    return NOT(\r\n      AND(\r\n        NOT(AND(left, right)),\r\n        NOT(AND(NOT(left), NOT(right)))\r\n      )\r\n    );\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IFF,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.OR].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left, right } = tree as SyntaxTreeNodeBinary;\r\n    return OR(\r\n      NOT(OR(NOT(left), NOT(right))),\r\n      NOT(OR(left, right))\r\n    );\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IFF,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.IMPL].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left, right } = tree as SyntaxTreeNodeBinary;\r\n    return NOT(\r\n      IMPLIES(\r\n        IMPLIES(left, right),\r\n        NOT(IMPLIES(left, right))\r\n      )\r\n    );\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IMPL,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.AND].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return NOT(AND(p, NOT(q)));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.IMPL,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.OR].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return OR(NOT(p), q);\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.AND,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.OR].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return NOT(OR(NOT(p), NOT(q)));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.AND,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.IMPL].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return NOT(IMPLIES(p, NOT(q)));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.OR,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.AND].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return NOT(AND(NOT(p), NOT(q)));\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.OR,\r\n  (_, basis) =>\r\n    [Operator.NOT, Operator.IMPL].every((op) =>\r\n      basis.has(op)\r\n    ),\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return IMPLIES(NOT(p), q);\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.OR,\r\n  (tree, basis) => {\r\n    if (!basis.has(Operator.IMPL)) {\r\n      return false;\r\n    }\r\n    if (tree.nodeType !== SyntaxTreeNodeType.BINARY) {\r\n      return false;\r\n    }\r\n    return tree.left.nodeType === SyntaxTreeNodeType.UNARY;\r\n  },\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n    return IMPLIES((p as SyntaxTreeNodeUnary).operand, q);\r\n  }\r\n);\r\n\r\nregisterRewriteRule(\r\n  Operator.OR,\r\n  (tree, basis) => {\r\n    if (!basis.has(Operator.IMPL)) {\r\n      return false;\r\n    }\r\n    if (tree.nodeType !== SyntaxTreeNodeType.BINARY) {\r\n      return false;\r\n    }\r\n    return tree.right.nodeType === SyntaxTreeNodeType.UNARY;\r\n  },\r\n  (tree) => {\r\n    const { left: p, right: q } =\r\n      tree as SyntaxTreeNodeBinary;\r\n\r\n    return IMPLIES((q as SyntaxTreeNodeUnary).operand, p);\r\n  }\r\n);\r\n\r\nexport const getRewriteRulesFor = (trigger: Operator) => {\r\n  return REWRITE_REGISTRY.get(trigger) ?? [];\r\n};\r\n","import { Maybe } from \"$types/generic\";\r\nimport { Operator } from \"$types/operators\";\r\nimport {\r\n  SyntaxTree,\r\n  SyntaxTreeNodeType,\r\n} from \"$types/syntax-tree\";\r\nimport { getRewriteRulesFor } from \"./helper/rewrite-rules\";\r\nimport { BINARY, NOT } from \"./node\";\r\nimport { syntaxTreeNormalize } from \"./normalize\";\r\n\r\nconst rewrite = (\r\n  tree: SyntaxTree,\r\n  basis: Set<Operator>\r\n): SyntaxTree | null => {\r\n  switch (tree.nodeType) {\r\n    case SyntaxTreeNodeType.CONST:\r\n    case SyntaxTreeNodeType.IDEN:\r\n      return tree;\r\n    case SyntaxTreeNodeType.UNARY: {\r\n      const operand = rewrite(tree.operand, basis);\r\n      if (operand === null) {\r\n        return null;\r\n      }\r\n\r\n      if (\r\n        operand.nodeType === SyntaxTreeNodeType.UNARY &&\r\n        operand.operator === Operator.NOT\r\n      ) {\r\n        return operand.operand;\r\n      }\r\n\r\n      return NOT(operand);\r\n    }\r\n\r\n    case SyntaxTreeNodeType.BINARY: {\r\n      const left = rewrite(tree.left, basis);\r\n      if (left === null) {\r\n        return null;\r\n      }\r\n      const right = rewrite(tree.right, basis);\r\n      if (right === null) {\r\n        return null;\r\n      }\r\n\r\n      if (basis.has(tree.operator)) {\r\n        return BINARY(tree.operator, left, right);\r\n      }\r\n\r\n      const rules = getRewriteRulesFor(tree.operator);\r\n      for (const rule of rules) {\r\n        if (rule.isApplicable(tree, basis)) {\r\n          return rewrite(\r\n            rule.rewrite(\r\n              BINARY(tree.operator, left, right)\r\n            ),\r\n            basis\r\n          );\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n};\r\n\r\nexport const syntaxTreeRewrite = (\r\n  tree: SyntaxTree,\r\n  basis: Set<Operator>\r\n): Maybe<{ tree: SyntaxTree }> => {\r\n  const normalTree = syntaxTreeNormalize(tree);\r\n  if (\r\n    normalTree.nodeType === SyntaxTreeNodeType.CONST ||\r\n    normalTree.nodeType === SyntaxTreeNodeType.IDEN\r\n  ) {\r\n    return {\r\n      ok: true,\r\n      tree: normalTree,\r\n    };\r\n  }\r\n\r\n  const rewrittenTree = rewrite(tree, basis);\r\n  if (rewrittenTree === null) {\r\n    return { ok: false };\r\n  }\r\n  return {\r\n    ok: true,\r\n    tree: rewrittenTree,\r\n  };\r\n};\r\n","import { AppNavGroup } from \"$components/common/AppNavMenu\";\r\nimport { Editor } from \"$components/Editor/Editor\";\r\nimport { ExpressionCard } from \"$components/ExpressionCard\";\r\nimport { InputDisplayMany } from \"$components/InputTable\";\r\nimport { StyledLatex } from \"$components/Styled/StyledLatex\";\r\nimport { TruthTable } from \"$components/TruthTable\";\r\nimport { operatorToLatex } from \"$core/operator\";\r\nimport { syntaxTreeRewrite } from \"$core/syntax-tree/rewrite\";\r\nimport { syntaxTreeToLatex } from \"$core/syntax-tree/to-latex\";\r\nimport { exprTreeFromSyntaxTree } from \"$core/tree/conversion\";\r\nimport { BaseLayout } from \"$layouts/BaseLayout\";\r\nimport { RewriterRouteLoaderData } from \"$types/loader-data\";\r\nimport { Operator } from \"$types/operators\";\r\nimport {\r\n  Checkbox,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport {\r\n  FC,\r\n  Fragment,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLoaderData, useSubmit } from \"react-router\";\r\n\r\nexport const RewriterView: FC = () => {\r\n  const { userInput: prevUserInput, expressions } =\r\n    useLoaderData() as RewriterRouteLoaderData;\r\n\r\n  const submit = useSubmit();\r\n  const { typography, palette } = useTheme();\r\n  const { t } = useTranslation();\r\n  const [userInput, setUserInput] = useState(prevUserInput);\r\n  const [basis, setBasis] = useState(() => {\r\n    const next = new Map<Operator, boolean>();\r\n    for (const op of Object.values(Operator)) {\r\n      next.set(op, true);\r\n    }\r\n    return next;\r\n  });\r\n\r\n  const basisSet = useMemo(() => {\r\n    return new Set(\r\n      [...basis.entries()]\r\n        .filter(([, isIncluded]) => isIncluded)\r\n        .map(([k]) => k)\r\n    );\r\n  }, [basis]);\r\n\r\n  useEffect(() => {\r\n    setUserInput(prevUserInput);\r\n  }, [prevUserInput]);\r\n\r\n  const handleSubmit = () => {\r\n    submit(\r\n      {\r\n        input: userInput,\r\n      },\r\n      {\r\n        method: \"GET\",\r\n        action: \"/rewriter\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <BaseLayout\r\n      banner={t(\"rewriter\")}\r\n      appHeader={<AppNavGroup />}\r\n    >\r\n      <Stack spacing={8}>\r\n        <Editor\r\n          value={userInput}\r\n          onChange={setUserInput}\r\n          placeholder=\"not (p and q) iff (not p or not q)\"\r\n          onSubmit={handleSubmit}\r\n        />\r\n\r\n        {expressions.length > 0 && (\r\n          <Fragment>\r\n            <Stack>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={typography.h3.fontSize}\r\n              >\r\n                {\"Input Interpretation\"}\r\n              </Typography>\r\n              <InputDisplayMany expressions={expressions} />\r\n            </Stack>\r\n            <Stack spacing={2}>\r\n              <Typography\r\n                fontWeight={900}\r\n                fontSize={typography.h3.fontSize}\r\n              >\r\n                {`Result`}\r\n              </Typography>\r\n              <FormGroup row>\r\n                {Object.values(Operator).map(\r\n                  (operator, index) => (\r\n                    <FormControlLabel\r\n                      key={\"operator\" + index}\r\n                      checked={basis.get(operator)}\r\n                      onChange={(_, value) =>\r\n                        setBasis((prev) => {\r\n                          const next = new Map(prev);\r\n                          next.set(operator, value);\r\n                          return next;\r\n                        })\r\n                      }\r\n                      control={\r\n                        <Checkbox\r\n                          disableRipple\r\n                          disableFocusRipple\r\n                          disableTouchRipple\r\n                        />\r\n                      }\r\n                      label={\r\n                        <StyledLatex>\r\n                          {`$${operatorToLatex(operator)}$`}\r\n                        </StyledLatex>\r\n                      }\r\n                    />\r\n                  )\r\n                )}\r\n              </FormGroup>\r\n              {expressions.map((expr, index) => {\r\n                if (!expr.ok) {\r\n                  return null;\r\n                }\r\n                const rewrittenResult = syntaxTreeRewrite(\r\n                  expr.originalTree,\r\n                  basisSet\r\n                );\r\n                const rewrittenLatex = rewrittenResult.ok\r\n                  ? syntaxTreeToLatex(rewrittenResult.tree)\r\n                  : \"\\\\varnothing\";\r\n\r\n                const itemNum = index + 1;\r\n\r\n                return (\r\n                  <ExpressionCard\r\n                    key={\"result\" + index}\r\n                    primary={\r\n                      rewrittenResult.ok ? (\r\n                        <StyledLatex>\r\n                          {`The formula $$${expr.inputInterpretationLatex}\\\\tag{${itemNum}}$$ can be rewritten to $$${rewrittenLatex}.$$`}\r\n                        </StyledLatex>\r\n                      ) : (\r\n                        <StyledLatex>\r\n                          {`The formula $$${expr.inputInterpretationLatex}\\\\tag{${itemNum}}$$ cannot be expressed in the desired basis.`}\r\n                        </StyledLatex>\r\n                      )\r\n                    }\r\n                    secondary={\r\n                      rewrittenResult.ok ? (\r\n                        <TruthTable\r\n                          exprTree={exprTreeFromSyntaxTree(\r\n                            rewrittenResult.tree\r\n                          )}\r\n                          slotProps={{\r\n                            container: {\r\n                              maxHeight: \"40vh\",\r\n                            },\r\n                          }}\r\n                        />\r\n                      ) : (\r\n                        <StyledLatex\r\n                          sx={{ color: palette.error.main }}\r\n                        >{`$$\\\\varnothing$$`}</StyledLatex>\r\n                      )\r\n                    }\r\n                  />\r\n                );\r\n              })}\r\n            </Stack>\r\n          </Fragment>\r\n        )}\r\n      </Stack>\r\n    </BaseLayout>\r\n  );\r\n};\r\n","import { checkerRouteLoader } from \"$controllers/checker-controller\";\r\nimport { comparatorRouteLoader } from \"$controllers/comparator-controller\";\r\nimport { evaluatorRouteLoader } from \"$controllers/evaluator-controller\";\r\nimport { rewriterRouteLoader } from \"$controllers/rewriter-controller\";\r\nimport \"$core/interpreter/parser\";\r\nimport {\r\n  THEME_CHECKER_ROUTE,\r\n  THEME_COMPARATOR_ROUTE,\r\n  THEME_EVALUATOR_ROUTE,\r\n  THEME_GLOBAL,\r\n  THEME_REWRITER_ROUTE,\r\n} from \"$theme/index\";\r\nimport { CheckerView } from \"$views/CheckerView\";\r\nimport { ComparatorView } from \"$views/ComparatorView\";\r\nimport { ErrorView } from \"$views/ErrorView\";\r\nimport { EvaluatorView } from \"$views/EvaluatorView\";\r\nimport { HomeView } from \"$views/HomeView\";\r\nimport { RewriterView } from \"$views/RewriterView\";\r\nimport {\r\n  CssBaseline,\r\n  GlobalStyles,\r\n  ThemeProvider,\r\n} from \"@mui/material\";\r\nimport { FC } from \"react\";\r\nimport {\r\n  createHashRouter,\r\n  RouterProvider,\r\n} from \"react-router\";\r\n\r\nconst globalStyles = (\r\n  <GlobalStyles\r\n    styles={{\r\n      tableLayout: \"auto\",\r\n      borderCollapse: \"collapse\",\r\n      html: {\r\n        scrollBehavior: \"smooth\",\r\n      },\r\n    }}\r\n  />\r\n);\r\n\r\nconst router = createHashRouter(\r\n  [\r\n    {\r\n      index: true,\r\n      element: <HomeView />,\r\n    },\r\n    {\r\n      path: \"/\",\r\n      errorElement: <ErrorView />,\r\n      children: [\r\n        {\r\n          path: \"/evaluator\",\r\n          element: (\r\n            <ThemeProvider theme={THEME_EVALUATOR_ROUTE}>\r\n              <EvaluatorView />\r\n            </ThemeProvider>\r\n          ),\r\n          loader: evaluatorRouteLoader,\r\n        },\r\n        {\r\n          path: \"/comparator\",\r\n          element: (\r\n            <ThemeProvider theme={THEME_COMPARATOR_ROUTE}>\r\n              <ComparatorView />\r\n            </ThemeProvider>\r\n          ),\r\n          loader: comparatorRouteLoader,\r\n        },\r\n        {\r\n          path: \"/checker\",\r\n          element: (\r\n            <ThemeProvider theme={THEME_CHECKER_ROUTE}>\r\n              <CheckerView />\r\n            </ThemeProvider>\r\n          ),\r\n          loader: checkerRouteLoader,\r\n        },\r\n        {\r\n          path: \"/rewriter\",\r\n          element: (\r\n            <ThemeProvider theme={THEME_REWRITER_ROUTE}>\r\n              <RewriterView />\r\n            </ThemeProvider>\r\n          ),\r\n          loader: rewriterRouteLoader,\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  {\r\n    basename: \"/\",\r\n  }\r\n);\r\n\r\nexport const App: FC = () => {\r\n  return (\r\n    <ThemeProvider theme={THEME_GLOBAL}>\r\n      <CssBaseline />\r\n      {globalStyles}\r\n      <RouterProvider router={router} />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n","export const EN_COMPONENT = {\r\n  math: {\r\n    truthTable: {\r\n      warning:\r\n        \"The truth table for this expression is automatically hidden due to its size. You can press the button below to show the table, but this process can take a long time to complete or even crash the application. For expressions with many propositions, truth table is not the recommemnded way to visualize them.\",\r\n      confirm: \"I understand\",\r\n      title: \"Truth Table\",\r\n    },\r\n  },\r\n  editor: { run: \"Run\", copy: \"Copy\", copied: \"Copied\" },\r\n};\r\n","export const EN_NAV = {\r\n  home: \"Home\",\r\n  solver: \"Solver\",\r\n  evaluator: \"Evaluator\",\r\n  rewriter: \"Rewriter\",\r\n  checker: \"Tautology checker\",\r\n  comparator: \"Comparator\",\r\n};\r\n","export const en = {\r\n  translation: {\r\n    component: {\r\n      playground: {\r\n        config: {\r\n          true: \"True\",\r\n          false: \"False\",\r\n          editTruthValue: \"Modify propositions\",\r\n        },\r\n      },\r\n      common: {\r\n        editor: {\r\n          run: {\r\n            label: \"Run\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    view: {\r\n      solver: {\r\n        truthTable: {\r\n          title: \"Truth Table\",\r\n        },\r\n        stepByStep: {\r\n          title: \"Step-by-step Evaluation\",\r\n        },\r\n        graph: {\r\n          title: \"Step-by-step\",\r\n        },\r\n        feedback: {\r\n          noExpression:\r\n            \"No expression to display. Evaluate one to see how it's interpreted!\",\r\n        },\r\n        howToUse: {\r\n          title: \"Not sure where to begin?\",\r\n          link: \"Read the Manual\",\r\n        },\r\n      },\r\n    },\r\n    common: {\r\n      proposition: \"Proposition\",\r\n      truthValue: \"Truth value\",\r\n      true: \"T\",\r\n      false: \"F\",\r\n      close: \"Close\",\r\n      connectives: {\r\n        negation: \"Negation\",\r\n        conjunction: \"Conjunction\",\r\n        disjunction: \"Disjunction\",\r\n        implication: \"Implication\",\r\n        equivalence: \"Equivalence\",\r\n      },\r\n    },\r\n    editor: {\r\n      originalPanel: \"Original\",\r\n      simplifiedPanel: \"Simplified\",\r\n      howToUse: \"How to use?\",\r\n      run: \"Run\",\r\n      allowedOperatorLabel: \"Connectives to keep\",\r\n    },\r\n    playground: {\r\n      feedback: {\r\n        dialogInfo:\r\n          \"Tap on a circle to modify the truth value of the expression.\",\r\n      },\r\n      graph: {\r\n        noEvaluationToDisplay:\r\n          \"No evaluation step to display. Evaluate an expression to see steps here.\",\r\n        cannotDisplayEvaluation:\r\n          \"Cannot display evaluation step. Please check the expression and try again.\",\r\n        center: \"Center Graph\",\r\n      },\r\n      playback: {\r\n        forward: \"Forward\",\r\n        rewind: \"Rewind\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","export default {\r\n  \"error-view\": {\r\n    \"title\": \"Uh oh, that's not good...\",\r\n    \"return-home\": \"Return to home page\",\r\n  },\r\n  \"checker-view\": {\r\n    \"input-interpretation\": {\r\n      \"title\": \"Input Interpretation\",\r\n      \"interpretation-is-unsuccessful\":\r\n        \"The checker cannot understand this expression.\",\r\n    },\r\n    \"verdict\": {\r\n      \"title\": \"Verdict\",\r\n      \"formula-is-tautology\":\r\n        \"The formula {{eq}} is a tautology.\",\r\n      \"formula-is-contradiction\":\r\n        \"The formula {{eq}} is a contradiction.\",\r\n      \"formula-is-satisfiable\": `The formula {{eq}} is neither a tautology or a contradiction.`,\r\n    },\r\n    \"user-manual\": [],\r\n  },\r\n  \"home-view\": {\r\n    \"lang\": {\r\n      en: \"ENGLISH\",\r\n      th: \"THAI\",\r\n    },\r\n    \"card\": {\r\n      comparator: {\r\n        title: \"Comparator\",\r\n        desc: \"Compare expressions to see which one of them are equivalent.\",\r\n      },\r\n      evaluator: {\r\n        title: \"Evaluator\",\r\n        desc: \"Evaluate expressions according to given truth values.\",\r\n      },\r\n      rewriter: {\r\n        title: \"Rewriter\",\r\n        desc: \"Transform an expression into a different basis.\",\r\n      },\r\n      checker: {\r\n        title: \"Tautology checker\",\r\n        desc: \"Check if an expression is always true, always false, or in-between.\",\r\n      },\r\n    },\r\n    \"boolean-algebra-interpreter\":\r\n      \"Boolean algebra interpreter\",\r\n  },\r\n};\r\n","import i18next from \"i18next\";\r\nimport { default as LangDectector } from \"i18next-browser-languagedetector\";\r\nimport { default as Backend } from \"i18next-http-backend\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { EN_COMPONENT } from \"./en/component\";\r\nimport { EN_NAV } from \"./en/nav\";\r\nimport { en } from \"./en/translation\";\r\nimport EN_VIEWS from \"./en/views\";\r\n\r\ni18next\r\n  .use(Backend)\r\n  .use(LangDectector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    detection: {\r\n      lookupLocalStorage: \"language\",\r\n    },\r\n    resources: {\r\n      en: {\r\n        translation: en.translation,\r\n        component: EN_COMPONENT,\r\n        nav: EN_NAV,\r\n        views: EN_VIEWS,\r\n      },\r\n    },\r\n    debug: true,\r\n  });\r\n\r\nexport default i18next;\r\n","import { App } from \"$App/App\";\nimport \"$locales/config\";\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport \"$core/interpreter/grammar\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n\n"],"names":["Operator","SyntaxTreeNodeType","collectBinaryNodes","operator","left","right","node","i","grammar","ohm.grammar","semantics","leftExpr","_","rightExpr","leftTree","rightTree","expr","_open","_close","_id","id","children","n","parse","content","m","NOT","operand","BINARY","AND","OR","IMPLIES","IFF","CONST","value","syntaxTreeToString","tree","operandRepr","leftRepr","rightRepr","rewriteTree","expandInward","expandedOp","leftExp","rightExp","simplifyDisjunctionClause","clause","clauses","simplified","seen","clauseRepr","collectClause","subClause","flattened","group","syntaxTreeFromClause","nodes","current","syntaxTreeNormalize","normalTree","OPERATOR_REPR","operatorToLatex","op","syntaxTreeToLatex","opRepr","checkerRouteLoader","request","userInputRaw","loaderData","expressions","userInput","parseResult","comparatorRouteLoader","inputRaw","syntaxTreeCollectSymbols","symbols","curr","a","b","evaluatorRouteLoader","symbol","rewriterRouteLoader","input","PALETTE_BASE","createPalette","lightBlue","PALETTE_CHECKER_ROUTE","indigo","PALETTE_COMPARATOR_ROUTE","orange","PALETTE_EVALUATOR_ROUTE","teal","PALETTE_REWRITER_ROUTE","pink","_THEME_GLOBAL","createTheme","responsiveFontSizes","THEME_GLOBAL","THEME_EVALUATOR_ROUTE","THEME_CHECKER_ROUTE","THEME_COMPARATOR_ROUTE","THEME_REWRITER_ROUTE","NAV_ITEMS","AppNavGroup","t","useTranslation","palette","useTheme","pathname","useLocation","Fragment","jsx","Typography","Link","index","target","fontWeight","StyledLatex","props","sx","options","ref","useRef","useEffect","EditorRibbonButton","onClick","open","setOpen","useState","selected","setSelected","anchorRef","jsxs","ButtonGroup","Button","KeyboardArrowDownRounded","Menu","option","isSelected","MenuItem","ListItemIcon","CheckRounded","ListItemText","OPERATOR_TEXT","OPERATOR_SYMBOL","EditorRibbon","Stack","Editor_","placeholder","onChange","onSubmit","inputRef","hasCopied","setHasCopied","cursorStartPos","setCusorStartPos","cursorEndPos","setCusorEndPos","handleInsertChar","text","handleSelect","e","TextField","PlayArrowRounded","ContentCopyRounded","Editor","memo","prev","next","InputDisplayMany","inputNum","Alert","AlertTitle","WarningRounded","List","ListItem","VerdictDisplay","result","originalLatex","ExpressionCard","primary","secondary","isExpanded","setIsExpanded","toggleExpanded","Card","CardActionArea","CardContent","Collapse","StyledAlert","rest","shape","getPermutation","size","perm","permSize","repr","p","j","exprTreeCollectSymbols","exprTree","_exprTreeToLatex","table","child","exprTreeToLatex","exprTreeToLatexSubstitute","symbolMap","traverse","accum","minified","exprTreeFlattenPostOrder","TruthTableCell_","bgColor","lighten","TableCell","TruthTableCell","TruthTable_","slotProps","userConfirmed","setUserConfirmed","columns","TableContainer","Table","TableHead","TableRow","col","TableBody","sym","column","colIndex","TruthTable","OPERATOR_EVAL_FN","l","r","_syntaxTreetoExprTree","orderStart","nodeType","exprTreeFromSyntaxTree","VerdictDisplayMany","InfoRounded","BaseLayout","appHeader","banner","Box","CheckerView","useLoaderData","prevUserInput","submit","useSubmit","typography","setUserInput","handleSubmit","permutation","permStr","exprTreeVerifyTautology","perms","symbolTable","ComparatorView","theme","validExpressions","otherExpr","otherIndex","iffTree","ErrorView","error","useRouteError","CardHeader","CardActions","StyledTooltipIconButton","onKeyPress","title","disabled","Tooltip","IconButton","GraphControl_","maxValue","minValue","isAnimationPlaying","onAnimationPause","onAnimationPlay","onAnimationReplay","handleForward","handleRewind","Slider","v","KeyboardArrowLeftRounded","ReplayRounded","PauseRounded","KeyboardArrowRightRounded","GraphControl","key","StyledFAB","Fab","TreeGraphLink","link","order","source","isSourceVisible","isTargetVisibleNow","isTargetVisibleSoon","isTargetVisible","isLinkVisible","LinkVertical","TreeGraphNode","x","y","data","katex","isNodeHighlighted","isNodeVisibleNow","isNodeVisibleSoon","isNodeVisible","Group","Tree_","viewportRef","hierarchy","d","viewportWidth","viewportHeight","treeWidth","treeHeight","nodeRadius","Zoom","zoom","VisxTree","treeHeir","ControlCameraRounded","Tree","Graph","step","setStep","maxStep","setMaxStep","isPlaying","setIsPlaying","intervalRef","isPlayingRef","currentFrameRef","Paper","steps","evaluated","childEval","childStep","substitutions","leftEval","leftSubstituted","leftStep","rightEval","rightRawRepr","rightSubstituted","rightStep","exprTreeFlattenStepByStep","EvaluationDisplayStepMini","subStep","references","subStepIndex","stepIndex","prevMarker","currMarker","substituted","stepRef","refRepr","EvaluationDisplayStep","tagMaker","EvaluationDisplay_","useMemo","EvaluationGraph","EvaluationDisplay","k","EvaluationDisplayMany","items","tab","setTab","item","TabContext","TabList","Tab","TabPanel","PropositionConfig","Grid2","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","EvaluatorOutputGroup","symbolSet","setSymbolTable","exprLatex","itemNum","EvaluatorView","CARDS","CalculateRounded","BalanceRounded","RuleRounded","BorderColorRounded","LANGUAGES","HomeView","i18n","lang","icon","href","desc","light","dark","REWRITE_REGISTRY","registerRewriteRule","trigger","isApplicable","rewrite","basis","q","getRewriteRulesFor","rules","rule","syntaxTreeRewrite","rewrittenTree","RewriterView","setBasis","basisSet","isIncluded","FormGroup","Checkbox","rewrittenResult","rewrittenLatex","globalStyles","GlobalStyles","router","createHashRouter","ThemeProvider","App","CssBaseline","RouterProvider","EN_COMPONENT","EN_NAV","en","EN_VIEWS","i18next","Backend","LangDectector","initReactI18next","createRoot","StrictMode"],"mappings":"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"}