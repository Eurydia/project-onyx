const{slice:w,forEach:S}=[];function k(n){return S.call(w.call(arguments,1),e=>{if(e)for(const o in e)n[o]===void 0&&(n[o]=e[o])}),n}const d=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,x=function(n,e){const t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(t.maxAge>0){const r=t.maxAge-0;if(Number.isNaN(r))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(r)}`}if(t.domain){if(!d.test(t.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${t.domain}`}if(t.path){if(!d.test(t.path))throw new TypeError("option path is invalid");a+=`; Path=${t.path}`}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},g={create(n,e,o,t){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+o*60*1e3)),t&&(i.domain=t),document.cookie=x(n,encodeURIComponent(e),i)},read(n){const e=`${n}=`,o=document.cookie.split(";");for(let t=0;t<o.length;t++){let i=o[t];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n){this.create(n,"",-1)}};var y={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return g.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:o,cookieMinutes:t,cookieDomain:i,cookieOptions:a}=e;o&&typeof document<"u"&&g.create(o,n,t,i,a)}},v={name:"querystring",lookup(n){var t;let{lookupQuerystring:e}=n,o;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((t=window.location.hash)==null?void 0:t.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const r=i.substring(1).split("&");for(let s=0;s<r.length;s++){const c=r[s].indexOf("=");c>0&&r[s].substring(0,c)===e&&(o=r[s].substring(c+1))}}return o}};let u=null;const f=()=>{if(u!==null)return u;try{u=window!=="undefined"&&window.localStorage!==null;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{u=!1}return u};var b={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&f())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:o}=e;o&&f()&&window.localStorage.setItem(o,n)}};let l=null;const p=()=>{if(l!==null)return l;try{l=window!=="undefined"&&window.sessionStorage!==null;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{l=!1}return l};var D={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&p())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:o}=e;o&&p()&&window.sessionStorage.setItem(o,n)}},L={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:o,userLanguage:t,language:i}=navigator;if(o)for(let a=0;a<o.length;a++)e.push(o[a]);t&&e.push(t),i&&e.push(i)}return e.length>0?e:void 0}},I={name:"htmlTag",lookup(n){let{htmlTag:e}=n,o;const t=e||(typeof document<"u"?document.documentElement:null);return t&&typeof t.getAttribute=="function"&&(o=t.getAttribute("lang")),o}},C={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},U={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const o=typeof e=="number"?e+1:1,t=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(t)return t[o]}};let h=!1;try{document.cookie,h=!0}catch{}const m=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];h||m.splice(1,1);const A=()=>({order:m,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class O{constructor(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,o)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=k(o,this.options||{},A()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=t,this.addDetector(y),this.addDetector(v),this.addDetector(b),this.addDetector(D),this.addDetector(L),this.addDetector(I),this.addDetector(C),this.addDetector(U)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,o=[];return e.forEach(t=>{if(this.detectors[t]){let i=this.detectors[t].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(o=o.concat(i))}}),o=o.map(t=>this.options.convertDetectedLanguage(t)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}cacheUserLanguage(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||o.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}O.type="languageDetector";export{O as B};
//# sourceMappingURL=i18next-browser-languagedetector-Dt8Tv9E6.js.map
